"1.6.7"===fabric.version?(fabric.Object.prototype.offsetCorner=0,fabric.Object.prototype.setCoords=function(){var t=fabric.util.degreesToRadians(this.angle),e=this.getViewportTransform(),n=this._calculateCurrentDimensions(),i=n.x,o=n.y;0>i&&(i=Math.abs(i));var r=Math.sin(t),a=Math.cos(t),s=i>0?Math.atan(o/i):0,l=i/Math.cos(s)/2,c=Math.cos(s+t)*l,u=Math.sin(s+t)*l,d=fabric.util.transformPoint(this.getCenterPoint(),e),h=new fabric.Point(d.x-c,d.y-u),p=new fabric.Point(h.x+i*a,h.y+i*r),f=new fabric.Point(h.x-o*r,h.y+o*a),g=new fabric.Point(d.x+c,d.y+u),m=new fabric.Point((h.x+f.x)/2,(h.y+f.y)/2),v=new fabric.Point((p.x+h.x)/2,(p.y+h.y)/2),y=new fabric.Point((g.x+p.x)/2,(g.y+p.y)/2),w=new fabric.Point((g.x+f.x)/2,(g.y+f.y)/2),b=this.__imageEditor?v.x:p.x,x=this.__imageEditor?v.y:p.y,C=new fabric.Point(b+r*this.rotatingPointOffset,x-a*this.rotatingPointOffset);return this.oCoords={tl:h,tr:p,br:g,bl:f,ml:m,mt:v,mr:y,mb:w,mtr:C},this._setCornerCoords&&this._setCornerCoords(),this},fabric.Textbox.prototype._wrapLine=function(t,e,n){for(var i=0,o=[],r="",a=e.split(" "),s="",l=0,c=0,u=0,d=0,h=0;h<a.length;h++){if(s=a[h],i+=u,(c=this._measureText(t,s,n,l))>this.width){r+=" ";for(var p=s.split("");p.length;)i+(d=this._getWidthOfChar(t,p[0],n,l))>this.width&&(o.push(r),r="",i=0),r+=p.shift(),l++,i+=d;s=""}else i+=c;i>=this.width&&""!==r&&(o.push(r),r="",i=c),(""!==r||1===h)&&(r+=" "),r+=s,l+=s.length,u=this._measureText(t," ",n,l),l++}return h&&o.push(r),0>this.dynamicMinWidth&&(this.dynamicMinWidth=0),o}):(fabric.Object.prototype.offsetCorner=12,fabric.util.object.extend(fabric.Textbox.prototype,{maxWidth:0,fixedWidth:!0,hyphenation:!1,get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,i=n.length,o=0;i>o;o++){if(t<=n[o].length)return{lineIndex:o,charIndex:t};this._longLines[o]&&t++,t-=n[o].length+1}return{lineIndex:o-1,charIndex:n[o-1].length<t?n[o-1].length:t}},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t)),this.hyphenation&&this._renderTextOversize(t)},_renderTextOversize:function(t){for(var e=0,n=0,i=this._textLines.length;i>n;n++){var o=this.measureLine(n).width,r=this._getLineLeftOffset(n),a=this.getHeightOfLine(n);this._longLines[n]&&t.fillRect(this._getLeftOffset()+r+o+2,this._getTopOffset()+e+a/2-1,5,this.fontSize/15),e+=a}},_getNewSelectionStartFromOffset:function(t,e,n,i,o){var r=t.x-e,a=n-t.x,s=i+(a>r||0>a?0:1);this.flipX&&(s=o-s);for(var l=0,c=0,u=0,d=0;d<this._textLines.length&&!((l+=this._textLines[d].length)+c>=s);d++)this._longLines[d]&&(s--,u++),("\n"===this.text[l+c]||" "===this.text[l+c])&&c++;return s>this.text.length&&(s=this.text.length),s-d+c+u},_wrapLine:function(t,e){var n=0,i=[],o=[],r=t.split(this._reSpaceAndTab),a="",s=0,l=0,c=0,u=0,d=!0,h=this._getWidthOfCharSpacing();this._longLines=[];for(var p=this.maxWidth||this.fixedWidth&&this.width,f=!1,g=0;g<r.length;g++){if(a=fabric.util.string.graphemeSplit(r[g]),l=this._measureWord(a,e,s),!this.breakWords)if(p&&l>p){0!=o.length&&(i.push(o),this._longLines.push(f),f=!1,n=0,o=[]);for(var m=0,v=0,y=a.length;y>v&&p-0>=m;v++)m+=this._measureWord(a[v],e,v+s);var w=a.splice(0,v-1);f=!0,r.splice(g,1,w.join(""),a.join("")),g--,d=!0;continue}if((n+=c+l-h)>=this.width)if(this.breakWords){n-=l,o.push(" ");for(var b=a.splice(0);b.length;){var x=this._measureWord(b[0],e,s);n+x>this.width&&(i.push(o),this._longLines.push(!0),o=[],n=0),o.push(b.shift()),s++,n+=x}}else d||(i.push(o),this._longLines.push(f),f=!1,o=[],n=l,d=!0);else n+=h;s+=a.length,d||o.push(" "),o=o.concat(a),c=this._measureWord(" ",e,s),s++,l>u&&(u=l),d=!1}return g&&i.push(o),this._longLines.push(!1),this.breakWords?this.dynamicMinWidth=0:u>this.dynamicMinWidth&&(this.dynamicMinWidth=u-h),i}}),fabric.Object.prototype.calcCoords=function(t){var e=fabric.util.multiplyTransformMatrices,n=fabric.util.transformPoint,i=fabric.util.degreesToRadians,o=this._calcRotateMatrix(),r=e(this._calcTranslateMatrix(),o),a=this.getViewportTransform(),s=t?r:e(a,r),l=this._getTransformedDimensions(),c=l.x/2,u=l.y/2,d=n({x:-c,y:-u},s),h=n({x:c,y:-u},s),p=n({x:-c,y:u},s),f=n({x:c,y:u},s);if(this.offsetCorner){var g=l.x/2+this.offsetCorner,m=l.y/2+this.offsetCorner;d._corner=n({x:-g,y:-m},s),h._corner=n({x:g,y:-m},s),p._corner=n({x:-g,y:m},s),f._corner=n({x:g,y:m},s)}if(!t){if(this.padding){var v=this.padding,y=i(this.angle),w=fabric.util.cos(y),b=fabric.util.sin(y),x=w*v,C=b*v,A=x+C,D=x-C;d.x-=D,d.y-=A,h.x+=A,h.y-=D,p.x-=A,p.y+=D,f.x+=D,f.y+=A,this.offsetCorner&&(d._corner.x-=D,d._corner.y-=A,h._corner.x+=A,h._corner.y-=D,p._corner.x-=A,p._corner.y+=D,f._corner.x+=D,f._corner.y+=A)}var S=new fabric.Point((d.x+p.x)/2,(d.y+p.y)/2),P=new fabric.Point((h.x+d.x)/2,(h.y+d.y)/2),F=new fabric.Point((f.x+h.x)/2,(f.y+h.y)/2),I=new fabric.Point((f.x+p.x)/2,(f.y+p.y)/2),k=this.__imageEditor?P.x:h.x,L=this.__imageEditor?P.y:h.y,E=new fabric.Point(k+b*this.rotatingPointOffset,L-w*this.rotatingPointOffset);this.offsetCorner&&(E._corner=this.__imageEditor?new fabric.Point((h._corner.x+d._corner.x)/2,(h._corner.y+d._corner.y)/2):new fabric.Point(h._corner.x,h._corner.y))}var N={tl:d,tr:h,br:f,bl:p};return t||(N.ml=S,N.mt=P,N.mr=F,N.mb=I,N.mtr=E),N},fabric.Object.prototype._setCornerCoords=function(){var t,e,n=this.oCoords,i=fabric.util.degreesToRadians(45-this.angle),o=.707106*this.cornerSize,r=o*fabric.util.cos(i),a=o*fabric.util.sin(i);for(var s in n)n[s]._corner?(t=n[s]._corner.x,e=n[s]._corner.y):(t=n[s].x,e=n[s].y),n[s].corner={tl:{x:t-a,y:e-r},tr:{x:t+r,y:e-a},bl:{x:t-r,y:e+a},br:{x:t+a,y:e+r}}},fabric.util.snapToGrid=function(t,e,n){if("undefined"!=typeof Symbol){var i=null,o=!0,r=!1,a=void 0;try{for(var s,l=t.x[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=(c+e.offsetX-n)%e.size-n/2,d=Math.abs(u);n>d&&(i||(i={}),i.x=c+d,i.tx=c,i.dx=u)}}catch(t){r=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw a}}var h=!0,p=!1,f=void 0;try{for(var g,m=t.y[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=g.value,y=(v+e.offsetY-n)%e.size-n/2,w=Math.abs(y);n>w&&(i||(i={}),i.y=v+w,i.ty=v,i.dy=y)}}catch(t){p=!0,f=t}finally{try{!h&&m.return&&m.return()}finally{if(p)throw f}}return i&&(i.distance=Math.abs(Math.round(i.dx&&i.dy&&Math.min(Math.abs(i.dx),Math.abs(i.dy))||i.dx||i.dy))),i}},fabric.util.snapToPoints=function(t,e,n){if("undefined"!=typeof Symbol){var i=null,o=n,r=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if(u.points){var d=!0,h=!1,p=void 0;try{for(var f,g=u.points[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var m=f.value,v=!0,y=!1,w=void 0;try{for(var b,x=t.points[Symbol.iterator]();!(v=(b=x.next()).done);v=!0){var C=b.value,A=m.x-C.x,D=m.y-C.y,S=(Math.abs(A)+Math.abs(D))/2;o>S&&(o=S,i={object:u,x:m.x,tx:C.x,dx:A,y:m.y,ty:C.y,dy:D})}}catch(t){y=!0,w=t}finally{try{!v&&x.return&&x.return()}finally{if(y)throw w}}}}catch(t){h=!0,p=t}finally{try{!d&&g.return&&g.return()}finally{if(h)throw p}}}}}catch(t){a=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw s}}return i&&(i.distance=Math.round(Math.min(Math.abs(i.dx),Math.abs(i.dy)))),i}},fabric.util.snapToBounds=function(t,e,n){if("undefined"!=typeof Symbol){var i=null,o=n;if(t.cx){var r=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if(u.cx&&void 0===u.cy){var d=u.cx-t.cx,h=Math.abs(d);o>h&&(o=h,i||(i={}),i.objectX=u,i.x=u.cx,i.tx=t.cx,i.dx=d)}}}catch(t){a=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw s}}}if(o=n,t.cy){var p=!0,f=!1,g=void 0;try{for(var m,v=e[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var y=m.value;if(y.cy&&void 0===y.cx){var w=y.cy-t.cy,b=Math.abs(w);o>b&&(o=b,i||(i={}),i.objectY=y,i.y=y.cy,i.ty=t.cy,i.dy=w)}}}catch(t){f=!0,g=t}finally{try{!p&&v.return&&v.return()}finally{if(f)throw g}}}o=n;var x=!0,C=!1,A=void 0;try{for(var D,S=e[Symbol.iterator]();!(x=(D=S.next()).done);x=!0){var P=D.value;if(P.x){var F=!0,I=!1,k=void 0;try{for(var L,E=(P.x.length?P.x:[P.x])[Symbol.iterator]();!(F=(L=E.next()).done);F=!0){var N=L.value,_=!0,T=!1,O=void 0;try{for(var B,M=t.x[Symbol.iterator]();!(_=(B=M.next()).done);_=!0){var z=B.value,j=N-z,R=Math.abs(j);o>R&&(o=R,i||(i={}),i.objectX=P,i.x=N,i.tx=z,i.dx=j)}}catch(t){T=!0,O=t}finally{try{!_&&M.return&&M.return()}finally{if(T)throw O}}}}catch(t){I=!0,k=t}finally{try{!F&&E.return&&E.return()}finally{if(I)throw k}}}}}catch(t){C=!0,A=t}finally{try{!x&&S.return&&S.return()}finally{if(C)throw A}}o=n;var U=!0,H=!1,W=void 0;try{for(var q,V=e[Symbol.iterator]();!(U=(q=V.next()).done);U=!0){var G=q.value;if(G.y){var Y=!0,J=!1,Z=void 0;try{for(var X,Q=(G.y.length?G.y:[G.y])[Symbol.iterator]();!(Y=(X=Q.next()).done);Y=!0){var K=X.value,$=!0,tt=!1,et=void 0;try{for(var nt,it=t.y[Symbol.iterator]();!($=(nt=it.next()).done);$=!0){var ot=nt.value,rt=K-ot,at=Math.abs(rt);o>at&&(o=at,i||(i={}),i.objectY=G,i.y=K,i.ty=ot,i.dy=rt)}}catch(t){tt=!0,et=t}finally{try{!$&&it.return&&it.return()}finally{if(tt)throw et}}}}catch(t){J=!0,Z=t}finally{try{!Y&&Q.return&&Q.return()}finally{if(J)throw Z}}}}}catch(t){H=!0,W=t}finally{try{!U&&V.return&&V.return()}finally{if(H)throw W}}return i&&(i.distance=Math.abs(Math.round(i.dx&&i.dy&&Math.min(Math.abs(i.dx),Math.abs(i.dy))||i.dx||i.dy))),i}},fabric.util.createSnapObject=function(t){var e=t.calcCoords(!0),n=[e.tl.x,e.tr.x,e.bl.x,e.br.x],i=[e.tl.y,e.tr.y,e.bl.y,e.br.y],o=fabric.util.array.min(n),r=fabric.util.array.max(n),a=fabric.util.array.min(i),s=fabric.util.array.max(i);return{instance:t,points:[e.tl,e.tr,e.br,e.bl],cx:o+(r-o)/2,cy:a+(s-a)/2,x:[o,r],y:[a,s]}},fabric.Canvas.prototype.renderSnapping=function(t,e){function n(t){if(t&&t.points){var e=t.points;i.moveTo(e[0].x,e[0].y);for(var n=e.length;n--;)i.lineTo(e[n].x,e[n].y)}}var i=this.contextTop,o=this.viewportTransform;this._currentTransform&&t&&this.clearContext(i),i.save(),i.strokeStyle=e,i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),i.beginPath(),n(t.object),n(t.objectX),n(t.objectY),n(this.__snapCache.target),t.object&&(i.moveTo(t.tx,t.ty),i.lineTo(t.x,t.y),i.arc(t.x,t.y,2,0,2*Math.PI)),t.objectX&&(i.moveTo(t.x,0),i.lineTo(t.x,this.originalHeight)),t.objectY&&(i.moveTo(0,t.y),i.lineTo(this.originalWidth,t.y)),i.stroke(),i.restore()},fabric.Canvas.prototype.gridSnapMove=function(t){var e=t.area,n=t.objects||this._objects;if(!this.__snapCache){var i=t.guidlines||[];for(var o in n){var r=n[o];r!==t.target&&r.snappable&&r.visible&&i.push(fabric.util.createSnapObject(r))}e&&i.push({instance:this,x:[e.x1,e.x2],y:[e.y1,e.y2]}),this.__snapCache={area:e,objects:i,grid:t.grid}}this.__snapCache.target=fabric.util.createSnapObject(t.target);var a=null,s=fabric.util.snapToPoints(this.__snapCache.target,this.__snapCache.objects,t.tolerance);a||(a=s),a&&s&&s.distance<a.distance&&(a=s);var l=fabric.util.snapToBounds(this.__snapCache.target,this.__snapCache.objects,t.tolerance);if(a||(a=l),a&&l&&l.distance<a.distance&&(a=l),t.grid){var c=fabric.util.snapToGrid(this.__snapCache.target,this.__snapCache.grid,t.tolerance);a||(a=c),a&&c&&c.distance<a.distance&&(a=c)}return a&&(a.dx&&(t.target.left+=a.dx),a.dy&&(t.target.top+=a.dy),this.fire("object:snapto",{e:a})),a},fabric.util.object.extend(fabric.Object.prototype,{snappable:!0}),fabric.util.object.extend(fabric.Canvas.prototype,{tolerance:10,renderSnappingHelperLines:!0,setSnapping:function(t){function e(){this.renderSnappingHelperLines&&this.snapTo&&this.renderSnapping(this.snapTo,"#ffaaaa")}t?(this.on("object:moving",this.gridSnapMoveWrapper),this.on("mouse:up",this.clearSnapping),this.on("after:render",e)):(this.off("object:moving",this.gridSnapMoveWrapper),this.off("mouse:up",this.clearSnapping),this.off("after:render",e)),this.snapping=t},snapping:!1,clearSnapping:function(){delete this.__snapCache,this.clearContext(this.contextTop),this.snapTo=null},gridSnapMoveWrapper:function(t){if("undefined"!=typeof Symbol&&!t.e.shiftKey&&t.target.snappable){var e=[{cx:this.originalWidth/2},{cy:this.originalHeight/2}];if(this.supportLines){var n=!0,i=!1,o=void 0;try{for(var r,a=this.supportLines[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;e.push(s.x?{instance:s,x:s.x}:{instance:s,y:s.y})}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}}if(this.guidlines){var l=!0,c=!1,u=void 0;try{for(var d,h=this.guidlines[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;e.push(p.x?{instance:p,x:p.x}:{instance:p,y:p.y})}}catch(t){c=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}this.snapTo=this.gridSnapMove({tolerance:this.tolerance,guidlines:e,objects:this._objects,target:t.target,area:{x1:this.offsets.left,y1:this.offsets.top,x2:this.originalWidth-this.offsets.right,y2:this.originalHeight-this.offsets.bottom},grid:this.grid&&{offsetX:this.offsets.left-this.grid._gridOffset.x,offsetY:this.offsets.top-this.grid._gridOffset.y,size:this.gridSize}})}}})),fabric.Canvas.prototype._getRotatedCornerCursor=function(t,e){var n=Math.round(e.angle%360/45);switch(0>n&&(n+=8),n+={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7}[t],n%=8,t){case"tl":return e.copyable?"copy":"default";case"bl":return"pointer"}return this.cursorMap[n]},fabric.Text.prototype._constrainScale=function(t){if(Math.abs(t)<this.minScaleLimit)return 0>t?-this.minScaleLimit:this.minScaleLimit;if(void 0!==this.minFontSize&&parseFloat(Number(t*this.fontSize).toFixed(0))<this.minFontSize)return this.minFontSize/this.fontSize;if(void 0!==this.maxFontSize&&parseFloat(Number(t*this.fontSize).toFixed(0))>this.maxFontSize)return this.maxFontSize/this.fontSize;return t},fabric.Object.prototype._drawControl=function(t,e,n,i,o){var r=this.cornerSize,a=r-8,s=this.offsetCorner,l=!1;if(this.isControlVisible(t)){var c=this._calculateCurrentDimensions(),u=c.x;if(c.y,"br"==t||"mtr"==t||"tl"==t||"bl"==t||"ml"==t||"mr"==t||"mb"==t||"mt"==t)switch(t){case"tl":i-=s,o-=s,l=!(!this.__editorMode&&!this.copyable)&&String.fromCharCode("0xe942");break;case"mtr":i=i+(this.__imageEditor?0:u/2)+s,o-=s,l=!(!this.__editorMode&&!this.rotatable||this.uploadZone)&&String.fromCharCode("0xe923");break;case"br":i+=s,o+=s,l=!(!this.__editorMode&&!this.resizable||"textbox"===this.type)&&String.fromCharCode("0xe922");break;case"bl":i-=s,o+=s,l=!(!this.__editorMode&&!this.removable)&&String.fromCharCode("0xe926")}this.transparentCorners||e.clearRect(i,o,r,r);var d="mt"==t||"mb"==t?5:0;e.fillStyle=this.cornerColor,this.__imageEditor?e.fillRect(i,o,r,r):"ml"==t||"mr"==t||"mt"==t||"mb"==t?(e.beginPath(),i+=12,o+=12,e.arc(i,o,4,0,2*Math.PI),e.fillStyle=this.cornerIconColor,e.fill()):l&&(e.fillRect(i,o,r,r),e.font=a+"px FontFPD",e.fillStyle=this.cornerIconColor,e.textAlign="left",e.textBaseline="top",e.fillText(l,i+4+d,o+4))}},fabric.util.object.extend(fabric.Canvas.prototype,{_setSVGObject:function(t,e,n){var i=e.toSVG(n);if(e.clippingRect&&e.visible){var o=new fabric.Rect({left:e.clippingRect.left,top:e.clippingRect.top,fill:"transparent",width:e.clippingRect.width,height:e.clippingRect.height,originX:"left",originY:"top"}),r=o.getCenterPoint(),a=-o.width/2,s=-o.height/2,l=r.x+a,c=r.y+s,u=e.id||++fabric.Object.__uid;t.push('<clipPath id="clip-'+u+'"><rect x="'+l+'" y="'+c+'" width="'+e.clippingRect.width+'" height="'+e.clippingRect.height+'"></rect></clipPath>'),t.push('<g clip-path="url(#clip-'+u+')">'+i+"</g>")}else e.visible&&t.push(i)}}),fabric.util.object.extend(fabric.Text.prototype,{_createTextCharSpan:function(t,e,n,i){e.fontWeight=this.fontWeight,e.fontStyle=this.fontStyle;var o=t!==t.trim()||t.match(/  +/g),r=this.getSvgSpanStyles(e,o),a=(r+="underline"===this.textDecoration?" text-decoration: underline;":"")?'style="'+r+'"':"",s=e.deltaY,l="",c=fabric.Object.NUM_FRACTION_DIGITS;return s&&(l=' dy="'+fabric.util.toFixed(s,c)+'" '),['<tspan x="',fabric.util.toFixed(n,c),'" y="',fabric.util.toFixed(i,c),'" ',l,a,">",fabric.util.string.escapeXml(t),"</tspan>"].join("")}});var FPDPathGroupName="1.6.7"===fabric.version?"path-group":"group",FPDUtil={isIE:function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")&&parseInt(t.split("msie")[1])},rekeyDeprecatedKeys:function(t){for(var e=[{old:"x",replace:"left"},{old:"y",replace:"top"},{old:"degree",replace:"angle"},{old:"currentColor",replace:"fill"},{old:"filters",replace:"availableFilters"},{old:"textSize",replace:"fontSize"},{old:"font",replace:"fontFamily"},{old:"scale",replace:["scaleX","scaleY"]},{old:"uploadZoneScaleMode",replace:"scaleMode"}],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n].old)&&!t.hasOwnProperty(e[n].replace)){var i=e[n].replace;if("object"==typeof i)for(var o=0;o<i.length;++o)t[i[o]]=t[e[n].old];else t[e[n].replace]=t[e[n].old];delete t[e[n].old]}return t},log:function(t,e){return"undefined"!=typeof console&&void("info"===e?console.info(t):"error"===e?console.error(t):"warn"===e?console.warn(t):console.log(t))},isUrl:function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),t},isXML:function(t){try{return xmlDoc=jQuery.parseXML(t),!0}catch(t){return!1}},elementIsColorizable:function(t){if("text"===this.getType(t.type))return"text";if(!t.source)return!1;var e=t.source.split(".");if(1==e.length)return-1==e[0].search("data:image/png;")?(t.fill=t.colors=!1,!1):"dataurl";var n=t.source;return e=(n=n.split("?")[0]).split("."),-1==jQuery.inArray("png",e)&&-1==jQuery.inArray("svg",e)?(t.fill=t.colors=!1,!1):-1==jQuery.inArray("svg",e)?"png":"svg"},getType:function(t){return"text"===t||"i-text"===t||"curvedText"===t||"textbox"===t?"text":"image"},updateTooltip:function(t){(t?t.find(".fpd-tooltip"):jQuery(".fpd-tooltip")).each(function(t,e){var n=jQuery(e);n.tooltipster(n.hasClass("tooltipstered")?"reposition":{offsetY:0,position:"bottom",theme:".fpd-tooltip-theme",touchDevices:!1})})},arrayUnique:function(t){for(var e=t.concat(),n=0;n<e.length;++n)for(var i=n+1;i<e.length;++i)e[n]===e[i]&&e.splice(i--,1);return e},createScrollbar:function(t,e){e=void 0===e?"y":e,t.hasClass("mCustomScrollbar")?t.mCustomScrollbar("scrollTo",0):t.mCustomScrollbar({scrollbarPosition:"outside",autoExpandScrollbar:!0,autoHideScrollbar:!0,scrollInertia:200,axis:e,mouseWheel:{preventDefault:!0},callbacks:{onTotalScrollOffset:100,onTotalScroll:function(){jQuery(this).trigger("_sbOnTotalScroll"),FPDUtil.refreshLazyLoad(jQuery(this).find(".fpd-grid"),!0)}}})},notEmpty:function(t){return void 0!==t&&!1!==t&&0!==t.length},showModal:function(t,e,n,i){n=void 0===n?"":n,(i=void 0===i?jQuery("body"):i).is("body")&&i.addClass("fpd-overflow-hidden");var o=e?"fpd-fullscreen":"";return 0===jQuery(".fpd-modal-internal").length&&i.append('<div class="fpd-modal-internal fpd-modal-overlay"><div class="fpd-modal-wrapper fpd-shadow-3"><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div><div class="fpd-modal-content"></div></div></div>').children(".fpd-modal-internal:first").click(function(t){var e=jQuery(t.target);e.hasClass("fpd-modal-overlay")&&e.find(".fpd-modal-close").click()}),"prompt"===n?t='<input type="text" placeholder="'+t+'" /><span class="fpd-btn"></span>':"confirm"===n&&(t='<div class="fpd-confirm-msg">'+t+'</div><span class="fpd-btn fpd-confirm"></span>'),i.children(".fpd-modal-internal").attr("data-type",n).removeClass("fpd-fullscreen").addClass(o).fadeIn(300).find(".fpd-modal-content").html(t),i.children(".fpd-modal-internal")},showMessage:function(t,e){e=void 0===e||e;var n,i=jQuery("body");n=i.children(".fpd-snackbar-wrapper").length>0?i.children(".fpd-snackbar-wrapper"):i.append('<div class="fpd-snackbar-wrapper"></div>').children(".fpd-snackbar-wrapper");var o=jQuery('<div class="fpd-snackbar fpd-shadow-1"><p></p></div>');return o.children("p").html(t),o.appendTo(n),setTimeout(function(){o.addClass("fpd-show-up"),e&&setTimeout(function(){o.remove()},5e3)},10),o},loadGridImage:function(t,e){if(t.length>0&&e){t.addClass("fpd-on-loading");var n=new Image;n.src=e,n.onload=function(){t.data("originWidth",this.width).data("originHeight",this.height).removeClass("fpd-on-loading").fadeOut(0).stop().fadeIn(200).css("background-image",'url("'+this.src+'")')},n.onerror=function(){t.parent(".fpd-item").remove()}}},refreshLazyLoad:function(t,e){if(t&&t.length>0)for(var n=t.children(".fpd-item.fpd-hidden:first"),i=0,o=e?15:0;(o>i||t.parent(".mCSB_container").height()-150<t.parents(".fpd-scroll-area:first").height())&&n.length>0;){var r=n.children("picture");n.removeClass("fpd-hidden"),FPDUtil.loadGridImage(r,r.data("img")),n=n.next(".fpd-item.fpd-hidden"),i++}},parseFabricObjectToFPDElement:function(t){if(!t)return{};var e=new FancyProductDesignerOptions,n=Object.keys(e.defaults.elementParameters),i=Object.keys("text"===FPDUtil.getType(t.type)?e.defaults.textParameters:e.defaults.imageParameters);n=jQuery.merge(n,i);for(var o={},r=0;r<n.length;++r){var a=n[r];void 0!==t[a]&&(o[a]=t[a])}return{type:FPDUtil.getType(t.type),source:t.source,title:t.title,parameters:o}},popupBlockerAlert:function(t,e){(null==t||void 0===t)&&FPDUtil.showModal(e.getTranslation("misc","popup_blocker_alert"))},getScalingByDimesions:function(t,e,n,i,o){var r=1,a=0!==(n="number"!=typeof n?0:n),s=0!==(i="number"!=typeof i?0:i);"cover"===(o=void 0===o?"fit":o)?r=i-e>n-t?a?Math.max(n/t,i/e):1:s?Math.max(n/t,i/e):1:r=t>e?a?Math.min(n/t,i/e):1:s?Math.min(n/t,i/e):1;return parseFloat(r.toFixed(10))},localStorageAvailable:function(){var t=!0;try{window.localStorage.length,window.localStorage.setItem("fpd-storage","just-testing")}catch(e){t=!1}return t},checkImageDimensions:function(t,e,n){var i=t.currentViewInstance.options.customImageParameters,o=t.currentViewInstance.getUploadZone(t.currentViewInstance.currentUploadZone);if(o&&(i=$.extend({},i,o)),e>i.maxW||e<i.minW||n>i.maxH||n<i.minH){t._loadingCustomImage=!1,t.mainBar&&(t.mainBar.toggleDialog(!1),t.currentViewInstance.currentUploadZone&&t.mainBar.toggleUploadZonePanel(!1));var r=t.getTranslation("misc","uploaded_image_size_alert").replace("%minW",i.minW).replace("%minH",i.minH).replace("%maxW",i.maxW).replace("%maxH",i.maxH);return FPDUtil.showModal(r),!1}return!0},elementHasColorSelection:function(t){return(Array.isArray(t.colors)||Boolean(t.colors)||t.colorLinkGroup||t.__editorMode)&&!1!==FPDUtil.elementIsColorizable(t)},elementAvailableColors:function(t,e){var n=[];if(t.type==FPDPathGroupName){var i=t.getObjects();if(1===i.length)n=t.colors;else{n=[];for(var o=0;o<i.length;++o){var r=i[o],a=tinycolor(r.fill);n.push(a.toHexString())}}}else n=t.colorLinkGroup&&e.colorLinkGroups[t.colorLinkGroup]?e.colorLinkGroups[t.colorLinkGroup].colors:t.colors;return n},changePathColor:function(t,e,n){for(var i=[],o=t.getObjects(),r=0;r<o.length;++r){var a=o[r],s=tinycolor(a.fill);i.push(s.toHexString())}return i[e]="string"==typeof n?n:n.toHexString(),i},isHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},addThousandSep:function(t){var e=/(\d+)(\d{3})/;return String(t).replace(/^\d+/,function(t){for(;e.test(t);)t=t.replace(e,"$1"+thousandSeparator+"$2");return t})},getFilter:function(t,e){if("string"!=typeof t)return null;if(e=void 0===e?{}:e,t=t.toLowerCase(),FPDFilters[t]&&FPDFilters[t].array)return new fabric.Image.filters.ColorMatrix({matrix:FPDFilters[t].array});switch(t){case"grayscale":return new fabric.Image.filters.Grayscale;case"sepia":return new fabric.Image.filters.Sepia;case"sepia2":return new fabric.Image.filters.Sepia2;case"brightness":return new fabric.Image.filters.Brightness(e);case"contrast":return new fabric.Image.filters.Contrast(e);case"removewhite":return"1.6.7"===fabric.version?new fabric.Image.filters.RemoveWhite(e):new fabric.Image.filters.RemoveColor(e)}return null},spectrumColorNames:function(t,e){t.find(".sp-palette-container .sp-thumb-el").each(function(n,i){var o=i.title,r=e.mainOptions.hexNames[o.replace("#","").toLowerCase()];jQuery(i).attr("title",r||o).addClass("fpd-tooltip"),FPDUtil.updateTooltip(t)})},getDeviceByScreenSize:function(){var t=jQuery(window).width();return 568>t?"smartphone":t>568&&768>=t?"tablet":"desktop"},elementIsEditable:function(t){return t&&("object"==typeof t.colors||!0===t.colors||1==t.colors||t.removable||t.draggable||t.resizable||t.rotatable||t.zChangeable||t.advancedEditing||t.editable||t.uploadZone||t.colorLinkGroup&&t.colorLinkGroup.length>0||t.__editorMode)},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},unitToPixel:function(t,e,n){var i=t*(n=void 0===n?72:n);return Math.round("cm"==e?i/2.54:"mm"==e?i/25.4:i)},pixelToUnit:function(t,e,n){var i=t/(n=void 0===n?72:n);return Math.round("cm"==e?2.54*i:"mm"==e?25.4*i:i)},isSVG:function(t){return null!==t&&(t.type===FPDPathGroupName||void 0!==t.d||-1!==jQuery.inArray("svg",t.source.split(".")))},inRange:function(t,e,n){return n=void 0===n?10:n,Math.abs(t-e)<n},objectHasKeys:function(t,e){if(t&&"object"==typeof t){for(var n=!0,i=0;i<e.length;++i){var o=e[i];if(!t.hasOwnProperty(o)){n=!1;break}}return n}return!1},setItemPrice:function(t,e){if(e.currentViewInstance){var n=e.currentViewInstance.options,i=null;if(e.currentViewInstance&&e.currentViewInstance.currentUploadZone&&t.parents(".fpd-upload-zone-adds-panel").length>0){var o=e.currentViewInstance.getUploadZone(e.currentViewInstance.currentUploadZone);o&&o.price&&(i=o.price)}t.parents('[data-module="images"]:first').length>0&&null===i?isNaN(t.data("price"))?n&&n.customImageParameters.price&&(i=n.customImageParameters.price):i=t.data("price"):t.data("parameters")&&t.data("parameters").price&&null===i&&(i=t.data("parameters").price),t.children(".fpd-price").toggle(Boolean(i)).html(i?e.formatPrice(i):"")}},isZero:function(t){return 0===t||"string"==typeof t&&"0"===t}},FPDEmojisRegex=/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F/g,FancyProductDesignerOptions=function(){this.defaults={imageLoadTimestamp:!1,stageWidth:900,stageHeight:600,editorMode:!1,editorBoxParameters:["left","top","angle","fill","width","height","fontSize","price"],fonts:[{name:"Arial"},{name:"Lobster",url:"google"}],templatesDirectory:"/assets/in_design_studio/js/fancy-product-designer/html/",facebookAppId:"",instagramClientId:"",instagramRedirectUri:"",zoomStep:.2,maxZoom:3,hexNames:{},selectedColor:"#f5f5f5",boundingBoxColor:"#2185d0",outOfBoundaryColor:"#990000",replaceInitialElements:!1,lazyLoad:!0,templatesType:"html",customImageAjaxSettings:{url:"php/custom-image-handler.php",method:"POST",dataType:"json",data:{saveOnServer:0,uploadsDir:"./uploads",uploadsDirURL:"http://yourdomain.com/uploads"}},improvedResizeQuality:!1,responsive:!0,cornerIconColor:"#000000",langJSON:"/assets/in_design_studio/js/fancy-product-designer/lang/default.json",colorPickerPalette:[],actions:{top:[],right:[],bottom:[],left:[]},mainBarModules:["products","images","text","designs","manage-layers"],initialActiveModule:"",maxValues:{},watermark:!1,gridColumns:2,priceFormat:{currency:"&#36;%d",decimalSep:".",thousandSep:","},mainBarContainer:!1,modalMode:!1,keyboardControl:!0,deselectActiveOnOutside:!0,uploadZonesTopped:!0,loadFirstProductInStage:!0,unsavedProductAlert:!1,hideDialogOnAdd:!1,toolbarPlacement:"smart",snapGridSize:[50,50],fabricCanvasOptions:{},namesNumbersDropdown:[],namesNumbersEntryPrice:0,colorSelectionPlacement:"",colorSelectionDisplayType:"grid",bulkVariationsPlacement:"",bulkVariations:{},toolbarDynamicContext:"body",boundingBoxProps:{strokeWidth:1},fitImagesInCanvas:!1,maxPrice:-1,inCanvasTextEditing:!0,openTextInputOnSelect:!1,designCategories:[],optionalView:!1,saveActionBrowserStorage:!0,pricingRules:[],uploadAgreementModal:!1,imageEditorSettings:{masks:[]},printingBox:null,autoOpenInfo:!1,guidedTour:null,replaceColorsInColorGroup:!1,allowedImageTypes:["jpeg","png","svg","pdf"],pixabayApiKey:"",pixabayHighResImages:!1,pixabayLang:"en",openModalInDesigner:!1,imageSizeTooltip:!1,depositphotosApiKey:"",depositphotosLang:"en",depositphotosPrice:0,highlightEditableObjects:"",applyFillWhenReplacing:!0,layouts:[],dynamicViewsOptions:{unit:"mm",formats:[]},disableTextEmojis:!1,smartGuides:!1,toolbarTheme:"white",usePrintingBoxAsBounding:!1,printingBox:{},productsJSON:"../",designsJSON:"../designs.json",customizationRequiredRule:"any",swapProductConfirmation:!1,toolbarTextareaPosition:"sub",elementParameters:{objectCaching:!1,z:-1,price:0,colors:!1,removable:!1,draggable:!1,rotatable:!1,resizable:!1,copyable:!1,zChangeable:!1,boundingBox:!1,boundingBoxMode:"inside",autoCenter:!1,replace:"",replaceInAllViews:!1,autoSelect:!1,topped:!1,colorPrices:{},colorLinkGroup:!1,patterns:[],sku:"",excludeFromExport:!1,showInColorSelection:!1,locked:!1,uniScalingUnlockable:!1,originX:"center",originY:"center",cornerSize:24,fill:!1,lockUniScaling:!0,pattern:!1,top:0,left:0,angle:0,flipX:!1,flipY:!1,opacity:1,scaleX:1,scaleY:1},textParameters:{maxLength:0,curved:!1,curvable:!1,curveSpacing:10,curveRadius:80,curveReverse:!1,maxLines:0,textBox:!1,textPlaceholder:!1,numberPlaceholder:!1,letterSpacing:0,chargeAfterEditing:!1,minFontSize:1,textTransform:"none",widthFontSize:0,maxFontSize:200,shadowColor:"",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textLinkGroup:"",strokeColors:[],editable:!0,fontFamily:"Arial",fontSize:18,lineHeight:1,fontWeight:"normal",fontStyle:"normal",textDecoration:"normal",padding:10,textAlign:"left",stroke:null,strokeWidth:0,charSpacing:0},imageParameters:{uploadZone:!1,filter:null,scaleMode:"fit",resizeToW:0,resizeToH:0,advancedEditing:!1,uploadZoneMovable:!1,uploadZoneRemovable:!1,padding:0,minScaleLimit:.01},customImageParameters:{minW:100,minH:100,maxW:1500,maxH:1500,minDPI:72,maxSize:10},customTextParameters:{},customAdds:{designs:!0,uploads:!0,texts:!0,drawing:!0},qrCodeProps:{autoCenter:!0,draggable:!0,removable:!0,resizable:!0}},this.merge=function(t,e){var n=jQuery.extend({},t,e);return n.elementParameters=jQuery.extend({},t.elementParameters,n.elementParameters),n.textParameters=jQuery.extend({},t.textParameters,n.textParameters),n.imageParameters=jQuery.extend({},t.imageParameters,n.imageParameters),n.customTextParameters=jQuery.extend({},t.customTextParameters,n.customTextParameters),n.customImageParameters=jQuery.extend({},t.customImageParameters,n.customImageParameters),n.customAdds=jQuery.extend({},t.customAdds,n.customAdds),n.customImageAjaxSettings=jQuery.extend({},t.customImageAjaxSettings,n.customImageAjaxSettings),n.qrCodeProps=jQuery.extend({},t.qrCodeProps,n.qrCodeProps),n.imageEditorSettings=jQuery.extend({},t.imageEditorSettings,n.imageEditorSettings),n.dynamicViewsOptions=jQuery.extend({},t.dynamicViewsOptions,n.dynamicViewsOptions),n.priceFormat=jQuery.extend({},t.priceFormat,n.priceFormat),n.printingBox=jQuery.extend({},t.printingBox,n.printingBox),n},this.getParameterKeys=function(){var t=Object.keys(this.defaults.elementParameters),e=Object.keys(this.defaults.imageParameters),n=Object.keys(this.defaults.textParameters);return(t=t.concat(e)).concat(n)}},FancyProductDesignerView=function(t,e,n,i){"use strict";$=jQuery,i=void 0===i?{}:i;var o=$(this),r=this,a=!1,s=!1,l=null,c=null,u={},d=new FancyProductDesignerOptions,h=function(){var e,i;n.call(n,r),s=!0,r.options.keyboardControl&&$(document).on("keydown",function(t){var e=$(t.target);if(r.currentElement&&!e.is('textarea,input[type="text"],input[type="number"]')){switch(t.which){case 8:r.currentElement.removable&&r.removeElement(r.currentElement);break;case 37:r.currentElement.draggable&&r.setElementParameters({left:r.currentElement.left-1});break;case 38:r.currentElement.draggable&&r.setElementParameters({top:r.currentElement.top-1});break;case 39:r.currentElement.draggable&&r.setElementParameters({left:r.currentElement.left+1});break;case 40:r.currentElement.draggable&&r.setElementParameters({top:r.currentElement.top+1});break;default:return}t.preventDefault()}}),r.stage.on({"after:render":function(){r.options.highlightEditableObjects.length>3&&(r.stage.contextContainer.strokeStyle=r.options.highlightEditableObjects,r.stage.forEachObject(function(t){if(t!==r.stage.getActiveObject()&&!t.isMoving&&("text"===FPDUtil.getType(t.type)&&t.editable||t.uploadZone)){var e=t.getBoundingRect();r.stage.contextContainer.setLineDash([5,15]),r.stage.contextContainer.strokeRect(e.left,e.top,e.width,e.height)}else r.stage.contextContainer.setLineDash([])}))},"mouse:over":function(t){r.stage.hoverCursor=r.currentElement&&r.currentElement.draggable&&t.target===r.currentElement?"move":"pointer",o.trigger("canvas:mouseOver",[r,t])},"mouse:down":function(t){t.e.touches&&(e=t.e.touches[0].clientX,i=t.e.touches[0].clientY),a=!0,t.target&&t.target.__corner&&"function"==typeof t.target.exitEditing&&t.target.exitEditing(),null==t.target?r.deselectElement():l=r.getElementJSON(),o.trigger("canvas:mouseDown",[r,t])},"mouse:up":function(e){t.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide();var n=!1;if(e.target&&(n=e.target.__corner),"bl"==n&&(e.target.removable||r.options.editorMode)&&r.removeElement(e.target),"tl"==n&&(e.target.copyable||r.options.editorMode)&&!e.target.hasUploadZone){var i=r.getElementJSON();i.top=i.top+30,i.left=i.left+30,r.options.editorMode||(i.autoSelect=!0),r.addElement(FPDUtil.getType(e.target.type),e.target.source,"Copy "+e.target.title,i)}a=!1,o.trigger("canvas:mouseUp",[r,e])},"mouse:move":function(t){if(a&&r.dragStage){if(t.e.touches)var n=t.e.touches[0].clientX,s=t.e.touches[0].clientY;r.stage.relativePan(new fabric.Point(t.e.touches?n-e:t.e.movementX,t.e.touches?s-i:t.e.movementY)),t.e.touches&&(e=n,i=s)}o.trigger("canvas:mouseMove",[r,t])},"text:editing:entered":function(){},"text:changed":function(t){r.setElementParameters({text:t.target.text})},"text:editing:exited":function(){},"object:moving":function(t){c="moving",t.target.lockMovementX&&t.target.lockMovementY||(m(t.target),r.options.smartGuides&&"1.6.7"!==fabric.version&&v(t.target)),r.stage.contextContainer.strokeStyle="#990000",y(t.target),o.trigger("elementChange",[c,t.target])},"object:scaling":function(e){c="scaling",y(e.target),t.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide(),o.trigger("elementChange",[c,e.target])},"object:rotating":function(t){c="rotating",y(t.target),o.trigger("elementChange",[c,t.target])},"object:modified":function(t){if(l&&(t.target._ignore||(f({element:t.target,parameters:l,interaction:"modify"}),l=null)),"text"===FPDUtil.getType(t.target.type)&&"curvedText"!==t.target.type&&!t.target.uniScalingUnlockable){var e=t.target.fontSize*t.target.scaleX;e=parseFloat(Number(e).toFixed(0)),t.target.scaleX=1,t.target.scaleY=1,t.target._clearCache(),t.target.set("fontSize",e),t.target.fontSize=e}if(null!==c){var n={};switch(c){case"moving":n.left=Number(t.target.left),n.top=Number(t.target.top);break;case"scaling":"text"!==FPDUtil.getType(t.target.type)||"curvedText"===t.target.type||t.target.uniScalingUnlockable?(n.scaleX=parseFloat(t.target.scaleX),n.scaleY=parseFloat(t.target.scaleY)):n.fontSize=parseInt(t.target.fontSize);break;case"rotating":n.angle=t.target.angle}o.trigger("elementModify",[t.target,n])}c=null},"selection:updated":p,"object:selected":p}),r.stage.renderAll(),o.trigger("priceChange",[0,r.truePrice])},p=function(t){var e=t.target;return r.deselectElement(!1),r.dragStage?(r.deselectElement(),!1):(r.currentElement=e,o.trigger("elementSelect",[e]),e.setControlVisible("tr",!1),e._ignore||e.set({borderColor:r.options.selectedColor,rotatingPointOffset:0}),r.stage.hoverCursor=e.draggable?"move":"pointer",void(e.boundingBox&&!e.uploadZone&&r.renderElementBoundingBox(e)))},f=function(t,e,n){n=void 0===n||n,t&&(r.undos.push(t),r.undos.length>20&&r.undos.shift()),e&&r.redos.push(e),r.isCustomized=!0,n&&o.trigger("undoRedoSet",[r.undos,r.redos])},g=function(){for(var t=r.stage.getObjects(),e=[],n=0;n<t.length;++n){var i=t[n];(i.topped||i.uploadZone&&r.options.uploadZonesTopped)&&e.push(i)}for(n=0;n<e.length;++n)e[n].bringToFront();r.currentBoundingObject&&r.currentBoundingObject.bringToFront(),r.printingBoxObject&&r.printingBoxObject.bringToFront();var o=r.getElementByID("_snap_lines_group");o&&o.bringToFront(),r.stage.renderAll()},m=function(t){if(r._snapElements){var e=r.options.snapGridSize[0]?r.options.snapGridSize[0]:50,n=r.options.snapGridSize[1]?r.options.snapGridSize[1]:50,i=t.getPointByOrigin("left","top"),o=new fabric.Point(t.padding+Math.round(i.x/e)*e,t.padding+Math.round(i.y/n)*n);t.setPositionByOrigin(o,"left","top")}},v=function(e){t.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide();var n=r.stage.getObjects().filter(function(t){return t.hasRotatingPoint}),i=r.currentBoundingObject;i||(i={left:0,top:0,width:r.options.stageWidth,height:r.options.stageHeight});var o=r.stage.gridSnapMove({tolerance:8,guidlines:[{cx:i.left+i.width/2},{cy:i.top+i.height/2}],objects:n,target:e});delete r.stage.__snapCache,o&&(void 0!==o.x&&t.siblings(".fpd-snap-line-v").css("left",t.position().left+o.x*r.responsiveScale).show(),void 0!==o.y&&t.siblings(".fpd-snap-line-h").css("top",t.position().top+o.y*r.responsiveScale).show())},y=function(t){if(r.currentBoundingObject&&!t.hasUploadZone)if(t.setCoords(),"limitModify"===t.boundingBoxMode){var e=t.getBoundingRect(),n=r.currentBoundingObject.getBoundingRect(),i=n.left,a=n.left+n.width-e.width,s=n.top,l=n.top+n.height-e.height;t.isContainedWithinObject(r.currentBoundingObject)?(u={left:t.left,top:t.top,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY},"text"==FPDUtil.getType(t.type)&&(u.fontSize=t.fontSize,u.lineHeight=t.lineHeight,u.charSpacing=t.charSpacing)):(0===t.__corner&&(e.left>i&&e.left<a&&(u.left=t.left),e.top>s&&e.top<l&&(u.top=t.top)),t.setOptions(u)),o.trigger("elementCheckContainemt",[t,"limitModify"])}else if("inside"===t.boundingBoxMode||"clipping"===t.boundingBoxMode){var c,d=t.isOut;(c=!t.isContainedWithinObject(r.currentBoundingObject))?("inside"===t.boundingBoxMode&&(t.borderColor=r.options.outOfBoundaryColor),t.isOut=!0):("inside"===t.boundingBoxMode&&(t.borderColor=r.options.selectedColor),t.isOut=!1),d!=t.isOut&&null!=d&&(c?o.trigger("elementOut",[t]):o.trigger("elementIn",[t])),o.trigger("elementCheckContainemt",[t,t.boundingBoxMode])}r.stage.renderAll()},w=function(t,e){if(s&&t.colorPrices&&"object"==typeof t.colors&&t.colors.length>1)if(void 0!==t.currentColorPrice&&(t.price-=t.currentColorPrice,r.changePrice(t.currentColorPrice,"-")),"string"==typeof e){var n=e.replace("#","");if(t.colorPrices.hasOwnProperty(n)||t.colorPrices.hasOwnProperty(n.toUpperCase())){var i=void 0===t.colorPrices[n]?t.colorPrices[n.toUpperCase()]:t.colorPrices[n];t.currentColorPrice=i,t.price+=t.currentColorPrice,r.changePrice(t.currentColorPrice,"+")}else t.currentColorPrice=0}else t.currentColorPrice=0},b=function(t){var e=r.getBoundingBoxCoords(t)||t.clippingRect;e&&(t.clippingRect=e,t.clipTo=function(t){x(t,this)})},x=function(t,e,n){n=void 0===n?1:n;var i=e.clippingRect;t.save();var o=e.calcTransformMatrix(),r=fabric.util.invertTransform(o);t.transform.apply(t,r),t.beginPath(),t.rect(i.left,i.top,i.width*n,i.height*n),t.fillStyle="transparent",t.fill(),t.closePath(),t.restore()},C=function(t){if(t&&t.hasUploadZone){for(var e=r.stage.getObjects(),n=!0,i=0;i<e.length;++i){if(e[i].replace==t.replace){n=!1;break}}var o=r.getUploadZone(t.replace);o&&(o.set("opacity",n?1:0),o.evented=n),r.stage.renderAll()}};this.getElementByID=function(t){for(var e=r.stage.getObjects(),n=0;n<e.length;++n)if(e[n].id==t)return e[n];return!1},this.addElement=function(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n){if(o.trigger("beforeElementAdd",[t,e,n,i]),i=void 0!==i?i:{},"text"===t&&(e=e.replace(/(<([^>]+)>)/gi,""),n=n.replace(/(<([^>]+)>)/gi,"")),"object"!=typeof i)return FPDUtil.showModal("The element "+n+" does not have a valid JSON object as parameters! Please check the syntax, maybe you set quotes wrong."),!1;if("string"==typeof i.fill||$.isArray(i.fill)||(i.fill=!1),i=FPDUtil.rekeyDeprecatedKeys(i),(i="text"===FPDUtil.getType(t)?$.extend({},r.options.elementParameters,r.options.textParameters,i):$.extend({},r.options.elementParameters,r.options.imageParameters,i)).colors&&"string"==typeof i.colors&&0==i.colors.indexOf("#")){var a=i.colors.replace(/\s+/g,"").split(",");i.colors=a}if(i._isInitial=!s,"text"===FPDUtil.getType(t)){var l=i.colors[0]?i.colors[0]:"#000000";i.fill=i.fill?i.fill:l}var c={source:e,title:n,id:String((new Date).getTime()),cornerColor:r.options.cornerColor?r.options.cornerColor:r.options.selectedColor,cornerIconColor:r.options.cornerIconColor};if(r.options.editorMode?(i.__editorMode=r.options.editorMode,c.selectable=c.evented=!0):$.extend(c,{selectable:!1,lockRotation:!0,hasRotatingPoint:!1,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,evented:!1,lockScalingFlip:!0}),(c=$.extend({},i,c)).isCustom&&(r.isCustomized=!0),r.options.usePrintingBoxAsBounding&&!c.boundingBox&&FPDUtil.objectHasKeys(r.options.printingBox,["left","top","width","height"])&&(c.boundingBox={x:r.options.printingBox.left,y:r.options.printingBox.top,width:r.options.printingBox.width,height:r.options.printingBox.height}),"image"==t||"path"==t||t==FPDPathGroupName){if(c.crossOrigin="",c.lockUniScaling=!r.options.editorMode&&!c.uniScalingUnlockable,-1===e.search("<svg ")){var u=e.split("?");e=c.source=u[0]}var d=function(t,e,n,i){t?(i=void 0===i?{}:i,$.extend(e,{originParams:$.extend({},e,i)}),t.setOptions(e),r.stage.add(t),r.setElementParameters(e,t,!1),t.originParams.angle=t.angle,t.originParams.z=r.getZIndex(t),r.options.improvedResizeQuality&&!n&&("1.6.7"===fabric.version?t.resizeFilters.push(new fabric.Image.filters.Resize({resizeType:"hermite"})):t.resizeFilter=new fabric.Image.filters.Resize({type:"hermite"})),t._isInitial||t._ignore||f({element:t,parameters:e,interaction:"add"})):FPDUtil.showModal("The image with the URL<br /><i style='font-size: 10px;'>"+e.source+"</i><br />can not be loaded into the canvas. <p><br />Troubleshooting<br/><ul><li>The URL is not correct!</li><li>The image has been blocked by <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS' target='_blank'>CORS policy</a>. You need to host the image under the same protocol and domain or enable 'Access-Control-Allow-Origin' on the server where you host the image. <a href='http://enable-cors.org/' target='_blank'>Read more about it here.</a></li></ul></p>"),o.trigger("elementAdd",[t])};if(void 0===e||0===e.length)return void FPDUtil.log("No image source set for: "+n);if(-1!==e.search("<svg "))fabric.loadSVGFromString(e,function(t,e){var n=fabric.util.groupSVGElements(t,e);d(n,c,!0)});else if(-1!=$.inArray("svg",e.split("."))){var h=Date.now().toString(),p=(g=r.options._loadFromScript?r.options._loadFromScript:"")+e;r.options.imageLoadTimestamp&&!r.options._loadFromScript&&(p+="?"+h),fabric.loadSVGFromURL(p,function(t,e){var n=t?fabric.util.groupSVGElements(t,e):null;if(c.fill)c.svgFill||(c.svgFill=c.fill),delete c.fill;else if(!c.fill&&!c.svgFill){if(t){i.colors=[];for(var o=0;o<t.length;++o){var r=t[o].fill.length>0?tinycolor(t[o].fill).toHexString():"transparent";i.colors.push(r)}i.svgFill=i.colors}c.svgFill=i.svgFill}d(n,c,!0,{svgFill:i.svgFill})})}else{h=Date.now().toString();var g=r.options._loadFromScript?r.options._loadFromScript:"";-1==e.indexOf("data:image/")?(p=g+e,r.options.imageLoadTimestamp&&!r.options._loadFromScript&&(p+="?"+h)):p=e,new fabric.Image.fromURL(p,function(t){t=""===t.getSrc()?null:t,d(t,c,!1)},{crossOrigin:"anonymous"})}}else if("text"===FPDUtil.getType(t)){var m;if(e=e.replace(/\\n/g,"\n"),i.text=i.text?i.text:e,c.resizable=!i.widthFontSize&&i.resizable,$.extend(c,{spacing:i.curveSpacing,radius:i.curveRadius,reverse:i.curveReverse,originParams:$.extend({},i)}),i.originParams&&i.originParams.text&&(c.originParams.text=i.originParams.text),i.curved&&void 0!==fabric.CurvedText){var v=c.text;m=new fabric.CurvedText(e,c),c.text=v}else i.textBox?(c.lockUniScaling=!r.options.editorMode,c.resizable=!1!==r.options.editorMode,(m=new fabric.Textbox(e,c)).setControlVisible("bl",!0),r.options.inCanvasTextEditing||m.on({"editing:entered":function(){this.exitEditing()}})):(m=new fabric.IText(e,c),r.options.inCanvasTextEditing||m.on({"editing:entered":function(){this.exitEditing()}}));(c.textPlaceholder||c.numberPlaceholder)&&(c.textPlaceholder&&(r.textPlaceholder=m,c.removable=!1),c.numberPlaceholder&&(r.numberPlaceholder=m,c.removable=!1)),r.stage.add(m),r.setElementParameters(c,m,!1),m.originParams=$.extend({},m.toJSON(),m.originParams),delete m.originParams.clipTo,m.originParams.z=r.getZIndex(m),m._isInitial||m._ignore||f({element:m,parameters:c,interaction:"add"}),o.trigger("elementAdd",[m])}else FPDUtil.showModal("Sorry. This type of element is not allowed!")}},this.getElementByTitle=function(t){for(var e=r.stage.getObjects(),n=0;n<e.length;++n)if(e[n].title==t)return e[n]},this.deselectElement=function(t){t=void 0===t||t,r.currentBoundingObject&&(r.stage.remove(r.currentBoundingObject),o.trigger("boundingBoxToggle",[r.currentBoundingObject,!1]),r.currentBoundingObject=null),t&&r.stage.discardActiveObject(),r.currentElement=null,r.stage.renderAll().calcOffset(),o.trigger("elementSelect",[null])},this.removeElement=function(t){if("string"==typeof t&&(t=r.getElementByTitle(t)),!t._ignore){var e=r.getElementJSON(t);e.z=r.getZIndex(t),f({element:t,parameters:e,interaction:"remove"})}this.deselectElement(),setTimeout(function(){r.stage.remove(t),C(t),o.trigger("elementRemove",[t])},1)},this.setElementParameters=function(t,e,n){if(n=void 0===n||n,!(e=void 0===e?r.stage.getActiveObject():e)||void 0===t)return!1;"string"==typeof e&&(e=r.getElementByTitle(e));var i,a=FPDUtil.getType(e.type);if(n&&s){var l=r.getElementJSON();e._tempFill&&(l.fill=e._tempFill,e._tempFill=void 0),e._ignore||f({element:e,parameters:l,interaction:"modify"})}if("image"==FPDUtil.getType(e.type)&&!e._isInitial&&!e._addToUZ&&1===e.scaleX){var c=null;if(FPDUtil.isZero(e.resizeToW)&&FPDUtil.isZero(e.resizeToH)){if(e.boundingBox){var u=r.getBoundingBoxCoords(e);c=FPDUtil.getScalingByDimesions(e.width,e.height,u.width,u.height,e.scaleMode)}else if(r.options.fitImagesInCanvas){var d=3*e.cornerSize;(e.width*e.scaleX+d>r.options.stageWidth||e.height*e.scaleY+d>r.options.stageHeight)&&(c=FPDUtil.getScalingByDimesions(e.width,e.height,r.options.stageWidth-d,r.options.stageHeight-d))}}else{var h=e.resizeToW,p=e.resizeToH;h=isNaN(h)?parseFloat(h)/100*r.options.stageWidth:parseInt(h),p=isNaN(p)?parseFloat(p)/100*r.options.stageHeight:parseInt(p),c=FPDUtil.getScalingByDimesions(e.width,e.height,h,p,e.scaleMode)}null!==c&&$.extend(t,{scaleX:c,scaleY:c})}if(e._addToUZ&&""!=e._addToUZ){t.z=-1;var m=r.getElementByTitle(e._addToUZ);c=1;"image"==FPDUtil.getType(e.type)&&(c=FPDUtil.getScalingByDimesions(e.width,e.height,m.width*m.scaleX,m.height*m.scaleY,m.scaleMode)),$.extend(t,{boundingBox:e._addToUZ,boundingBoxMode:"clipping",scaleX:c,scaleY:c,autoCenter:!0,removable:!0,zChangeable:!1,autoSelect:!1,copyable:!1,hasUploadZone:!0,z:r.getZIndex(r.getElementByTitle(e._addToUZ)),rotatable:m.rotatable,draggable:m.draggable,resizable:m.resizable,price:m.price?m.price:t.price,replace:e._addToUZ,lockUniScaling:m.lockUniScaling,uniScalingUnlockable:m.uniScalingUnlockable}),$.extend(t.originParams,{boundingBox:t.boundingBox,replace:t.replace,rotatable:t.rotatable,draggable:t.draggable,resizable:t.resizable,lockUniScaling:t.lockUniScaling,uniScalingUnlockable:t.uniScalingUnlockable,price:t.price,scaleX:t.scaleX,scaleY:t.scaleY,hasUploadZone:!0,autoCenter:!0}),delete t[""],delete e._addToUZ}if(t.topped&&(t.zChangeable=!1),FPDUtil.elementIsEditable(t)&&(t.isEditable=t.evented=t.selectable=!0),(!t.uploadZone||r.options.editorMode)&&(t.draggable&&(t.lockMovementX=t.lockMovementY=!1),t.rotatable&&(t.lockRotation=!1,t.hasRotatingPoint=!0),t.resizable&&(t.lockScalingX=t.lockScalingY=!1),(t.resizable||t.rotatable||t.removable)&&(t.hasControls=!0)),t.uploadZone&&(r.options.editorMode||(t.uploadZoneMovable&&(t.lockMovementX=t.lockMovementY=!1),t.uploadZoneRemovable&&(t.removable=!0,t.copyable=!1,t.hasControls=!0)),t.lockRotation=!0,t.hasRotatingPoint=!1),t.replace&&""!=t.replace){var v=r.getElementByReplace(t.replace);null!==v&&v!==e&&(t.z=r.getZIndex(v),t.left=e.originParams.left=v.left,t.top=e.originParams.top=v.top,t.autoCenter=!1,r.options.applyFillWhenReplacing&&(t.fill=v.fill),r.removeElement(v))}if("string"==typeof t.text){var x=t.text;r.options.disableTextEmojis&&(x=(x=x.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),0!=e.maxLength&&x.length>e.maxLength&&(x=x.substr(0,e.maxLength),e.selectionStart=e.maxLength),0!=e.maxLines&&("textbox"==e.type&&e.__lineHeights?x=function(t,e){for(t.set("text",e);t.__lineHeights.length>t.maxLines;)e=(e=t.text).slice(0,-1),t.set("text",e),t.__lineHeights.length<=t.maxLines&&t.exitEditing();return e}(e,x):x.split("\n").length>e.maxLines&&(x=x.replace(/([\s\S]*)\n/,"$1"),e.exitEditing())),e.set("text",x),t.text=x,e.chargeAfterEditing&&(e._isPriced||(r.changePrice(e.price,"+"),e._isPriced=!0),e.originParams.text===x&&e._isPriced&&(r.changePrice(e.price,"-"),e._isPriced=!1))}if("text"===a){if("1.6.7"!==fabric.version&&t.hasOwnProperty("textDecoration")&&(t.underline="underline"===t.textDecoration),void 0!==t.letterSpacing&&(t.charSpacing=100*t.letterSpacing),t.fontSize&&t.fontSize<e.minFontSize?t.fontSize=e.minFontSize:t.fontSize&&t.fontSize>e.maxFontSize&&(t.fontSize=e.maxFontSize),t.text&&("uppercase"===e.textTransform?x=x.toUpperCase():"lowercase"===e.textTransform&&(x=x.toLowerCase()),e.set("text",x),t.text=x),t.textTransform){x=e.text;"uppercase"===t.textTransform?x=x.toUpperCase():"lowercase"===t.textTransform&&(x=x.toLowerCase()),e.set("text",x),t.text=x}(t.shadowColor||t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)&&!e.shadow&&e.setShadow({color:"rgba(0,0,0,0)"}),t.shadowColor&&(e.shadow.color=t.shadowColor),t.shadowBlur&&(e.shadow.blur=t.shadowBlur),t.shadowOffsetX&&(e.shadow.offsetX=t.shadowOffsetX),t.shadowOffsetY&&(e.shadow.offsetY=t.shadowOffsetY)}(delete t.paths,e.setOptions(t),"i-text"==e.type&&e.widthFontSize&&e.text.length>0)&&((i=e.width>e.widthFontSize?e.fontSize*(e.widthFontSize/(e.width+1)):e.fontSize*(e.widthFontSize/(e.width-1)))<e.minFontSize?i=e.minFontSize:i>e.maxFontSize&&(i=e.maxFontSize),i=parseInt(i),t.fontSize=i,e.set("fontSize",i));if(t.autoCenter&&r.centerElement(!0,!0,e),void 0!==t.fill||void 0!==t.svgFill){var C=void 0!==t.svgFill?t.svgFill:t.fill;r.changeColor(e,C),e.pattern=void 0}if(void 0!==t.pattern&&(function(t,e){var n=r.options._loadFromScript?r.options._loadFromScript:"";if(e&&(e=n+e),FPDUtil.isSVG(t))e&&fabric.util.loadImage(e,function(e){if("function"==typeof t.getObjects)for(var n=t.getObjects(),i=0;i<n.length;++i)n[i].set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));else t.set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));r.stage.renderAll()});else if("text"===FPDUtil.getType(t.type))if(e)fabric.util.loadImage(e,function(e){t.set("fill",new fabric.Pattern({source:e,repeat:"repeat"})),r.stage.renderAll()});else{var i=t.fill?t.fill:t.colors[0];i=i||"#000000",t.set("fill",i)}}(e,t.pattern),w(e,t.pattern)),t.filter){e.filters=[];var A=FPDUtil.getFilter(t.filter);null!=A&&e.filters.push(A),void 0!==e.applyFilters&&e.applyFilters()}(e.boundingBox&&"clipping"===t.boundingBoxMode||t.hasUploadZone)&&b(e),e.canvas&&t.z>=0&&(e.moveTo(t.z),g()),e.curved&&(t.curveRadius&&e.set("radius",t.curveRadius),t.curveSpacing&&e.set("spacing",t.curveSpacing),void 0!==t.curveReverse&&e.set("reverse",t.curveReverse)),e.uploadZone?e.evented=0!==e.opacity:e.isEditable&&!r.options.editorMode&&(e.evented=!t.locked);for(var D=r.stage.getObjects(),S=0;S<D.length;++S){var P=D[S];P.uploadZone&&P.title==t.replace&&(P.opacity=0,P.evented=!1)}e.setCoords(),r.stage.renderAll().calcOffset(),o.trigger("elementModify",[e,t]),y(e),t.autoSelect&&e.isEditable&&!r.options.editorMode&&$(r.stage.getElement()).is(":visible")&&setTimeout(function(){r.stage.setActiveObject(e),r.stage.renderAll()},350)},this.getBoundingBoxCoords=function(t){if(t.boundingBox||t.uploadZone){if("object"==typeof t.boundingBox)return!!(t.boundingBox.x&&t.boundingBox.y&&t.boundingBox.width&&t.boundingBox.height)&&{left:t.boundingBox.x,top:t.boundingBox.y,width:t.boundingBox.width,height:t.boundingBox.height};for(var e=r.stage.getObjects(),n=0;n<e.length;++n){var i=e[n];if(t.boundingBox==i.title){var o=i.getPointByOrigin("left","top");return{left:o.x,top:o.y,width:i.width*i.scaleX,height:i.height*i.scaleY}}}}return!1},this.toDataURL=function(t,e,n,i,o){t=void 0===t?function(){}:t,e=void 0===e?"transparent":e,(n=void 0===n?{}:n).onlyExportable=void 0!==n.onlyExportable&&n.onlyExportable,n.multiplier=void 0===n.multiplier?1:n.multiplier,n.enableRetinaScaling=void 0!==n.enableRetinaScaling&&n.enableRetinaScaling,i=void 0!==i&&i,o=void 0===o||o;var a=["_snap_lines_group","_ruler_hor","_ruler_ver"],s=[],l=r.options.highlightEditableObjects;r.options.highlightEditableObjects="transparent",r.stage.getObjects().forEach(function(t){(-1!==a.indexOf(t.id)||t.excludeFromExport&&n.onlyExportable)&&(t.visible=!1,s.push(t))}),o&&r.deselectElement();var c=fabric.devicePixelRatio;fabric.devicePixelRatio=1,r.stage.setDimensions({width:r.options.stageWidth,height:r.options.stageHeight}).setZoom(1),r.maskObject&&r.maskObject._originParams&&(r.maskObject.left=r.maskObject._originParams.left*n.multiplier,r.maskObject.top=r.maskObject._originParams.top*n.multiplier,r.maskObject.scaleX=r.maskObject._originParams.scaleX*n.multiplier,r.maskObject.scaleY=r.maskObject._originParams.scaleY*n.multiplier,r.maskObject.setCoords()),r.stage.setBackgroundColor(e,function(){i&&(r.stage.add(i),i.center(),i.bringToFront()),t(r.stage.toDataURL(n)),i&&r.stage.remove(i),$(r.stage.wrapperEl).is(":visible")&&r.resetCanvasSize(),r.stage.setBackgroundColor("transparent",function(){r.stage.renderAll()});for(var e=0;e<s.length;++e)s[e].visible=!0;fabric.devicePixelRatio=c,r.options.highlightEditableObjects=l})},this.toSVG=function(t,e,n,i){var o;if(t=void 0===t?{}:t,n=void 0!==n&&n,i=void 0===i?null:i,r.deselectElement(),n&&FPDUtil.objectHasKeys(r.options.printingBox,["left","top","width","height"])){var a=0,s=0;FPDUtil.objectHasKeys(r.options.output,["bleed","width","height"])&&(a=r.options.output.bleed/r.options.output.width*r.options.printingBox.width,s=r.options.output.bleed/r.options.output.height*r.options.printingBox.height),t.viewBox={x:r.options.printingBox.left-a,y:r.options.printingBox.top-s,width:r.options.printingBox.width+2*a,height:r.options.printingBox.height+2*s},r.stage.setDimensions({width:r.options.printingBox.width,height:r.options.printingBox.height}).setZoom(1)}else r.stage.setDimensions({width:r.options.stageWidth,height:r.options.stageHeight}).setZoom(1);var l=r.stage.backgroundColor;"transparent"==l&&(r.stage.backgroundColor=!1),i&&(r.stage.add(i),i.center(),i.bringToFront()),o=r.stage.toSVG(t,e),i&&r.stage.remove(i),r.stage.backgroundColor=l,$(r.stage.wrapperEl).is(":visible")&&r.resetCanvasSize();var c=$(o);return $("<div>").append(c.clone()).html().replace(/(?:\r\n|\r|\n)/g,"")},this.reset=function(t){t=void 0===t||t,r.undos=[],r.redos=[],r.elements=[],r.totalPrice=r.truePrice=0,r.stage.clear(),t&&r.stage.wrapperEl.remove(),o.trigger("clear"),o.trigger("priceChange",[0,0])},this.undo=function(){if(r.undos.length>0){var t=r.undos.pop();if("remove"===t.interaction)r.stage.add(t.element),t.interaction="add",o.trigger("elementAdd",[t.element]);else if("add"===t.interaction){var e=t.element.replace;r.stage.remove(t.element),t.interaction="remove",o.trigger("elementRemove",[t.element]),e&&r.undos.length&&r.undos[r.undos.length-1].element.replace==e&&(t=r.undos.pop(),r.stage.add(t.element),o.trigger("elementAdd",[t.element]))}t.element._ignore||f(!1,{element:t.element,parameters:r.getElementJSON(t.element),interaction:t.interaction}),r.setElementParameters(t.parameters,t.element,!1),this.deselectElement(),C(t.element)}return r.undos},this.redo=function(){if(r.redos.length>0){var t=r.redos.pop();"remove"===t.interaction?(r.stage.add(t.element),t.interaction="add",o.trigger("elementAdd",[t.element])):"add"===t.interaction&&(r.stage.remove(t.element),t.interaction="remove",o.trigger("elementRemove",[t.element])),t.element._ignore||f({element:t.element,parameters:r.getElementJSON(t.element),interaction:t.interaction}),r.setElementParameters(t.parameters,t.element,!1),this.deselectElement(),C(t.element)}return r.redos},this.getJSON=function(){var t=d.getParameterKeys();return t=t.concat(r.propertiesToInclude),r.stage.toJSON(t)},this.resetCanvasSize=function(){r.responsiveScale=t.outerWidth()<r.options.stageWidth?t.outerWidth()/r.options.stageWidth:1,r.responsiveScale=parseFloat(Number(r.responsiveScale.toFixed(7))),r.responsiveScale=Math.min(r.responsiveScale,1),r.options.responsive||(r.responsiveScale=1),r.maskObject&&r.maskObject._originParams&&(r.maskObject.left=r.maskObject._originParams.left*r.responsiveScale,r.maskObject.top=r.maskObject._originParams.top*r.responsiveScale,r.maskObject.scaleX=r.maskObject._originParams.scaleX*r.responsiveScale,r.maskObject.scaleY=r.maskObject._originParams.scaleY*r.responsiveScale,r.maskObject.setCoords()),r.stage.setDimensions({width:t.width(),height:r.options.stageHeight*r.responsiveScale}).setZoom(r.responsiveScale).calcOffset().renderAll(),t.height(r.stage.height).parent(".fpd-main-wrapper").css("min-height",r.stage.height);var e=t.parents(".fpd-container:first");return e.length>0&&(e.height(e.hasClass("fpd-sidebar")?r.stage.height:"auto"),e.width(e.hasClass("fpd-topbar")?r.options.stageWidth:"auto")),r.responsiveScale},this.getElementByReplace=function(t){for(var e=r.stage.getObjects(),n=0;n<e.length;++n){var i=e[n];if(i.replace===t)return i}return null},this.getElementJSON=function(t,e){if(e=void 0!==e&&e,!(t=void 0===t?r.stage.getActiveObject():t))return{};var n=Object.keys(r.options.elementParameters),i=Object.keys("text"===FPDUtil.getType(t.type)?r.options.textParameters:r.options.imageParameters);n=$.merge(n,i),e&&(n=$.merge(n,r.propertiesToInclude)),t.uploadZone&&(n.push("customAdds"),n.push("designCategories"),n.push("designCategories[]")),"text"===FPDUtil.getType(t.type)&&n.push("text"),t.type===FPDPathGroupName&&n.push("svgFill"),n.push("width"),n.push("height"),n.push("isEditable"),n.push("hasUploadZone"),n.push("clippingRect"),n.push("evented"),n.push("isCustom"),n.push("currentColorPrice"),n.push("_isPriced"),n.push("originParams"),n.push("originSource"),n.push("depositphotos"),n=n.sort();var o=t.getPointByOrigin("left","top");if(e)return(a=t.toJSON(n)).topLeftX=o.x,a.topLeftY=o.y,a;for(var a={},s=0;s<n.length;++s){var l=n[s];void 0!==t[l]&&(a[l]=t[l])}return a.topLeftX=o.x,a.topLeftY=o.y,a},this.centerElement=function(t,e,n){(function(t,e,n,i){var o=t.getCenterPoint(),a=o.x,s=o.y;e&&(a=i?i.left+.5*i.width:.5*r.options.stageWidth),n&&(s=i?i.top+.5*i.height:.5*r.options.stageHeight),t.setPositionByOrigin(new fabric.Point(a,s),"center","center"),r.stage.renderAll(),t.setCoords(),y(t)})(n=void 0===n?r.stage.getActiveObject():n,t,e,r.getBoundingBoxCoords(n)),n.autoCenter=!1},this.alignElement=function(t,e){var n=(e=void 0===e?r.stage.getActiveObject():e).getPointByOrigin("left","top"),i=r.getBoundingBoxCoords(e),o="left",a="top";"left"===t?(n.x=i?i.left:0,n.x+=e.padding+1):"top"===t?(n.y=i?i.top:0,n.y+=e.padding+1):"right"===t?(n.x=i?i.left+i.width-e.padding:r.options.stageWidth-e.padding,n.x-="text"==FPDUtil.getType(e.type)?4:0,o="right"):(n.y=i?i.top+i.height-e.padding:r.options.stageHeight,n.y-="text"==FPDUtil.getType(e.type)?4:0,a="bottom"),e.setPositionByOrigin(n,o,a),r.stage.renderAll(),e.setCoords(),y(e)},this.getZIndex=function(t){return t=void 0===t?r.stage.getActiveObject():t,r.stage.getObjects().indexOf(t)},this.changeColor=function(t,e,n){n=void 0===n||n;var i=FPDUtil.elementIsColorizable(t);if("string"==typeof e&&4==e.length&&(e+=e.substr(1,e.length)),"text"===FPDUtil.getType(t.type))"object"==typeof(e=!1===e?"#000000":e)&&(e=e[0]),t.set("fill",e),r.stage.renderAll(),t.pattern=null,t.fill=e;else if(t.type==FPDPathGroupName&&"object"==typeof e){for(var a=0;a<e.length;++a)t.getObjects()[a].set("fill",e[a]);r.stage.renderAll(),t.svgFill=e,delete t.fill}else"object"==typeof e&&(e=e[0]),"string"!=typeof e&&(e=!1),"png"==i||"dataurl"==i?(t.filters=[],void 0!==fabric.Image.filters.BlendColor?setTimeout(function(){e&&t.filters.push(new fabric.Image.filters.BlendColor({mode:"tint",color:e})),t.applyFilters(),r.stage.renderAll(),o.trigger("elementColorChange",[t,e,n])},1):(e&&t.filters.push(new fabric.Image.filters.Tint({color:e})),t.applyFilters(function(){r.stage.renderAll(),o.trigger("elementColorChange",[t,e,n])})),t.fill=e):"svg"==i&&(t.set("fill",e),r.stage.renderAll(),o.trigger("elementColorChange",[t,e,n]));w(t,e),o.trigger("elementColorChange",[t,e,n])},this.getIndex=function(){return t.children(".fpd-view-stage").index(r.stage.wrapperEl)},this.getUploadZone=function(t){for(var e=r.stage.getObjects(),n=0;n<e.length;++n)if(e[n].uploadZone&&e[n].title==t)return e[n]},this.changePrice=function(t,e){return"+"===e?r.totalPrice+=t:r.totalPrice-=t,r.truePrice=r.totalPrice,"number"==typeof r.options.maxPrice&&-1!==r.options.maxPrice&&r.truePrice>r.options.maxPrice&&(r.truePrice=r.options.maxPrice),r.truePrice%1!=0&&(r.truePrice=Number(r.truePrice.toFixed(2))),o.trigger("priceChange",[t,r.truePrice]),r.truePrice},this.setMask=function(t,e){if(e=void 0!==e?e:function(){},t&&t.url&&-1!=$.inArray("svg",t.url.split("."))){r.mask=t;var n=Date.now().toString(),i=(r.options._loadFromScript?r.options._loadFromScript:"")+t.url;r.options.imageLoadTimestamp&&!r.options._loadFromScript&&(i+="?"+n),$.get(i).done(function(){fabric.loadSVGFromURL(i,function(n,i){var o=null;n&&((o=n?fabric.util.groupSVGElements(n,i):null).setOptions({left:t.left?Number(t.left):0,top:t.top?Number(t.top):0,scaleX:t.scaleX?Number(t.scaleX):1,scaleY:t.scaleY?Number(t.scaleY):1,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!1,lockRotation:!0,borderColor:"transparent",fill:"rgba(0,0,0,0)",transparentCorners:!0,cornerColor:r.options.cornerColor?r.options.cornerColor:r.options.selectedColor,cornerIconColor:r.options.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"view-mask",objectCaching:!1,excludeFromExport:!0,_ignore:!0,_originParams:{left:t.left?Number(t.left):0,top:t.top?Number(t.top):0,scaleX:t.scaleX?Number(t.scaleX):1,scaleY:t.scaleY?Number(t.scaleY):1}}),r.stage.clipTo=function(t){o.render(t)},r.stage.renderAll(),r.maskObject=o,r.resetCanvasSize()),e(o)})}).fail(e)}else r.stage.clipTo=r.maskObject=r.mask=null,r.stage.renderAll()},this.getOptions=function(){var t={};return"object"==typeof FancyProductDesignerView.relevantOptions&&FancyProductDesignerView.relevantOptions.forEach(function(e){t[e]=r.options[e]}),t},this.toggleLock=function(t){return t=void 0===t||t,r.locked=t,o.trigger("priceChange",[0,r.truePrice]),t},this.loadElements=function(t,e){s&&r.reset(!1),r.elements=[],r.addElements(t,e)},this.addElements=function(t,e){function n(){if(++a<t.length){var s=t[a];i(s)||r.addElement(s.type,s.source,s.title,s.parameters)}else o.off("elementAdd",n),void 0!==e&&e.call(e,r)}function i(e){if(void 0===e.type||void 0===e.source||void 0===e.title){var i=t.indexOf(e);if(-1!==i)return FPDUtil.log("Element index "+i+" from elements removed, its not a valid element object!","info"),n(),!0}else r.elements.push(e);return!1}var a=0,s=t[0];s?(o.on("elementAdd",n),i(s)||r.addElement(s.type,s.source,s.title,s.parameters)):void 0!==e&&e.call(e,r)},this.renderElementBoundingBox=function(t){if(r.currentBoundingObject&&(r.stage.remove(r.currentBoundingObject),r.currentBoundingObject=null),t){var e=r.getBoundingBoxCoords(t);if(e){var n={left:e.left,top:e.top,width:e.width,height:e.height,stroke:r.options.boundingBoxColor,strokeWidth:1,strokeLineCap:"square",strokeDashArray:[5,5],fill:!1,selectable:!1,evented:!1,originX:"left",originY:"top",name:"bounding-box",excludeFromExport:!0,_ignore:!0};n=$.extend({},n,r.options.boundingBoxProps),r.currentBoundingObject=new fabric.Rect(n),r.stage.add(r.currentBoundingObject),r.currentBoundingObject.bringToFront(),o.trigger("boundingBoxToggle",[r.currentBoundingObject,!0])}else t.clipTo=null;y(t)}},this.renderPrintingBox=function(){if(r.printingBoxObject&&(r.stage.remove(r.printingBoxObject),r.printingBoxObject=null),FPDUtil.objectHasKeys(r.options.printingBox,["left","top","width","height"])){var t=new fabric.Rect({left:0,top:0,width:r.options.printingBox.width,height:r.options.printingBox.height,stroke:r.options.printingBox.visibility||r.options.editorMode?"#db2828":"transparent",strokeWidth:1.5,strokeLineCap:"square",fill:!1,selectable:!0,evented:!0,originX:"left",originY:"top",name:"printing-box",excludeFromExport:!0,_ignore:!0});r.printingBoxObject=new fabric.Group([t],{left:r.options.printingBox.left,top:r.options.printingBox.top,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!0,lockRotation:!0,borderColor:"transparent",transparentCorners:!0,cornerColor:r.options.cornerColor?r.options.cornerColor:r.options.selectedColor,cornerIconColor:r.options.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"printing-boxes",excludeFromExport:!0,_ignore:!0}),r.stage.add(r.printingBoxObject),r.printingBoxObject.setCoords(),r.stage.renderAll()}},this.setup=function(){this.loadElements(e.elements,h)},function(){r.title=e.title,r.thumbnail=e.thumbnail,r.elements=[],r.options=e.options,r.undos=[],r.redos=[],r.totalPrice=0,r.truePrice=0,r.zoom=1,r.responsiveScale=1,r.currentElement=null,r.currentBoundingObject=null,r.currentUploadZone=null,r.stage=null,r.fCanv=null,r.propertiesToInclude=["_isInitial","lockMovementX","lockMovementY","lockRotation","lockScalingX","lockScalingY","lockScalingFlip","lockUniScaling","resizeType","clipTo","clippingRect","boundingBox","boundingBoxMode","selectable","evented","title","editable","cornerColor","cornerIconColor","borderColor","isEditable","hasUploadZone"],r.mask=e.mask?e.mask:null,r.maskObject=null,r.printingBoxObject=null,r.locked=void 0!==e.locked?e.locked:e.options.optionalView,r.dragStage=!1,r.isCustomized=!1,r.textPlaceholder=null,r.numberPlaceholder=null,r.names_numbers=e.names_numbers?e.names_numbers:null,r.options.width&&(r.options.stageWidth=r.options.width,delete r.options.width),t.append("<canvas></canvas>"),o.on("elementAdd",function(t,e){e&&(g(),!e.isCustom||e.hasUploadZone||e.replace||(e.copyable=e.originParams.copyable=!0,r.stage.renderAll()))});var n=t.children("canvas:last").get(0),a=$.extend({},{containerClass:"fpd-view-stage fpd-hidden",selection:!1,hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0},i);r.fCanv=r.stage=new fabric.Canvas(n,a).on({"object:added":function(t){var e=t.target,n=e.price;if(e._addToUZ&&""!=e._addToUZ){var i=r.getElementByTitle(e._addToUZ);n=i.price?i.price:n}void 0===n||0===n||e.uploadZone||e._ignore||e.chargeAfterEditing&&!e._isPriced||(e.setCoords(),r.changePrice(n,"+")),o.trigger("fabricObject:added",[e])},"object:removed":function(t){var e=t.target;void 0===e.price||0===e.price||e.uploadZone||e.chargeAfterEditing&&!e._isPriced||r.changePrice(e.price,"-"),o.trigger("fabricObject:removed",[e])}}),r.stage.setDimensions({width:r.options.stageWidth,height:r.options.stageHeight}),r.mask&&r.setMask(r.mask),r.renderPrintingBox()}()};FancyProductDesignerView.relevantOptions=["stageWidth","stageHeight","customAdds","customImageParameters","customTextParameters","maxPrice","optionalView","designCategories","printingBox","output","layouts"];var FPDFilters={none:{name:"None",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABGhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNDlGNUFEOERDNDhFNDExOThFMDgyRUM1NERENjU5QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NDJBOTU5NjZBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDJBOTU5NjVBQTVFMTFFNDg3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"},grayscale:{name:"Grayscale",preview:"data:image/png;base64,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"},sepia:{name:"Sepia",preview:"data:image/png;base64,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"},sepia2:{name:"Sepia Second",preview:"data:image/png;base64,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"},cold:{name:"Cold",array:[1,0,0,0,0,0,1,0,0,0,-.2,.2,.1,.4,0,0,0,0,1,0],preview:"data:image/png;base64,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"},black_white:{name:"Black & White",array:[0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,1,0],preview:"data:image/png;base64,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"},old:{name:"Old",array:[1,0,0,0,0,-.4,1.3,-.4,.2,-.1,0,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},milk:{name:"Milk",array:[0,1,0,0,0,0,1,0,0,0,0,.6,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},purple:{name:"Purple",array:[1,-.2,0,0,0,0,1,0,-.1,0,0,1.2,1,.1,0,0,0,1.7,1,0],preview:"data:image/png;base64,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"},yellow:{name:"Yellow",array:[1,0,0,0,0,-.2,1,.3,.1,0,-.1,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},vintage:{name:"Vintage",array:[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],preview:"data:image/png;base64,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"},kodachrome:{name:"Kodachrome",array:[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABe+SURBVGgFXZrZr13nWcafNe35DD6zHSeuk7hNEEnrCIoKrUonJlWqhMQFXHMHUm9AggskS3DBH8IVAiHUFiEEURFqUpI0TduAncZ2PZ7BZ97z3mvi93zbpoh9zj5r+oZ3fN5hnWh48y/qJG4qSiJJpWr/rVIVo5mGp0P994exHtxrq1KhvCg1q2rN6lp1HTE2UlTHasZSK+bYSNVpxGq3pGY7VtaIlDUTvk0lDSlLOc8YnGSKOY+iWHGcKmYdLqTYNPz8w+rhgt04slvFnkyvooZKxlZRoor5FeulsRIWThjAwp5WFyxcc6tW5m+z1Jzb8BAYmFaV6orVwoetmFSwYMF8E5TDYMJucRkpZuOIa/8sZtSISt407OV94OXZUqy1GFf5jhfm4zGmvop81/dK/s7ZA7r5xCVrVqXSMBQOUUl4oCrnyKSoVpxUaiLdks1mZaYpSxR1rgoCPT5CCzHHOct4tkXBFkp4brYCjTBthgoYiqEp42uhpKxfwwVbBGsIzJp4fgPxZsDXFgQLxRzDJj7WlSqsIq5tQRGC4Wua4ihjEsyErSdMrMIaCTu3miyYQmBhFaI5CCtZwAxgH+zDvYR7jK1grI48LsYQF5tbxoExNsIqwxdFm8ywG3cXZ9Bh4T3lxZO54Y8fmFwfnt5jCjoKDIWVuG1mGAtR+EiFZGPrvvTICmIrNcwjdj2fpSgVghOIh8xgMJiT7dQmYeZtohH2GvzN6ghSt9myE9cm0vvFXMPzwsSY4/PwDA6DXQSamB8+rPt/PzBjyw4a8qKBt2BaCy79N8I//KSOfDQjpTJ2sYO2Mxw5i9Rlkw5jWrCVYkg5GhiUqYZ8fcdaMVV2yrCyZWL1Yw4oFnmZ2ILzhekl7BVZAMxJ4NIMLfzG3JgJH/1ZuLyvLbOwujdgXX/YuQ8atBXhAzWEC+KiIPucqTM1QJdXemOlaaWVpVS9TqJ2WqoRTdkYx2fGdB7pdNzQ3rilJ0VbE4FKcLLQnLfx9jYyhMO5CTa/Nt2Y8wCYZgCNmGlrbSGGIN5wvmBjwZSF5M9CUDCCltJktot5eMASS8wwqzMYQyM5WDUcqXNY6ZVipEYxV2OQKymRe3OoqNeU2qvgbE89/GsDFPkE5ncyXtPt8yXtwpidujZxHKNg3/geOyXWHT5jZmyokaXKhekLTPx/RphrsPevNbdgigsrA/OvQdI0zu8z6BwGllTjG/XZqarjucrHM1WPC3VPpmyQKy5mbDqRlsGuVbacAmddvkvb3Lsc/KLRybQDgytLtdZPO7pzTDyagHIQWrMh2IWmfGQ+AOMYBKfM9dGwbUI5/19Hh1BTb4KDIBbXgRWjl5+FW9bI5L40eKjiEBh90FKx11B03Fc8mUA8ppB6UI7dMgm0gmPVLQylhfaiIZqzEM5Vr74EQTxOD9Re39anerHWCIofH6aYHsRP8YVoBj3+2oDYB7N1HEsgyszE+Fts6whE/pxQk7vg4xnhbM3P4v7iXlrcPNX8Nm77uCVChJJ8qHg+QtOYhBFrBhEZX4gPmFpwHBoQWGodUWUwNzpQgDeYUXUWAkXcvaLtdketbqHbe7Xmk6dEQLo1YjL910d/fn62uPKDkj0Wjs3TpwHRGYWf1XAWvkFbmOr420BqFHIKRTmSn0wXqgyLs7kN2QHAdgzihFVGrJRzvU48bcOtI+bZI9Vd/Kyxbidg2Cn+E2llZ12fbBR6+HhALHoaDwL5SNQEBbotXQdRbsCehRSSB7ZwnPPH4LGAFi5MTviaGYTMRVz14RqvTIcDpYMRGsAfMB8TU8+NIpybawf8Vth2sZLvDQAFUhG8nyPgUOJDNrXa55heNVWdzdTZ7Om5i20Q0ATYVRfrLLTwlFKWgyT+Pv14fT626EXMWMhxoQlYcqwDeOzoJedpBLFJhib4qS0xr5Uzm/zF69YTJqCwQLAfEks08ZFFcJFogjZaaHEVTZD31NO9hfMaCMDVaP5EUTNTb3NZW2WhozOExTrBDSzWIF7vzprhwz0e2uysARO+uP2UfQvCDOCv8MA51wG1PG7KA+OepeCoZf8IXDAIFPFtI4oRJnBqpw+ZJPfO0UK7y5wevoM2SM7qgjQnW2YsKjB99UBVZ1m97S1N0oFmCGyRZPHM5or9WxtJIBqWOD5LEsMt740QVI6UAEA4JEkqdHHqhNHMsBMfbthKg21zHrN4BGPBoj2PT52mBE0YsD9E2Jlh0k7fBo0aGwyAYhhQMoOJNTRm2xypaqwwu0AGM8VLXS0D809ygNjzQ5RnjYCGbARRZik2cYbsp1wUs31FIGuGuTYqSoG6g9ZbmmYrGkQ9TZifhmiKuAPRrP0MmRZRnhusX4/4Y7PKkcoyR/vFFMZRAhSBWmNOILwNA+UhY/GZeR9m0JQFZEOH+Rr0a3dKdftDDZFqFS+RnpEFsLYd3ZhiBSXAZ2QfI3blk9sqx3fJLNB0Y4kxBZk0Oimm6o7O1apWdRavwoht3kQuWOHctDOSE1tbsGULa0RUNxOm2Tf5Ff4l0hMdYlLdS5hVh4EwZKgp0BreXUFAjGbCqmBpko50YfRvKg4eEYOvKVp+VXm2qhmaS9JVQLKBRnDehLXivorhPqlMA9OHEdg1JNdqq0hXVCQjtSZ9bUxIoYyqgSj/gS5DHysowhZtpyFlQHWOMbV9xMoxYjjrt3lgTfU5EgTtlKEiNFSPD4k7+EjVJS6dqczIGpwYIk27TTM/UfvdnypZua3O6/c1alzW+WhPZWNLxcorGsZr6nS2lOa7Sos+c1fQBKbNfFuOBV2h5TprclyhMqUiCgGnAQdmAMupkabV68Bj7KjsUT4jJkRjZLICzoNUZlREb0OgJnxPMaW1djAHUmY0dQLFMJO28S/Aozwh6H+o/M4djX56ADEddbq4eH6EuW2xR6bJve/rztnbeie5rl967aq20wf4Q5P5ZAEmsSQ9sj+RsLrWLCNrLVPRXIIRu4HLUh8Rf3BxQxoTY7i0O1iMFYRbFrEjfRvN2EfGMEM2rDEae2JYfQzxXCdcn8DIJTQFDqRO1U8+0uz9dzUed1VeuKDs0qbmlNElG0STA4BgXcXlT+sHDw709jsHGj3Y1+997bLq3gagRmaOlF3kImKLF6YwV/yuBC1dGKbFlIcwEYofaMDY+MMYDiY9IAdasQnWIFZ5jP12UHCXvMjghcrlWMN9B6lomU37AzQD8Xsj1Rc5761r2j/WZPlTqna6jBsBnwAC++aUDrHnjc/VnZ3r5XiuNwdtDQ4o6mojHoDhJM45GhlISaYdEWiFdowvrn8qAnCaD8wIXDp+QFPK0aZgn2AUk/EVO4q1Zt9AO4FgIDI1MwHRMsoaHNlZwJwAM4eZKVf7rPOTJ8pf6Wr64kWVpP01iWPExlWCGWZt1sTJLOkKYtj/tZ2+1khSNVmYU0BTtEAbBJdcAgjIytnbzLmb4nnYutJpn/wTH4mpzRN8pHD9YE5Z3hJz48Af+3lhO7MpwGBErlXNkGaPe/zap4opyAYRNeZVor3Zk1qTFWqWzedBJCTKj/3OvSHLpsK/zqM2X8bDWDPNqAhyff6lfZ3OugFUapt0CJiYCITXCCEw50tqJAZBWxsfuVJpejfBxoiO5FJs47ZTIDw4vbUK8bVregThc1YiVCARUpkYy4npX8l+gyOWwHM5qJTjS/0BqPJJ0Ge5E+KFi2GSdv5mIpHRfuOCxu2XlDRX2Jf4QFEX16da+wOy78MT3W3PtVLvqoWWOzXEJptQhwnXmBWSNcK6+VECx+nyN3KN3q81ehfzgICYuOKqzdEJ8pjAX3OHtqwlI66fOI2oidAIKySXdvjEvR66dQ4h56eRBklXSzsXmDSGQJhj5QeY5pPuy+psfRnze6BqfEfTk/cwl0R52Varc0XrW6+ouXZA9rOnIQlpizK7Vx2qOb6pJSrQFr5i1ApiZ15UHGGW2HHvNZoBv9jU8L225u+OlA/jhUPjKzY3Y7Z5cTAKkZwlakd0J2D8BuhmQGTNoKX5LNbhGWq9uqKl9aZSHPO8HOrOhVeVrf+qloyOs1OdnN/UYH6KrJbJwI8RhFMPkPz0R5pPjxAgvYSI9N+23gT+Nj6n0fyu2md3tDFdRZhopGA+JKQlabwGtRpbE3W+vqHZKw2N/5HJT0AnStZQGcKAGwVOZ+zvz4obw7bVFDsOoSUDidOHs2Gi/bypyxeXlLVyHdL0e3z5SyFeDEc/VX/8GH/o0FZ9QTnBcczzOSgWY5cZzh8Z0QigZiSP8ImcdIXgWEcQn1zVbO2C+ufvaxuA6dZLGAv0/ckfb96oR4j9IaqCytlnv6roWkv5HlnqvvMa4A1GSpze5M4Lelw5VTzX/lpLNjm3SmfcH81j3R9nOiE1uXIdm75U69GLX1Sze1HnR/+uaT6C6B7oTP2DkybZuibjByiaKEHPrAKVIpy6wKlL38MUHTeS7jVNpmcaDW6hBQCqd12T5jklzyEwfUHJja/WN0IzoeVoPSVN6Gi2fV3pp9fxp7Hyh0PqJYiFYLc9/cU8+Q3hEbuGIc5noNQINDvKU/1s3lBOJ/vlz6xpcPWi9NyXdHb8ryDz2cLPcNaC+FPQnXGql1JVzoszkG0Zc+EaR5yjpbrGt0hA03QNBhFeQZAlklcklPnkkXqrv6n5Ukv96U26MkWmZARloFLx0raSdqlWsae6M1X29R2llxo6//bjoJ2YMRmpSrnVVP5kgmQc0LAuNplj9320d0Br9RHd/B2Kqag5VrnxPFCca0IfwME1r4gbSD1BYxUpxmSe0/jDl3DyvKCJkfQIzm4NNagEttAI48iCgaNgEbXjV2sbbXZ1cvKBlpauovWvw2wf7hpt9X/ht1S11oHTPTUmH6tR3pNTmf6vfEWrz29r+M4TnX5wrJvPHar+/Rd0+YMrKv7mP0h+YYxtx2jqEAYOaPQdw9BzTZK8Jn6GZhrYXq99UQUZQgQhBfg/x8kddSNa4zlZQCvbQtib+IENFesgPWo4aKKRmc4QGu0omE+aaCfuYgGUpwjvdHRP7fIyzn5Qa/rGNc03r6tx8pbaJ98F6SmCyKXQvBrrPyE3ekMrv72lt1a/r+/hA92DWyp/fUc7u9d19C8fkNknGgE3p5jLIXA4gbneKunFCvUJqflw8EOk2sd/O2rT+FZnXWVzE7Mk0bTv2R+Izq14mcC4ynuUpsbTh/jlOZrroRWiDxWnXyXUMFjk1Dwkmw7Ornmm0zsAO0hDJoejj6lekVr78zjPQ3KXAyRIBD56oqX8u/refqo3D0fqdzoa7k30w/hNvfG7X4DW39DBd97Sg35JRo9mWM5laG+lh58QkaglnHbPKFXdFC/yAb44CMTK5yBUism5p9VIlrTSeUn7h9/S1upnVKGh89Et8tAOTA8X/ulOjz2NnhgYHvwoxQSTP3stuxGfwsTaRc2W8YnxrqbJ80RmnH22ojJf1t7eVH9/cK5dUmq/PjAUG+HOkl0tXX9Br159XV36YTNSjj5OM8G0PvvqZXWfP1WxvY3/7Wg2uxdMsCLQlhDFKmTXpPiYSRwT+SmuED/rFjp/9AMtN9d1YelVxhIKKAEShJC508/4DA1lwHdCndJsgVj4S1oZSi9eUDEG5OjdTpY/oQjYzYHFJL2t1sdHaCPXw5pF0GRU0EufpJpRts6OZrof/5PKq1/Syxtf1OcO3tYR2cF/fVRoaaXGPKgb+u+ou/FHSPY++sKsAYGS1pHzLvtCjFYqUGzu3jI/U0fyS1/QjMKsTxfUPpOQTZpBsjcUATChiYrWTuRGutfBbNNig4VbLWW7t9EAL3RaFCn3bqkxPMGuIx2fZvpxNdYMKZTAYkQnPoEjv14rYfz8zEXOdzWjhMUW9MLanra/glnlD3Xcf6zD3Tt6cecPtbH8Oj3xWzQmGgTEBzRuCLBI1W+dDOWNUO31YIp2baelcUFdDyMZJW3tPjHSp9uB01NWg2DABsBximAL3GwV07qc3ojPBqQiR0oO7qr53gcQlGt24Tllj/f0YxoFb5MizMmV4EUpmnCDpNVaIwhS2OBwY9qhk2hPRaun5nGt5sE+SNhVNTzVx7MTbV6MiOq/rMnsvs76H7Ex+RHpSJu0w4lfkrpJAUPVAKmXvAjgVQc1egFUN0EqjBXCKXMRVOo+LndqtOosInYab6N1mlFh19UTggKmUpKeF3hs/egxvemJ7gH7jhUJbzANOP76DdYMcHAwnI4TjYe86OnXult8pPeWCIrROh39qdLDliYHLd299R3Ufx97vgIhM2rsjHcsJqjAvvETiqYcAEgykkF35mE0pqoM4IAGIuKQqP3dICggnGgGFC+rCZJFxCDHieRP30hvmKmKOtwBrpxhvTAQHQ/JhnP9CK7vt6CeQGh7xQLYBzh0DY95FET0zFkvki0R0blOtQuMJntdrRxNdML9uyR2nfimtna+jEo3icx98qxLSJ1UBAZyKr4YR+7i4DXw3eXZLO8DyWOCrX2iAcC4+QBTWEOFpJ3GNqhrGtkGtf818jSk67e0ftGZs4gLqBpoc4+6IqfJyGSBDaRh98RPWHCKUxY5A5GNHZHMEIJAcbQ3B84Ps4d6a/NQN3kTdvGUsvW4o/dv/Uy3b/6lemhje+13IIpse3w/pDfNJkUU+0+d8aKdBnvMXdiwY4VZ59QpqTspohFBb5mEKIy3uVdozuPj4Ze/pnJtOfStrI2S8tNMmfSC94abMJRQ17s3V2Z0Oni1FowT7C+x3xqpOImcFTDHe8QxjMxoSowaR/rxtYnOKZo6pyt6eNLWf/7Xz/SjD/6KSvKHmMUmMGqzPtBksk9+BbRjGm7YTeaHmDgEk1xmxJBAy/wR5oQvoXxydTRwxOu/Ah+ihmng7N/85hduzK69Rgo+VnR0CiAsnMhZrx2ZzEAf4h8jetIl0OmPS177DGTAk5kAd4J0nOYvzM2+N0kL7ZP6T87WdAzYTAGK48G5Bv3va433kSsrv8ZaBDhMJ4agiBQmTpqkLyfEFwjG1hMQqyCNt7OnmGwFs7WZc+bN+E7nGlq5Sxr/jY0bUatDSfqiqitbbqjjqCOVfWoEbL4eFiSBtXY7kM0z95IXL/tJ+0lJTHCekz9hvKH8IkJHqBpvkkvqKS2bAW+sBo+7oBbaIugdUzY8PvqQFPyWdi5cIfG7hnkAxfhMk5TGzjx3LkW3JaOPbIZS5jUJxAaMBkw3Oy/zNmNHB/039e79v1P09j//Ay7BO5GUxoH9hZSh2sdWP76jandPc+qShzTf/nZ5rkE8gTnnN3NqHtJ7S999LsrIhGa2/+UDHSJhHymZnZPjZ9WUQHvQ0HCX/1fZxAfW2KvDns1cmzT5rly+pOefe12bq1e1guO6mJuQS+U5GTgasgDjwEiL/3P5hEb5RKeTXZi4rb3+gVbjy4q+9dd/XscdQny3Q6aKVOjfJm3UTNbqooYl6JiQNswKnXHMEfMEe5vmYw1nU6RMekN0ns+BY1Amn01wTtJ3CvcKNKpIPufU83N6X/MTHJqKNL1AhO4hAIqRivZTCup1urEukJ9tr27ruZ3Lurh2lZdhazyDLjQV4YtYL9rByJxoIs8m0N2ifupg5ukI6UcxuYzjBIgSg+9OI6IG/9HTxHaJ+n5R0yR1uIizR7QvYxiO6LmyC7bsLx0VGGYfzCskDRwJbEiSEzb2FWbKeVXyHAfw/7k4ZCQAi1+IxuyfkGyGfyjgfbZfbYQMAu3gkVwb9hnPLh5j/8RzMT+CJ5CJQdv22cHF+JzoCdSWGHMUg9X8y1J480ooL4DkBEahgE2ZhhnGZgx/QApBAAnPIgsEB/WuHe4vXjezjoslvojXW0II5/zaDH3lD2GKP+Z20eyweS7MFMJhyMPMSBjrudyLod193zSLHfoX7PrljlmPHEzcx2JHN0rMpDcnc4EPchtLw7GHNMH/DmUCI6A6MEJSyVDmc/R9i5E1wxjOwzWLxTwPLJC/EYqZY2IRCs9Mh/eLndt5tbCgDx5lBvwcgXIBP2FcGiFlq8ZOilFz29LmYXjvzUJWrQmAMb+1cvvUKveefoXt9+PPNg4rmyBvbPF6JxNkRmA+0ANfgTiuvc6zqwXlzMX4n5LLs8XHe5pZni7W4Cq8PkeY3t9pzf8AsrK0pATIteUAAAAASUVORK5CYII="},technicolor:{name:"Technicolor",array:[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],preview:"data:image/png;base64,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"},monochrome:{name:"Monochrome",array:[.95,0,0,0,.05,.85,0,0,0,.15,.5,0,0,0,.5,0,0,0,1,0],preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABJsSURBVGgFjZrZjhzXecdPV1cvsw+HQ5HDoSPJdkRvsGUrAQwJzl0E5C4X8Qv4Mk8R+Bn8OgaMAJGDxPsia6EkasR1OPvWW3W3f7/vVHGGshTkUD1VfbZv+3/LOa3W41/9+7xot1K71Uq22Xye5rN5Go2n6eB4lH79+6fp3s5xmtE3qaZpSP94PEuJeXSlgmXdbjv1+2XqddppaaGTFhc7qd+jj4993W6ZOmWLZ5G6ZTu1ipTa7SJJss2Xoh2k+Z55yN/S8+9zaDWteZ9NYYF/wS/DpWtfXM4SuGsVRSoh1oGZ8WSaptNZGo6yIKxXjmBk5vpqlko+KmOMsJ2xa1OqVBB7FYx17KBJWOalWTC/4V0h/KiYv2n0q7SmKYzCz6bZANME/Wbw808JlGhxsd8JyUdYYQxD0+k8hHJcwjJaRR/aKRmr5nyfYT2FmQWzPicQLSoZhQnnS7DeQ94bIdz3b5sMo3+FiQkKNs+vdBXzNoLUkrpRYzY3QpnB5EJfCMjsLDZyM2EmHKUZm/OczWZsjpronNI5ReiqFDY8WVsi2KydoSAT2SYxPfaXpjxKy33zSLzUfxwUTLm12eEqv0BLLb0oRJ5KP/DqdcqAzGQCowggw8E8O7YaHPge+/hUCTDjmBzVlP3e0JJewfeS/cM/eY++GorOs8no1fe8YQzVf/I8v3wptBx0k7KDg+LMCwsljlymBaC22MN58R1hJZTOLsbpfDAJQRUy+FAAP3wJIWQcRhVA5vW/NhZzj7b9zPNd4Rvm44uMRPsCZddKcrhUah2pjXaumkpmWpiyhxB//+p6eo2O62u9tLzcS0tEKIULS8LtcFSlg6NRevLsPO3uDdKI4OBeoVGICBb3g0QwLcMKBP/xXaF4DYHtd+4Xtfn8xQERYpNO+IhfxTU9MUAQSFMmiXNh8tU7q6lAex0IKlgPi/QIpSV9ZRBupds3l9PXX1lPzw4G6eNPj9PDp+dEu1nqdvKeTAsFq21Db1hGYa4wrmUU4tIimR3/hlJelCP2yGxjYQVoE0JahjOYHxNiz4dVuriYpDPgUiFMbDydEk5551+7QEC0q0VmfBRG2CwvFmkR+G2u99NH5J4P7x9G7qlcO23X0ENB0uSjhmUkQ/CS6S96a4RTIFv9eP4sjSAzNHd+WqWjE7AO3k2GWsSmFcL0MA4/hNFp6hGd8PmYYw6x6Us20l1aX+um731zM11HoPc/OUyDQRVCuN7wXaCIOftmCiyqraA1CrNl3S5jVNOTraUQwr4RRgOUh2B7/2iQTs8undVlmr4kFDhpyiIFCqFhZIygEhVaMjOjb17kkJxJtlKn00p/d2clLS910vsfHaYLrNy0RrsixX1s0vv/tyyEgshf+MgH949Csg7QcCB8xR1R9AzT65BMDRri2Tlmb7W4QDkivGzmik6bSFbz4zzHNjcWwqL3do7SaJSt9wLe89bBkL5ja+jFlyt/rsIqeIVm04pJrV2hUpnUkFB4yJ+hNfiEWEitVeqVftcyTM9OZz+DzXhDwPXXgNgrd9YiQDhfWWXkaru0yOcGrk7i3XV+5DNa/V7Ehk0fzxCATgVzbIIwPud819Et/sS5fRWWmTLRj8nNNsdYV5vzbBvrvbRNZDMwPMcT/fVwzMkaV8wXm/35k3my7lMQP9I2IAUyo5ygoyF6lVbuy+QyISGX6ynhZGBouDHr2xy/2lzXwGydXGSEi+TIMyzumlrDV2F1VQCH5yjQeU2lrgCTCVU5/ZGJmjzTbKoz+u4nNguuctjUsRu/GLNJhOfaMYLY54S4KlCHyLYBzLqU9tLICru0gEsb5rPGFTCFss7Px2lAagilEGT65DJDvYLrHqXlQxSAbOJ7NtclszIiw4a7qbghIUpQP1vsZ+1PyOSpQxSTs/+jybznlbP+JF2Qo1oUki1yk+tEpuHZp/MafZjPtLrlTIvIKKyZGRHT6mKDftNGmbOp6s8chBUaZuxTS6jaotGDkviMxthkYnIsKFFyxFIhkvmypjbbHg3Q5h4VQFQK7ImegEZdvhBQdPzgg34jZCi75k9BHNMK7meOu77Rt9ZqyL5YaSq4uUnsOcUNGhy7okmAOpvRq6L+wihZm8g6c21N3Pm2gBP9QuzsfIJF28GEJ86Dw2HM6VD6DMg5K0vdoC+UFV7YigqZqUhJRPqAtVaUr6h+s/MQjQhNjWDhdC6iwz5jvLWTVtEv1IbHVg9VmnpE4dhtsjvMGuGuNoXQqofHw/SY4tJRK2kZWUAJKyvdtI8w7350kP78wX760T9uk4P6CIsfQCtbiFXxnxDLhyvLJZFB1MwdOrACYbDnwsiIm7jaiDSdFmEZ8ToDYpq9i4D4YNRnzm8KQqOSQvtdJjwuP3xylk5xWvuuR6L0aGz5YjGKA3OI+/17e+kX7+ykvcNB+smPv40PKbJ8oHme1hI+7Z0jjAp3SlkBC7U1rXGZE1MjjE6nICyG2TnOPkGAuFBA+xMgUfQ4PaJpTW8YNyJNeLpGjXuGUUlHp6OAwMpiN57OsAkd95SzHpcUr9xeITpxLMByHR3cf1mW4MWyFYOHAP71zDxnQnnBIuepJUsQtS3hcGrmKYZNXyi4afBfDo2U82hxNMrj1WDMGm9ScrIaw9whtzCuN1IJO/dVg40QeWVm1Hky/vq3NtPqSi+qCscNNMF5nhyWuUwXcO5CfKc8J7zp+d0uOQFCbRYKMcd11tiHZwjHlzl+VLCTeB9NPArnc7oLRqNJOi8m4ZwVFcExVlBLd24toygUwLtNjRqJtPbJ2TgcX+V4XeS10ltv3E7HhFSDjf0tOXdtoIPXeh+lcI4GLZeJDjpgBd5KnLdNrPb2JOa6nlXhz7y7acVHlVqquJHZto22zQUTCHkkmBGAdP6jk1HavLbAvBxh4iCG0rwf2302TIdHQ3yEAGJu4p+Vggp7/Zs30tP9i/Tg8VlawzohYO1vKlfGfYZ0Msd/5d2vrsdp7hGOaNjTvLN5xqbSNOWAZYcKabShPPrCFMHnOLIMmMysuQwCe0Qg99veWpFOKMRo58nx5HScrlGqeNrUH/YOhSWRiHVLlP0vbS5xpO6QNKsQrt/tcCrlygerenfgunDDKyAtDam3byyF5h4gzNPd5oiaE9NM0RWAp3iVKSExIZZrLZsCOk34ePk2AGJP9y7SKkwt9LJvHKD9XfoMsx64bCLBKOZ6W5vkYLDZxRqDCwnQx/det0prq720TuF5ChRPGVAR5hWDkK0cETvHLcIoUn795bW4YHjv46PQmniVWflVGz6tfXIkw8QhlWO8s9lwzBNVHQIpmdm+eSOuk/YJpackwLXVPj6RBVKrat+LCi1nPsKL8BGFyUrK+J8zTsKdD0OJVgPyYShfRzhDvPyUG0jm6VDNVJMyzg7ffm2DU91B3P0KFbFNzomIJjxymUIHzU0nmoPm2HBcBbbdz+w8wnQqa3WpRyI8C5/IIXeelmE4ai8CTlziwaRw0idmJme0k7fm3hhtHWFBq4DFxTKt4zvHWGc4KqDTIbPDyfJKB4fNV59N9v7O3c208+g0ffrgJI3Y3LvbAgzrG41FhES8E1UMz0ayI/D/ePcsLKzWvS8WTo+eZMg2MJoy9/h4HEdhlWlW76KwZu+oGNjf25sSeJpQ44iNwhRWWnfwPwPQ0/1BvtfyokFs9xZQEc3BDve43mcZ1d778ADpR1EgWif5MWw7L5wUIYScVtg7GMaV0BaHKAtKI6EnTc/sEfVgQETmYzP9MKVVxLz3y1lQzyvQQRFaJC5CoOU6HWcBOBmUnlLqXFvrR4lTalInGBWEid99thBMPG7fJIJgyh1C4ac7JzjxeXr59mq69dJSeu/eIYJkKw1h1AToRcYJ+ePl7ZWAoqHVI/QaVjHKjYlSo3jmisKjp/Drk9WLwopWVvlw3R45inet6l2CEPduwRlaSL73DgkgwLbQ0QydUc4zEBsx18SnI7pooddJd1+9Fhr/I7XQL3/7OI1wwK0bi9wwDiNC7WJeS/MjhPH8sI5jm2tUireQQsHfMHrspZN6jveGRec2oCjkAsIIR1GgEg3Hsq1V9JseSDAAmIe8yNBfWMZ17RjYY3bhoXQmJx02Q4DLhcBlFWPv/OpR+s//eRABwJzzzm8eRV31Xe6vxO7DJ6dR6DWQW1/txjq2DdjpexGhCM1az6Y/hBLh1KjYBRVWAe5xk1yydWslwnE+USIAfOZDXn0YVEz2EMKFVe0Z2B6C1cbRgijMyaDa/eSz4/Tzd3a4rMYvgJ7a8/zwv398guba6V/f/lp66x+20zZMWBU4rlZlWKiuAE1DalzDosHhMAcGc5NNq+kTjp8Qpo8JGAaP6+QNo1OM42v6Rh+raJkFLLm4gPX4daxHMCi9JenzMsJcasdmuERUPi2ITtN//frR8zOEttNqA8LsOUTf//gwvfqV1fTmG1vp7X96OZLeb/60CwP90KynRi+/D464nUR7iwhacSQUwjYZFhEjYi1y0Cpg14uqOIpOWMrVRraekGuqDGfHJSHryjgMMTlCm4LQ2ZQGash6yZwixt3AK02ZM+qEZaLCPQanFXdXK1xmrwQ8DJ9GlcOHp+mWMCE4+JukENofDCLJNWcVoWxQkLgI0Mk901v6m/BszrWpRBWsAmwzlQ7b5QUa58nRlbxKn4f9Aq3J8IRoohB7OLIZOxYwZmDoQMwfRmezEUxxmUBJYaJUuyvLOCtQUC/motcIFKvkKhl7dnARDKhAw+4QP/QEa3M/tX8xpiJnf2FfFPknHJOoTac3nHsLqtOrGA4k/JzHBDU/GFAqEBp1eMOdP94Y+3fQqDiPcwpWiHoKwFvdKpxrdM4T/Oz+w5P07r2DsKLjWsxQ/Lu/7AZxGVezHqC8zhFKVs2yOMLiUX7wHpcNMGg000K27F86O+kB48SJ0pDNnDCEjMloVcdl373e8amQMqrpowqGogbWT9rEeaFmhu5Rk+lXfrfYMwTf2VpONyjhTZ5/+Msezt9Lr9+9nm5sLIaSzBtq9GIAPWjFD68IOsL3LG08p0hXSCup43FdBNf2KaS5r9Pm0AYs+VkBadGcWnFD4aCMBgE3shpVG4XlOv+0sMfjnHv8+UwYZmVMLsA3mq5Iikcnw/SV7dXIJ/c/O03/TcBQWYZrQ/M+ddPJEYcn6Jk/FMqf7/IhL/8kLm0jqWP9ngm1Tpgs0kcr8kibc74wLTfIuHvHwAloTMAkN3bUoFkIy3aTl6bTydzYn9mM69GUnk0loO/J1AynVziLzYdUAz1rJaz+4PFpVLkGjzd/sBVJtmzjX1hyhE94k6KP6dyGeSHkTaJQDJhqeRi2X+XrVwqgVZYIw+Ui2fUmHbtwcYyWTFpNRNAS18jQbmZVW+pUMGhIljl/V6cAiPmRlBBUoScTIMgaIfontCzOLeV9yuQ+1cAPv38r3eQcpPM7j6X8xuLqFMFDJoW31g4fRoH6mBaSSlygM27pc4F/y0qUBbcpN1Y5lZnoJOrmEhabXgacPCZJhQNytoaIzlkihE1recjxx50GciZO9iff8H9LEDQ8vxvWLYlOKEB3Hp2k77y2mb77jc20QeFnVBoSJbv8uqTlT6oRAuSwayQTSob91V4PivgoffrwfYLRn9/fS+1/+5e7/6HzKJCQsbY3fC4iveb2gmwNTD8jBGfvyRoRVWOTIswpCIrKzs/m+pfa1MeaqGheMYIZFaVnQPiAZPoul3G71GjONZJZfxnVonKGecOtfOl7HvS0AEiOsv8Tfqe8xw+vq/S1fvbTf55bLpuELNiM354L/NlN7RodNOchZwfzgJZSsxfkDq89A89oPU6aUBDDJtcIlzCvQPqV40ZA10rHD1tHRFLjS5QaG0S5LartV6mc72ytRp9+ISryUdvp1oM8UZz+5L2ZhWdp9JBZY7jpXn8gl/FhkO/CRe1I7Aa3g24Yt+cKWfs87ISv6C9aViKW3Tqv71rA5MZr7mNeppX3bmBjxBJW0vcpL1GVQwsW4JPvvjMuz36YFoEGveO0QqC+kRAK+CoLcxKMTd3QjfloJZkIQn7nEwkMSgzVc6iP+G7SYjgIGgXibkYGYn8pR2cepy8GLh/R3zArXZNYPJmjQEGXpxYDSfl42UjofD9NU4uqUnjNuGGbG/fAuc5mH64ZSZJbOyaiFPoyq1iG+XErzwb2mZGf742EeUVNCZqNomKufMT8zEwjENv4HwLls4mCZeUijQw2BHw6KRJdrYHoU/Oy6ka8xwb20eF3W16brRTfY31N1HVMCI3Sb4t3nvbbhGEQiW9f/MeZcqKQrld41/wVldlbrlOW/wwAAAAASUVORK5CYII="}},FPDToolbar=function(t,e){var n=this,i=$("body"),o=t.children(".fpd-sub-panel"),r=t.find(".fpd-color-wrapper"),a=t.find(".fpd-tool-font-family"),s=!1;this.isTransforming=!1,this.placement=e.mainOptions.toolbarPlacement;var l=function(e,n){n=void 0===n||n;var i=t.find(".fpd-tool-"+e).toggle(n);return n&&i.parent(".fpd-row").show(),i},c=function(t,e,n){return n=Boolean(n),o.children(".fpd-panel-"+t).children(".fpd-tool-"+e).toggle(n)},u=function(t,e,n){o.children(".fpd-panel-"+t).find(".fpd-panel-tabs #"+e).toggleClass("fpd-disabled",!n)},d=function(n){t.find(".fpd-current-fill").css("background",n),e.currentViewInstance.changeColor(e.currentViewInstance.currentElement,n)},h=function(t){o.find(".fpd-tool-uniscaling-locker > span").removeClass().addClass(t?"fpd-icon-locked":"fpd-icon-unlocked"),o.find(".fpd-tool-scaleY").toggleClass("fpd-disabled",t)};this.update=function(e){this.hideTools(),l("reset");var i=e.source;if(i)var r=(i=i.split("?")[0]).split(".").pop().toLowerCase();e.advancedEditing&&i&&(-1!==$.inArray(r,["png","jpg","jpeg"])||-1!==r.search(/data:image\/(jpeg|png);/))&&l("advanced-editing"),FPDUtil.elementHasColorSelection(e)&&(l("fill"),u("fill","color",!0)),(e.resizable&&"image"===FPDUtil.getType(e.type)||e.rotatable)&&(l("transform"),c("transform","scale",e.resizable&&"image"===FPDUtil.getType(e.type)),h(e.lockUniScaling),c("transform","uniscaling-locker",e.resizable&&e.uniScalingUnlockable),c("transform","angle",e.rotatable)),e.draggable&&l("position"),e.zChangeable&&l("move"),(FPDUtil.isSVG(e)||"text"===FPDUtil.getType(e.type))&&e.patterns&&e.patterns.length&&(l("fill"),u("fill","pattern",!0)),"text"===FPDUtil.getType(e.type)&&e.editable&&(l("font-family"),l("text-size",e.resizable),l("text-line-height"),l("text-letter-spacing"),l("text-bold"),l("text-italic"),l("text-underline"),l("text-transform"),l("text-align"),l("text-stroke"),e.curvable&&l("curved-text"),o.find(".fpd-panel-edit-text textarea").val(e.get("text")),l("edit-text",!e.textPlaceholder&&!e.numberPlaceholder)),o.find(".fpd-panel-tabs").each(function(t,e){var n=$(e);n.toggle(n.children(":not(.fpd-disabled)").length>1),n.children(":not(.fpd-disabled):first").addClass("fpd-active").click()}),t.find("[data-control]").each(function(t,n){var i=$(n),o=i.data("control");if(i.hasClass("fpd-number")){if(void 0!==e[o]){var r=i.attr("step")&&i.attr("step").length>1?parseFloat(e[o]).toFixed(2):parseInt(e[o]);i.val(r),i.prev(".fpd-range-wrapper")&&i.prev(".fpd-range-wrapper").children("input").val(r).rangeslider("update",!0,!1)}}else if(i.hasClass("fpd-toggle"))i.toggleClass("fpd-enabled",e[o]===i.data("enabled"));else if(i.hasClass("fpd-current-fill")){var a=e[o];"string"==typeof a?i.css("background",a):"object"==typeof a?a.source?(a=a.source.src,i.css("background","url("+a+")")):(a=a[0],i.css("background",a)):!0===e.colors&&e.type===FPDPathGroupName?(a=tinycolor(e.getObjects()[0].fill),i.css("background",a)):!1===a&&e.colors&&e.colors[0]&&(a=e.colors[0],i.css("background",a))}else if(i.hasClass("fpd-dropdown-current")&&void 0!==e[o]){var s=i.nextAll(".fpd-dropdown-list:first").children('[data-value="'+e[o]+'"]').html();i.is("input")?i.val(s):i.html(s).data("value"),"fontFamily"===o&&i.css("font-family",s)}}),n.updatePosition(e)},this.hideTools=function(){t.children(".fpd-row").hide().children("div").hide().removeClass("fpd-active"),o.hide().children().removeClass("fpd-active").find(".fpd-panel-tabs > span").addClass("fpd-disabled")},this.updatePosition=function(i,o){if(o=void 0===o||o,i){var r=i.oCoords,a=r.mb.y,s=e.$productStage.offset(),l=e.$mainWrapper.offset();if("inside-bottom"==n.placement||"inside-top"==n.placement){var c=e.$container.parents(".fpd-modal-wrapper").length>0?e.$container.parents(".fpd-modal-wrapper").scrollTop():document.body.scrollTop;n.placement,a=e.$container.parents(".fpd-modal-wrapper").length>0?c?Math.abs(l.top):0:c>l.top?c-l.top:0,t.css({top:a})}else{t.width(320);var u=Math.max.apply(null,$(t.children(".fpd-row")).map(function(){return $(this).outerWidth(!0)}).get());t.width(u+2);var d=i.getBoundingRect(),h=e.mainOptions.modalMode?parseInt(e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper").css("padding-top")):s.top;a=(a=d.top+d.height+(i.padding+i.cornerSize+h))>e.$productStage.height()+h?e.$productStage.height()+h+5:a;var p=e.mainOptions.modalMode?e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper")[0].scrollHeight:document.body.scrollHeight;a=a+t.height()>p?h+d.top-(t.height()+i.padding+i.cornerSize):a;var f=s.left+r.mb.x,g=.5*t.outerWidth();f=(f=g>f?g:f)>$(window).width()-g?$(window).width()-g:f,t.css({left:f,top:a})}t.toggleClass("fpd-show",o)}else this.toggle(!1)},this.updateUIValue=function(e,n){var i=t.find('[data-control="'+e+'"]');i.val(n),i.filter(".fpd-slider-range").rangeslider("update",!0,!1)},this.toggle=function(e,n){n=void 0===n||n,!e&&n&&r.spectrum("destroy"),t.toggleClass("fpd-show",e)},this.setPlacement=function(i){n.placement=i,t.removeClass(function(t,e){return(e.match(/(^|\s)fpd-toolbar-placement-\S+/g)||[]).join(" ")}),t.addClass("fpd-toolbar-placement-"+i),t.appendTo("inside-bottom"==n.placement||"inside-top"==n.placement?e.$mainWrapper:e.$container.parents(".fpd-modal-product-designer").length>0?e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper"):e.mainOptions.toolbarDynamicContext)},function(){t.data("instance",n),n.setPlacement(n.placement),i.on("mousedown touchstart",function(t){$(t.target).parents(".fpd-range-slider").length>0&&($(t.target).parents(".fpd-range-slider").prev("input").change(),n.isTransforming=!0)}).on("mouseup touchend",function(){n.isTransforming=!1});for(var l=Object.keys(e.mainOptions.maxValues),c=0;c<l.length;++c){var u=l[c];t.find('[data-control="'+u+'"]').attr("max",e.mainOptions.maxValues[u])}if(t.find(".fpd-row > div").click(function(){var i=$(this);if(t.find(".fpd-row > div").not(i).removeClass("fpd-active"),i.data("panel")){i.tooltipster("hide"),i.toggleClass("fpd-active"),o.toggle(i.hasClass("fpd-active")).children().removeClass("fpd-active").filter(".fpd-panel-"+i.data("panel")).addClass("fpd-active");var a=e.currentElement;if("fill"==i.data("panel")){var l;if(FPDUtil.elementHasColorSelection(a))if(l=a.colorLinkGroup?e.colorLinkGroups[a.colorLinkGroup].colors:a.colors,r.children("input").spectrum("destroy"),r.empty().removeClass("fpd-colorpicker-group"),a.type==FPDPathGroupName&&(a.getObjects().length>1||1==l)){for(var c=a.getObjects(),u=0;u<c.length;++u){var h=c[u],p=tinycolor(h.fill);r.append('<input type="text" value="'+p.toHexString()+'" />')}r.addClass("fpd-colorpicker-group").children("input").spectrum("destroy").spectrum({showPaletteOnly:$.isArray(a.colors),preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:$.isArray(a.colors)?a.colors:e.mainOptions.colorPickerPalette,show:function(t){var n=FPDUtil.changePathColor(e.currentElement,r.children("input").index(this),t);FPDUtil.spectrumColorNames($(this).spectrum("container"),e),a._tempFill=n},move:function(t){var n=FPDUtil.changePathColor(a,r.children("input").index(this),t);e.currentViewInstance.setElementParameters({fill:n},a)},change:function(t){var n=FPDUtil.changePathColor(a,r.children("input").index(this),t);$(document).unbind("click.spectrum"),e.currentViewInstance.setElementParameters({fill:n},a)}})}else if(l.length>1||a.type==FPDPathGroupName&&1===a.getObjects().length){for(r.html('<div class="fpd-color-palette fpd-grid"></div>'),u=0;u<l.length;++u){p=l[u];var f=e.mainOptions.hexNames[p.replace("#","").toLowerCase()];f=f||p,r.children(".fpd-grid").append('<div class="fpd-item fpd-tooltip" title="'+f+'" style="background-color: '+p+';"></div>').children(".fpd-item:last").click(function(){var n=tinycolor($(this).css("backgroundColor"));t.find(".fpd-current-fill").css("background",n.toHexString());var i=n.toHexString();e.currentElement.type==FPDPathGroupName&&(i=FPDUtil.changePathColor(a,0,n)),e.currentViewInstance.setElementParameters({fill:i})})}FPDUtil.updateTooltip()}else r.html('<input type="text" value="'+(a.fill?a.fill:l[0])+'" />'),r.children("input").spectrum({flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:e.mainOptions.colorPickerPalette,show:function(t){FPDUtil.spectrumColorNames($(this).spectrum("container").next(".sp-container"),e),a._tempFill=t.toHexString()},move:function(t){(!1===s||"png"!==FPDUtil.elementIsColorizable(a))&&d(t.toHexString())},change:function(t){$(document).unbind("click.spectrum"),e.currentViewInstance.setElementParameters({fill:t.toHexString()},a)}}).on("dragstart.spectrum",function(){s=!0}).on("dragstop.spectrum",function(t,e){s=!1,d(e.toHexString())});if((FPDUtil.isSVG(a)||"text"===FPDUtil.getType(a.type))&&a.patterns&&a.patterns.length)for(o.find(".fpd-patterns > .fpd-grid").empty(),u=0;u<a.patterns.length;++u){var g=a.patterns[u];o.find(".fpd-patterns > .fpd-grid").append('<div class="fpd-item" data-pattern="'+g+'"><picture style="background-image: url('+g+');"></picture></div>').children(":last").click(function(){var n=$(this).data("pattern");t.find(".fpd-current-fill").css("background","url("+n+")"),e.currentViewInstance.setElementParameters({pattern:n})})}}else if("stroke"==i.data("panel")){var m=e.currentElement.stroke?e.currentElement.stroke:"#000";o.find(".fpd-stroke-color-picker input").spectrum("destroy").spectrum({color:m,flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:e.mainOptions.colorPickerPalette,move:function(t){n.isTransforming=!0,e.currentViewInstance.setElementParameters({stroke:t.toHexString()})},change:function(t){e.currentViewInstance.setElementParameters({stroke:t.toHexString()})}})}o.css({top:i.parent(".fpd-row").position().top+i.position().top+i.outerHeight(!0),left:i.parent().position().left-5}),n.updatePosition(e.currentElement)}else o.hide()}),o.find(".fpd-slider-range").rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(t,i){n.isTransforming&&(this.$element.parent().prev(".fpd-slider-number").val(i).change(),"scaleX"===this.$element.data("control")&&e.currentElement&&e.currentElement.lockUniScaling&&o.find('.fpd-slider-number[data-control="scaleY"]').val(i).change())},onSlideEnd:function(){n.isTransforming=!1,n.updatePosition(e.currentElement)}}),o.find(".fpd-panel-position .fpd-icon-button-group > span").click(function(){var t=$(this);t.hasClass("fpd-align-left")?e.currentViewInstance.alignElement("left"):t.hasClass("fpd-align-top")?e.currentViewInstance.alignElement("top"):t.hasClass("fpd-align-right")?e.currentViewInstance.alignElement("right"):t.hasClass("fpd-align-bottom")?e.currentViewInstance.alignElement("bottom"):t.hasClass("fpd-align-center-h")?e.currentViewInstance.centerElement(!0,!1):t.hasClass("fpd-align-center-v")?e.currentViewInstance.centerElement(!1,!0):t.hasClass("fpd-flip-h")?e.currentViewInstance.setElementParameters({flipX:!e.currentElement.get("flipX")}):t.hasClass("fpd-flip-v")&&e.currentViewInstance.setElementParameters({flipY:!e.currentElement.get("flipY")}),n.updatePosition(e.currentElement)}),t.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function(){var t=e.currentViewInstance.getZIndex();t=0>(t=$(this).hasClass("fpd-tool-move-up")?t+1:t-1)?0:t,e.currentViewInstance.setElementParameters({z:t})}),t.find(".fpd-tool-reset").click(function(){$(document).unbind("click.spectrum"),t.find(".tooltipstered").tooltipster("destroy"),e.currentElement.boundingBox&&(e.currentElement.scaleX=1),e.currentViewInstance.setElementParameters(e.currentElement.originParams),e.currentViewInstance.deselectElement(),FPDUtil.updateTooltip()}),e.mainOptions.fonts&&e.mainOptions.fonts.length>0)for("object"==typeof e.mainOptions.fonts[0]?e.mainOptions.fonts.sort(function(t,e){var n=t.name.toUpperCase(),i=e.name.toUpperCase();return i>n?-1:n>i?1:0}):e.mainOptions.fonts.sort(),c=0;c<e.mainOptions.fonts.length;++c){var p=e.mainOptions.fonts[c],f=p;"object"==typeof p&&(f=p.name),a.children(".fpd-dropdown-list").append('<span class="fpd-item" data-value="'+f+'">'+f+"</span>").children(":last").css("font-family",f)}else a.hide();var g=null;o.find(".fpd-panel-edit-text textarea").keyup(function(t){t.stopPropagation,t.preventDefault();var n=this.selectionStart,i=this.selectionEnd;e.currentViewInstance.currentElement.isEditing=!0,e.currentViewInstance.setElementParameters({text:this.value}),this.selectionStart=n,this.selectionEnd=i}).focus(function(){(g=e.currentViewInstance.currentElement).isEditing=!0}).focusout(function(){g.isEditing=!1,g=null}),o.find(".fpd-panel-tabs > span").click(function(){var t=$(this);t.addClass("fpd-active").siblings().removeClass("fpd-active"),t.parent().nextAll(".fpd-panel-tabs-content").children('[data-id="'+this.id+'"]').addClass("fpd-active").siblings().removeClass("fpd-active"),r.children("input").spectrum("hide")}),t.find(".fpd-number").change(function(){var i=$(this),o={};this.value>Number(i.attr("max"))&&(this.value=Number(i.attr("max"))),this.value<Number(i.attr("min"))&&(this.value=Number(i.attr("min")));var r=Number(this.value);i.hasClass("fpd-slider-number")&&(i.next(".fpd-range-wrapper").children("input").val(this.value).rangeslider("update",!0,!1),"scaleX"===i.data("control")&&e.currentElement&&e.currentElement.lockUniScaling&&t.find('[data-control="scaleY"]').val(r).change()),o[i.data("control")]=r,e.currentViewInstance&&e.currentViewInstance.setElementParameters(o,e.currentViewInstance.currentElement,!n.isTransforming)}),t.find(".fpd-toggle").click(function(){var t=$(this).toggleClass("fpd-enabled"),n={};t.hasClass("fpd-curved-text-switcher")||(n[t.data("control")]=t.data(t.hasClass("fpd-enabled")?"enabled":"disabled"),t.hasClass("fpd-tool-uniscaling-locker")&&h(t.hasClass("fpd-enabled")),e.currentViewInstance.setElementParameters(n))}),t.find(".fpd-dropdown .fpd-item").click(function(t){t.stopPropagation();var n=$(this),i=n.parent().prevAll(".fpd-dropdown-current:first"),o=n.data("value"),r={};i.is("input")?i.val(o):i.html(n.clone()).data("value",o),r[i.data("control")]=o,"fontFamily"===i.data("control")&&i.css("font-family",o),e.currentViewInstance.setElementParameters(r),n.siblings(".fpd-item").show()}),t.find(".fpd-dropdown.fpd-search > input").keyup(function(){var t=$(this).css("font-family","Helvetica").nextAll(".fpd-dropdown-list:first").children(".fpd-item").hide();0===this.value.length?t.show():t.filter(':containsCaseInsensitive("'+this.value+'")').show()}),t.find(".fpd-tool-advanced-editing").click(function(){if(e.currentViewInstance&&e.currentViewInstance.currentElement&&e.currentViewInstance.currentElement.source){var t=e.currentViewInstance.currentElement.source,n=FPDUtil.showModal($(e.translatedUI).children(".fpd-image-editor-container").clone(),!0);new FPDImageEditor(n.find(".fpd-image-editor-container"),e.currentViewInstance.currentElement,e).loadImage(t)}})}()},FPDToolbarSmart=function(t,e){"use strict";$=jQuery;var n=this,i=$("body"),o=t.children(".fpd-sub-panel"),r=t.find(".fpd-color-wrapper"),a=!1;this.isTransforming=!1,this.placement=e.mainOptions.toolbarPlacement;var s=function(e,n){return n=void 0===n||n,t.find(".fpd-tool-"+e).toggleClass("fpd-hidden",!n)},l=function(t,e,n){return n=Boolean(n),o.children(".fpd-panel-"+t).children(".fpd-tool-"+e).toggleClass("fpd-hidden",!n)},c=function(t,e,n){o.children(".fpd-panel-"+t).find('.fpd-panel-tabs [data-tab="'+e+'"]').toggleClass("fpd-disabled",!n)},u=function(n){t.find(".fpd-tool-color").css("background",n),e.currentViewInstance.changeColor(e.currentViewInstance.currentElement,n)},d=function(t){o.find(".fpd-tool-uniscaling-locker > span").removeClass().addClass(t?"fpd-icon-locked":"fpd-icon-unlocked"),o.find(".fpd-tool-scaleY").toggleClass("fpd-disabled",t)};this.update=function(i){this.hideTools(),t.removeClass("fpd-type-image"),s("reset");var a=i.source;if(a)var u=(a=a.split("?")[0]).split(".").pop().toLowerCase();i.advancedEditing&&a&&(-1!==$.inArray(u,["png","jpg","jpeg","svg"])||-1!==u.search(/data:image\/(jpeg|png);/))&&s("advanced-editing"),FPDUtil.elementHasColorSelection(i)&&(s("color"),c("color","fill",!0),r.removeClass("fpd-hidden"));var h=i.resizable&&"image"===FPDUtil.getType(i.type)||i.uniScalingUnlockable||i.__editorMode;(h||i.rotatable||i.__editorMode)&&(s("transform"),l("transform","scale",h),d(i.lockUniScaling),l("transform","uniscaling-locker",i.uniScalingUnlockable||i.__editorMode),l("transform","angle",Boolean(i.rotatable||i.__editorMode)&&!i.uploadZone)),(i.draggable||i.__editorMode)&&s("position"),(i.zChangeable||i.__editorMode)&&s("layer-depth"),(FPDUtil.isSVG(i)||"text"===FPDUtil.getType(i.type))&&i.patterns&&i.patterns.length?(s("color"),c("color","fill",!0),s("patterns",!0)):s("patterns",!1),"text"===FPDUtil.getType(i.type)&&(i.editable||i.__editorMode)?(s("font-family"),s("text-size",Boolean(i.resizable||i.__editorMode)),s("text-line-height"),s("text-letter-spacing"),s("text-styles"),s("text-transform"),s("text-align"),c("color","stroke",!0),c("color","shadow",!0),i.curvable&&!i.textBox&&s("curved-text"),t.find('textarea[data-control="text"]').val(i.get("text")),"smart"==e.mainOptions.toolbarPlacement&&"top"==e.mainOptions.toolbarTextareaPosition?t.children(".fpd-panel-edit-text").toggleClass("fpd-hidden",i.textPlaceholder||i.numberPlaceholder):s("edit-text",!i.textPlaceholder&&!i.numberPlaceholder)):t.addClass("fpd-type-image"),t.find(".fpd-top-tools, .fpd-bottom-tools").children("div").removeClass("fpd-no-margin").filter(":visible:last").addClass("fpd-no-margin"),o.find(".fpd-panel-tabs").each(function(t,e){var n=$(e);n.toggle(n.children(":not(.fpd-disabled)").length>1),n.children(":not(.fpd-disabled):first").addClass("fpd-active").click()}),t.find("[data-control]").each(function(e,n){var o=$(n),r=o.data("control");if(o.hasClass("fpd-number")){if(void 0!==i[r]){var a=o.attr("step")&&o.attr("step").length>1?parseFloat(i[r]).toFixed(2):parseInt(i[r]);o.val(a),o.prev(".fpd-range-wrapper")&&("fontSize"==r?o.prev(".fpd-range-wrapper").children("input").attr("min",i.minFontSize).attr("max",i.maxFontSize):("scaleX"==r||"scaleY"==r)&&o.prev(".fpd-range-wrapper").children("input").attr("min",i.minScaleLimit),o.prev(".fpd-range-wrapper").children("input").val(a).rangeslider("update",!0,!1))}}else if(o.hasClass("fpd-toggle"))o.toggleClass("fpd-enabled",i[r]===o.data("enabled"));else if(o.hasClass("fpd-btn-options"))o.children("span").removeClass().addClass(o.data("options")[i[r]]);else if(o.hasClass("fpd-tool-color")){var s=i[r];"string"==typeof s?o.css("background",s):"object"==typeof s?s.source?(s=s.source.src,o.css("background","url("+s+")")):(s=s[0],o.css("background",s)):!0===i.colors&&i.type===FPDPathGroupName?(s=tinycolor(i.getObjects()[0].fill),o.css("background",s)):!1===s&&i.colors&&i.colors[0]&&(s=i.colors[0],o.css("background",s))}else"fontSize"==r?t.find(".fpd-tool-text-size > .fpd-current-val").text(parseInt(i[r])):"fontFamily"==r&&void 0!==i[r]&&t.find(".fpd-tool-font-family > .fpd-current-val").text(i[r]).css("font-family",i[r])}),t.children(".fpd-scroll-area").mCustomScrollbar("update"),n.updatePosition(i)},this.updateUIValue=function(e,n){var i=t.find('[data-control="'+e+'"]');i.val(n),i.filter(".fpd-slider-range").rangeslider("update",!0,!1)},this.hideTools=function(){t.find(".fpd-top-tools > div, .fpd-bottom-tools > div").addClass("fpd-hidden").removeClass("fpd-active"),o.hide().children().removeClass("fpd-active").find(".fpd-panel-tabs > span").addClass("fpd-disabled"),o.find(".fpd-panel-tabs-content, .fpd-panel-tabs").children().removeClass("fpd-active"),r.addClass("fpd-hidden"),t.children(".fpd-panel-edit-text").addClass("fpd-hidden")},this.updatePosition=function(n,i){if(i=void 0===i||i,n){var o=n.oCoords,r=o.mb.y,a=e.$productStage.offset(),s=n.getBoundingRect(),l=e.mainOptions.modalMode?parseInt(e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper").css("padding-top")):a.top;r=(r=s.top+s.height+(n.padding+n.cornerSize+l))>e.$productStage.height()+l?e.$productStage.height()+l+5:r;var c=e.mainOptions.modalMode?e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper")[0].scrollHeight:document.body.scrollHeight;r=r+t.children(".fpd-sub-panel").height()>c?l+s.top-(t.children(".fpd-sub-panel").height()+n.padding+n.cornerSize):r;var u=a.left+o.mb.x,d=.5*t.outerWidth();u=(u=d>u?d:u)>$(window).width()-d?$(window).width()-d:u,t.css({left:u,top:r}),this.toggle(i,!1)}else this.toggle(!1)},this.toggle=function(e,n){n=void 0===n||n,!e&&n&&r.spectrum("destroy"),e=0!=t.find(".fpd-top-tools > div:visible, .fpd-bottom-tools > div:visible").length&&e,t.toggleClass("fpd-show",e)},this.setPlacement=function(i){n.placement=i,t.removeClass(function(t,e){return(e.match(/(^|\s)fpd-toolbar-placement-\S+/g)||[]).join(" ")}),t.addClass("fpd-toolbar-placement-"+i),-1!==["inside-bottom","inside-top"].indexOf(i)?(t.appendTo(e.$mainWrapper),t.children(".fpd-scroll-area").mCustomScrollbar("disable")):(t.appendTo(e.$container.parents(".fpd-modal-product-designer").length>0?e.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper"):e.mainOptions.toolbarDynamicContext),t.children(".fpd-scroll-area").mCustomScrollbar("update"))},function(){t.data("instance",n).addClass("fpd-theme-"+e.mainOptions.toolbarTheme),n.setPlacement(e.mainOptions.toolbarPlacement),t.length>0&&t.get(0).addEventListener("touchmove",function(t){"text"!==t.target.dataset.control&&t.preventDefault()},!1),t.children(".fpd-scroll-area").mCustomScrollbar({axis:"x",scrollInertia:200,mouseWheel:{enable:!0},advanced:{autoExpandHorizontalScroll:!0}}),i.on("mousedown touchstart",function(t){$(t.target).parents(".fpd-range-slider").length>0&&(n.isTransforming=!0)}).on("mouseup touchend",function(){n.isTransforming=!1}),t.on("click",".fpd-close-panel",function(){t.find(".fpd-panel-font-family input").val("").keyup(),r.children("input").spectrum("hide"),o.hide(),e.currentElement&&"function"===e.currentElement.exitEditing&&e.currentElement.exitEditing(),e.$container.trigger("toolbarPanelClose")});for(var s=Object.keys(e.mainOptions.maxValues),l=0;l<s.length;++l){var c=s[l];t.find('[data-control="'+c+'"]').attr("max",e.mainOptions.maxValues[c])}t.find('[class^="fpd-tool-"]').click(function(){var i=$(this);if(i.data("panel")){i.tooltipster("hide"),o.show().children().removeClass("fpd-active").filter(".fpd-panel-"+i.data("panel")).addClass("fpd-active"),o.find(".fpd-slider-range").rangeslider("update",!1,!1);var s=e.currentElement;if("color"==i.data("panel")){var l;if(FPDUtil.elementHasColorSelection(s))if(l=s.__editorMode?["#000"]:s.colorLinkGroup?e.colorLinkGroups[s.colorLinkGroup].colors:s.colors,r.children("input").spectrum("destroy"),r.empty().removeClass("fpd-colorpicker-group"),s.type==FPDPathGroupName&&(s.getObjects().length>1||1==l||s.__editorMode)){for(var c=s.getObjects(),d=0;d<c.length;++d){var h=c[d],p=tinycolor(h.fill);r.append('<input type="text" value="'+p.toHexString()+'" />')}r.addClass("fpd-colorpicker-group").children("input").spectrum("destroy").spectrum({showPaletteOnly:$.isArray(s.colors)&&!s.__editorMode,preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:$.isArray(s.colors)?s.colors:e.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+e.mainOptions.toolbarTheme,show:function(t){var n=FPDUtil.changePathColor(e.currentElement,r.children("input").index(this),t);FPDUtil.spectrumColorNames($(this).spectrum("container"),e),s._tempFill=n},move:function(t){var n=FPDUtil.changePathColor(s,r.children("input").index(this),t);e.currentViewInstance.setElementParameters({fill:n},s)},change:function(t){var n=FPDUtil.changePathColor(s,r.children("input").index(this),t);$(document).unbind("click.spectrum"),e.currentViewInstance.setElementParameters({fill:n},s)}})}else if(l.length>1||s.type==FPDPathGroupName&&1===s.getObjects().length){for(r.html('<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>'),d=0;d<l.length;++d){p=l[d];var f=e.mainOptions.hexNames[p.replace("#","").toLowerCase()];f=f||p,r.find(".fpd-grid").append('<div class="fpd-item fpd-tooltip" title="'+f+'" style="background-color: '+p+';"></div>').children(".fpd-item:last").click(function(){var n=tinycolor($(this).css("backgroundColor"));t.find(".fpd-tool-color").css("background",n.toHexString());var i=n.toHexString();e.currentElement.type==FPDPathGroupName&&(i=FPDUtil.changePathColor(s,0,n)),e.currentViewInstance.setElementParameters({fill:i})})}FPDUtil.updateTooltip(),r.children(".fpd-scroll-area").mCustomScrollbar({scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0}})}else r.html('<input type="text" value="'+(s.fill?s.fill:l[0])+'" />'),r.children("input").spectrum({flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:e.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+e.mainOptions.toolbarTheme,allowEmpty:Boolean(s.__editorMode),show:function(t){FPDUtil.spectrumColorNames($(this).spectrum("container").next(".sp-container"),e),s._tempFill=t.toHexString()},move:function(t){(!1===a||"png"!==FPDUtil.elementIsColorizable(s))&&u(t?t.toHexString():"")},change:function(t){$(document).unbind("click.spectrum"),e.currentViewInstance.setElementParameters({fill:!!t&&t.toHexString()},s)}}).on("dragstart.spectrum",function(){a=!0}).on("dragstop.spectrum",function(t,e){a=!1,u(e.toHexString())});if((FPDUtil.isSVG(s)||"text"===FPDUtil.getType(s.type))&&s.patterns&&s.patterns.length){for(o.find(".fpd-tool-patterns .fpd-grid").empty(),d=0;d<s.patterns.length;++d){var g=s.patterns[d];$("<div/>",{class:"fpd-item","data-pattern":g,html:'<picture style="background-image: url('+g+');"></picture>'}).appendTo(o.find(".fpd-tool-patterns .fpd-grid")).click(function(){var n=$(this).data("pattern");t.find(".fpd-tool-color").css("background","url("+n+")"),e.currentViewInstance.setElementParameters({pattern:n})})}o.find(".fpd-tool-patterns .fpd-scroll-area").mCustomScrollbar({scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0}})}o.find(".fpd-stroke-color-picker input").spectrum("destroy").spectrum({color:s.stroke?s.stroke:"#000",flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,palette:s.strokeColors,showPaletteOnly:s.strokeColors&&s.strokeColors.length>0,containerClassName:"fpd-theme-"+e.mainOptions.toolbarTheme,move:function(t){n.isTransforming=!0,e.currentViewInstance.setElementParameters({stroke:t.toHexString()})},change:function(t){e.currentViewInstance.setElementParameters({stroke:t.toHexString()})}}),o.find(".fpd-shadow-color-picker input").spectrum("destroy").spectrum({color:s.stroke?s.stroke:"#000",flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:e.mainOptions.colorPickerPalette&&e.mainOptions.colorPickerPalette.length>0,palette:e.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+e.mainOptions.toolbarTheme,move:function(t){n.isTransforming=!0,e.currentViewInstance.setElementParameters({shadowColor:t.toHexString()})},change:function(t){e.currentViewInstance.setElementParameters({shadowColor:t.toHexString()})}})}t.find(".fpd-panel-font-family .fpd-fonts-list").mCustomScrollbar({axis:"y",scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0},advanced:{autoExpandHorizontalScroll:!0}}),n.updatePosition(e.currentElement),e.$container.trigger("toolbarPanelOpen",[i.data("panel")])}}),o.find(".fpd-panel-tabs > span").click(function(){var t=$(this);t.addClass("fpd-active").siblings().removeClass("fpd-active"),t.parent().siblings(".fpd-panel-tabs-content").children('[data-id="'+this.dataset.tab+'"]').addClass("fpd-active").siblings().removeClass("fpd-active"),n.updatePosition(e.currentElement)});var h=!0;if(o.find(".fpd-slider-range").rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(t,n){if(e.currentViewInstance&&e.currentViewInstance.currentElement){if(!this.$element.is(":visible"))return;var i={},o=this.$element.data("control");if(i[o]=n,"scaleX"===o&&e.currentElement&&e.currentElement.lockUniScaling&&(i.scaleY=n),"scaleX"==o&&0==n||"scaleY"==o&&0==n)return;e.currentViewInstance.setElementParameters(i,e.currentViewInstance.currentElement,h),this.$element.parent().siblings(".fpd-slider-number").val(n),h=!1}},onSlideEnd:function(i,o){"scaleX"===this.$element.data("control")&&e.currentElement&&e.currentElement.lockUniScaling&&t.find('[data-control="scaleY"]').val(o).filter(".fpd-slider-range").rangeslider("update",!0,!1),n.isTransforming=!1,h=!0}}),t.on("click",".fpd-btn-options",function(t){t.preventDefault();var n=$(this),i=n.data("options"),o=Object.keys(i),r=e.currentElement?e.currentElement[this.dataset.control]:o[0],a=o.indexOf(r)==o.length-1?o[0]:o[o.indexOf(r)+1],s={};s[this.dataset.control]=a,n.children("span").removeClass().addClass(i[a]),e.currentViewInstance.setElementParameters(s)}),t.find(".fpd-toggle").click(function(){var t=$(this).toggleClass("fpd-enabled"),n={};t.hasClass("fpd-curved-text-switcher")||(n[t.data("control")]=t.data(t.hasClass("fpd-enabled")?"enabled":"disabled"),t.hasClass("fpd-tool-uniscaling-locker")&&d(t.hasClass("fpd-enabled")),e.currentViewInstance.setElementParameters(n))}),t.find(".fpd-number").change(function(){var n=$(this),i={};this.value>Number(n.attr("max"))&&(this.value=Number(n.attr("max"))),this.value<Number(n.attr("min"))&&(this.value=Number(n.attr("min")));var o=Number(this.value);n.hasClass("fpd-slider-number")&&(n.siblings(".fpd-range-wrapper").children("input").val(this.value).rangeslider("update",!0,!1),"scaleX"===n.data("control")&&e.currentElement&&e.currentElement.lockUniScaling&&t.find('[data-control="scaleY"]').val(o).change()),i[n.data("control")]=o,e.currentViewInstance&&$(document.activeElement).is(":not(textarea)")&&e.currentViewInstance.setElementParameters(i,e.currentViewInstance.currentElement)}),e.mainOptions.fonts&&e.mainOptions.fonts.length>0){var p=o.find(".fpd-fonts-list");for(l=0;l<e.mainOptions.fonts.length;++l){var f=e.mainOptions.fonts[l],g=f;"object"==typeof f&&(g=f.name),$("<span/>",{class:"fpd-item","data-value":g,html:g,css:{fontFamily:g}}).appendTo(p)}t.on("keyup",".fpd-panel-font-family input",function(){var t=$(this).css("font-family","Helvetica").nextAll(".fpd-fonts-list").find(".fpd-item").hide();0===this.value.length?t.show():t.filter(':containsCaseInsensitive("'+this.value+'")').show()}).on("click",".fpd-fonts-list .fpd-item",function(){var n=this.dataset.value;t.find(".fpd-tool-font-family .fpd-current-val").text(n).css("fontFamily",n),e.currentViewInstance.setElementParameters({fontFamily:n})})}t.on("click",".fpd-tool-edit-text",function(){var t=o.find(".fpd-panel-edit-text textarea").val();o.find(".fpd-panel-edit-text textarea").focus().val("").val(t)}),t.find('textarea[data-control="text"]').on("keyup",function(t){t.stopPropagation,t.preventDefault();var n=this.selectionStart,i=this.selectionEnd;e.currentViewInstance.setElementParameters({text:this.value}),this.selectionStart=n,this.selectionEnd=i}),t.find(".fpd-tool-advanced-editing").click(function(){if(e.currentViewInstance&&e.currentViewInstance.currentElement&&e.currentViewInstance.currentElement.source){var t=e.currentViewInstance.currentElement.source,n=FPDUtil.showModal($(e.translatedUI).children(".fpd-image-editor-container").clone(),!0);new FPDImageEditor(n.find(".fpd-image-editor-container"),e.currentViewInstance.currentElement,e).loadImage(t)}}),o.on("click",".fpd-panel-position.fpd-icon-button-group > span",function(){var t=$(this);t.hasClass("fpd-align-left")?e.currentViewInstance.alignElement("left"):t.hasClass("fpd-align-top")?e.currentViewInstance.alignElement("top"):t.hasClass("fpd-align-right")?e.currentViewInstance.alignElement("right"):t.hasClass("fpd-align-bottom")?e.currentViewInstance.alignElement("bottom"):t.hasClass("fpd-align-center-h")?e.currentViewInstance.centerElement(!0,!1):t.hasClass("fpd-align-center-v")?e.currentViewInstance.centerElement(!1,!0):t.hasClass("fpd-flip-h")?e.currentViewInstance.setElementParameters({flipX:!e.currentElement.get("flipX")}):t.hasClass("fpd-flip-v")&&e.currentViewInstance.setElementParameters({flipY:!e.currentElement.get("flipY")}),n.updatePosition(e.currentElement)}),t.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function(){var t=e.currentViewInstance.getZIndex();t=0>(t=$(this).hasClass("fpd-tool-move-up")?t+1:t-1)?0:t,e.currentViewInstance.setElementParameters({z:t})}),t.find(".fpd-tool-reset").click(function(){$(document).unbind("click.spectrum"),t.find(".tooltipstered").tooltipster("destroy"),e.currentElement.boundingBox&&(e.currentElement.scaleX=1),e.currentViewInstance.setElementParameters(e.currentElement.originParams),e.currentViewInstance.deselectElement(),FPDUtil.updateTooltip()}),e.$container.on("elementModify",function(e,n,i){i.fontSize&&t.find(".fpd-tool-text-size > .fpd-current-val").text(parseInt(i.fontSize))})}()},FPDMainBar=function(t,e,n,i){"use strict";$=jQuery;var o,r=this,a=$("body"),s=e.children(".fpd-navigation");this.currentModules=t.mainOptions.mainBarModules,this.$selectedModule=null,this.$container=e,this.mainBarShowing=!0;this.callModule=function(n){var a=s.children("div").removeClass("fpd-active").filter('[data-module="'+n+'"]').addClass("fpd-active");r.$selectedModule=o.children("div").removeClass("fpd-active").filter('[data-module="'+n+'"]').addClass("fpd-active"),o.parent(".fpd-draggable-dialog").length>0&&((void 0===i.attr("style")||""===i.attr("style"))&&i.css("top",e.offset().top+e.height()),i.addClass("fpd-active").find(".fpd-dialog-title").text(a.find(".fpd-label").text())),"text"===n?r.$selectedModule.find("textarea").focus():"manage-layers"===n?t.productCreated&&FPDLayersModule.createList(t,r.$selectedModule):"text-layers"===n?t.productCreated&&FPDTextLayersModule.createList(t,r.$selectedModule):"undefined"!=typeof FPDNamesNumbersModule&&"names-numbers"===n&&t.productCreated&&FPDNamesNumbersModule.setup(t,r.$selectedModule),r.toggleDialog(!0),FPDUtil.refreshLazyLoad(r.$selectedModule.find(".fpd-grid"),!1)},this.callSecondary=function(e){r.callModule("secondary"),o.children(".fpd-secondary-module").children("."+e).addClass("fpd-active").siblings().removeClass("fpd-active");var n=null;"fpd-upload-zone-adds-panel"===e?o.find(".fpd-upload-zone-adds-panel .fpd-bottom-nav > :not(.fpd-hidden)").first().click():"fpd-saved-designs-panel"===e&&(n=t.getTranslation("actions","load")),o.parent(".fpd-draggable-dialog").length>0&&n&&i.addClass("fpd-active").find(".fpd-dialog-title").text(n),t.$container.trigger("secondaryModuleCalled",[e,o.children(".fpd-secondary-module").children(".fpd-active")])},this.setContentWrapper=function(n){i.removeClass("fpd-active"),"sidebar"===n?(0===s.children(".fpd-active").length&&s.children().first().addClass("fpd-active"),o.appendTo(e)):"draggable-dialog"===n&&(o.appendTo(i),s.removeClass("fpd-hidden")),r.currentModules.length<=1&&!t.$container.hasClass("fpd-topbar")?(selectedModule=r.currentModules[0]?r.currentModules[0]:"",s.addClass("fpd-hidden")):s.removeClass("fpd-hidden"),s.children().each(function(e,n){var i=$(n);i.filter(".tooltipstered").tooltipster("destroy"),t.$container.hasClass("fpd-sidebar")?i.addClass("fpd-tooltip").attr("title",i.children(".fpd-label").text()):i.removeClass("fpd-tooltip").removeAttr("title")}),FPDUtil.updateTooltip(s),s.children(".fpd-active").click()},this.toggleDialog=function(e){e=void 0===e||e,t.$container.hasClass("fpd-topbar")&&0===t.$container.filter('[class*="fpd-off-canvas-"]').length&&(i.toggleClass("fpd-active",e),!e&&r.mainBarShowing),t.$container.filter('[class*="fpd-off-canvas-"]').length>0&&(r.$container.toggleClass("fpd-show",e).children(".fpd-close-off-canvas").removeAttr("style"),r.$content.removeAttr("style").height(t.$mainWrapper.height()),0===s.children("div").length?r.$content.css("top",0):r.$content.css("top",s.height()),!e&&r.mainBarShowing&&t.deselectElement()),e||s.children(".fpd-active").removeClass("fpd-active"),r.mainBarShowing=e},this.toggleUploadZonePanel=function(e){e=void 0===e||e,t._loadingCustomImage||(e?r.callSecondary("fpd-upload-zone-adds-panel"):(t.currentViewInstance.currentUploadZone=null,t.$container.hasClass("fpd-sidebar")?r.callModule(t.mainBar.currentModules[0]):r.toggleDialog(!1)))},this.toggleUploadZoneAdds=function(e){var n=o.find(".fpd-upload-zone-adds-panel");n.find(".fpd-add-image").toggleClass("fpd-hidden",!Boolean(e.uploads)),n.find(".fpd-add-text").toggleClass("fpd-hidden",!Boolean(e.texts)),n.find(".fpd-add-design").toggleClass("fpd-hidden",!Boolean(e.designs)),n.find('[data-module="text"] .fpd-btn > .fpd-price').html(t.currentElement.price?" - "+t.formatPrice(t.currentElement.price):""),t.UZmoduleInstance_designs&&t.UZmoduleInstance_designs.toggleCategories(),n.find(".fpd-off-canvas-nav > :not(.fpd-hidden)").first().click()},this.setup=function(e){r.currentModules=e;var i=t.mainOptions.initialActiveModule;r.currentModules.length<=1&&!t.$container.hasClass("fpd-topbar")?(i=r.currentModules[0]?r.currentModules[0]:"",s.addClass("fpd-hidden")):s.removeClass("fpd-hidden"),s.empty(),o.empty(),e.forEach(function(e){var i,r=n.children('[data-module="'+e+'"]'),a=r.clone(),l=t.$container.hasClass("fpd-sidebar")?'class="fpd-tooltip"':"",c=t.$container.hasClass("fpd-sidebar")?'title="'+r.data("title")+'"':"";s.append('<div data-module="'+e+'" '+l+" "+c+'><span class="'+r.data("moduleicon")+'"></span><span class="fpd-label">'+r.data("title")+"</span></div>"),o.append(a),"products"===e?i=new FPDProductsModule(t,a):"text"===e?i=new FPDTextModule(t,a):"designs"===e?i=new FPDDesignsModule(t,a):"images"===e?i=new FPDImagesModule(t,a):"layouts"===e?i=new FPDLayoutsModule(t,a):"undefined"!=typeof FPDDrawingModule&&"drawing"===e?i=new FPDDrawingModule(t,a):"undefined"!=typeof FPDDynamicViews&&"dynamic-views"===e&&(i=new FPDDynamicViews(t,a)),i&&(t["moduleInstance_"+e]=i)}),0===o.children('[data-module="manage-layers"]').length&&o.append(n.children('[data-module="manage-layers"]').clone()),o.append(n.children('[data-module="secondary"]').clone());for(var a=["images","text","designs"],l=0;l<a.length;++l){var c,u=a[l],d=n.children('[data-module="'+u+'"]').clone();o.find(".fpd-upload-zone-content").append(d),"text"===u?c=new FPDTextModule(t,d):"designs"===u?c=new FPDDesignsModule(t,d):"images"===u&&(c=new FPDImagesModule(t,d)),c&&(t["UZmoduleInstance_"+u]=c)}t.$container.hasClass("fpd-sidebar")&&""==i&&(i=s.children().first().data("module")),s.children('[data-module="'+i+'"]').click()},function(){if(i.toggleClass("fpd-hidden",t.$container.hasClass("fpd-main-bar-container-enabled")),o=t.$container.hasClass("fpd-topbar")&&!t.$container.hasClass("fpd-main-bar-container-enabled")&&0===t.$container.filter('[class*="fpd-off-canvas-"]').length?i.addClass("fpd-grid-columns-"+t.mainOptions.gridColumns).append('<div class="fpd-content"></div>').children(".fpd-content"):e.append('<div class="fpd-content"></div>').children(".fpd-content"),r.$content=o,t.$container.filter('[class*="fpd-off-canvas-"]').length>0){var n=0,l=0,c=0,u=e.children(".fpd-close-off-canvas");o.on("touchstart",function(e){n=e.originalEvent.touches[0].pageX,c=parseInt(u.css(t.$container.hasClass("fpd-off-canvas-left")?"left":"right"))}).on("touchmove",function(e){e.preventDefault();var i=e.originalEvent.touches[0].pageX;l=n-i,targetPos=t.$container.hasClass("fpd-off-canvas-left")?"left":"right",l=Math.abs(l)<0?0:Math.abs(l),o.css(targetPos,-l),u.css(targetPos,c-l)}).on("touchend",function(){var e=t.$container.hasClass("fpd-off-canvas-left")?"left":"right";Math.abs(l)>100?r.toggleDialog(!1):(o.css(e,0),u.css(e,c)),l=0})}e.on("click",".fpd-close-off-canvas",function(t){t.stopPropagation(),s.children("div").removeClass("fpd-active"),r.toggleDialog(!1)});var d=t.mainOptions.modalMode?$(".fpd-modal-product-designer"):a;d.append(i),i.draggable({handle:i.find(".fpd-dialog-head"),containment:d}),s.on("click","> div",function(e){e.stopPropagation();var n=$(this);t.deselectElement(),t.currentViewInstance&&(t.currentViewInstance.currentUploadZone=null),o.find(".fpd-manage-layers-panel").find(".fpd-current-color, .fpd-path-colorpicker").spectrum("destroy"),t.$container.hasClass("fpd-topbar")&&n.hasClass("fpd-active")?(n.removeClass("fpd-active"),r.toggleDialog(!1)):r.callModule(n.data("module"))}),i.on("mousewheel",function(t){t.preventDefault()}),o.on("click",".fpd-bottom-nav > div",function(){var t=$(this);t.addClass("fpd-active").siblings().removeClass("fpd-active");var e=t.parent().next().children('[data-module="'+t.data("module")+'"]').addClass("fpd-active");e.siblings().removeClass("fpd-active"),setTimeout(function(){FPDUtil.refreshLazyLoad(e.find(".fpd-grid"),!1)},10)}),a.on("click touchend",".fpd-close-dialog",function(){t.currentViewInstance&&t.currentViewInstance.currentUploadZone&&t.currentViewInstance.deselectElement(),r.toggleDialog(!1)}),t.$container.on("viewSelect",function(){r.$selectedModule&&(r.$selectedModule.filter('[data-module="manage-layers"]').length>0?FPDLayersModule.createList(t,r.$selectedModule):r.$selectedModule.filter('[data-module="text-layers"]').length>0?FPDTextLayersModule.createList(t,r.$selectedModule):"undefined"!=typeof FPDNamesNumbersModule&&r.$selectedModule.filter('[data-module="names-numbers"]').length>0&&FPDNamesNumbersModule.setup(t,r.$selectedModule)),t.$container.trigger("layersListUpdate")}),t.$container.on("fabricObject:added fabricObject:removed",function(e,n){t.productCreated&&!n._ignore&&(r.$selectedModule&&(r.$selectedModule.filter('[data-module="manage-layers"]').length>0?FPDLayersModule.createList(t,r.$selectedModule):r.$selectedModule.filter('[data-module="text-layers"]').length>0&&FPDTextLayersModule.createList(t,r.$selectedModule)),t.$container.trigger("layersListUpdate"))}),r.setup(r.currentModules)}()};FPDMainBar.availableModules=["products","images","text","designs","manage-layers","text-layers","layouts"];var FPDActions=function(t,e){"use strict";$=jQuery;var n,i=this;this.currentActions=t.mainOptions.actions;var o=function(n){t.$container.find(".fpd-actions-container").append('<div class="fpd-actions-wrapper fpd-pos-'+n+'"></div>');for(var o=i.currentActions[n],r=0;r<o.length;++r){var a=o[r],s=e.children('[data-action="'+a+'"]');t.$container.find(".fpd-actions-wrapper.fpd-pos-"+n).append(s.clone())}},r=function(){return!!FPDUtil.localStorageAvailable()&&JSON.parse(window.localStorage.getItem(t.$container.attr("id")))};this.downloadFile=function(e,n){if(n=void 0!==n&&n,"jpeg"===e||"png"===e){var i=document.createElement("a"),o="jpeg"===e?"#fff":"transparent";void 0!==i.download?n?t.currentViewInstance.toDataURL(function(t){download(t,"Product."+e,"image/"+e)},o,{format:e},t.watermarkImg):t.getProductDataURL(function(t){download(t,"Product."+e,"image/"+e)},o,{format:e}):t.createImage(!0,!1,o,{format:e},n)}else if("svg"===e)download(t.currentViewInstance.toSVG({suppressPreamble:!1},null,!1,t.watermarkImg),"Product_"+t.currentViewIndex+".svg","image/svg+xml");else{var r=function(e){e="string"==typeof e?[e]:e;for(var n,i=0;i<e.length;++i){var o=t.viewInstances[i].options.stageWidth,r=t.viewInstances[i].options.stageHeight,a=o>r?"l":"p";0!=i?n.addPage([o,r],a):n=new jsPDF({orientation:a,unit:"px",format:[o,r]}),n.addImage(e[i],"PNG",0,0,n.internal.pageSize.getWidth(),n.internal.pageSize.getHeight())}n.save("Product.pdf")};n?t.currentViewInstance.toDataURL(r,"transparent",{format:"png"},t.watermarkImg):t.getViewsDataURL(r,"transparent",{format:"png"})}},this.setup=function(e){this.currentActions=e,t.$container.find(".fpd-actions-container").empty();for(var n=Object.keys(e),i=0;i<n.length;++i){var r=e[n[i]];"object"==typeof r&&r.length>0&&o(n[i])}},this.doAction=function(e){var o=e.data("action");if(t.deselectElement(),"print"===o)t.print();else if("reset-product"===o){confirm(t.getTranslation("misc","reset_confirm"))&&t.loadProduct(t.currentViews)}else if("undo"===o)t.currentViewInstance.undo();else if("redo"===o)t.currentViewInstance.redo();else if("info"===o)FPDUtil.showModal(e.children(".fpd-info-content").text(),!1,"",t.$modalContainer);else if("preview-lightbox"===o)t.getProductDataURL(function(t){var e=new Image;e.src=t,e.onload=function(){FPDUtil.showModal('<img src="'+this.src+'" download="product.png" />',!0)}});else if("save"===o){t.mainBar.toggleDialog(!1);var a=FPDUtil.showModal(t.getTranslation("actions","save_placeholder"),!1,"prompt",t.$modalContainer);a.find(".fpd-btn").text(t.getTranslation("actions","save")).click(function(){t.doUnsavedAlert=!1;var e=$(this).siblings("input:first").val();t.currentViewInstance.toDataURL(function(n){var i=t.getProduct();if(FPDUtil.getScalingByDimesions(t.currentViewInstance.options.stageWidth,t.currentViewInstance.options.stageHeight,300,300,"cover"),i&&t.mainOptions.saveActionBrowserStorage){var o=r();o||(o=[]),o.push({thumbnail:n,product:i,title:e}),window.localStorage.setItem(t.$container.attr("id"),JSON.stringify(o)),FPDUtil.showMessage(t.getTranslation("misc","product_saved"))}a.find(".fpd-modal-close").click(),t.$container.trigger("actionSave",[e,n,i])},"transparent",{multiplier:x,format:"png"})})}else if("load"===o){if(t.mainBar.$content.find(".fpd-saved-designs-panel .fpd-grid").empty(),t.mainOptions.saveActionBrowserStorage){var s=r();if(s&&s.length>0){for(var l=0;l<s.length;++l){var c=s[l];i.addSavedProduct(c.thumbnail,c.product,c.title)}FPDUtil.createScrollbar(t.mainBar.$content.find(".fpd-saved-designs-panel .fpd-scroll-area"))}else t.mainBar.$content.find(".fpd-saved-designs-panel .fpd-empty-saved-designs").toggleClass("fpd-hidden",!1)}t.$container.trigger("actionLoad"),t.mainBar.callSecondary("fpd-saved-designs-panel")}else if("manage-layers"===o)t.mainBar.callModule("manage-layers");else if("snap"===o)if(e.toggleClass("fpd-active"),t.currentViewInstance._snapElements=e.hasClass("fpd-active"),t.$mainWrapper.children(".fpd-snap-line-h, .fpd-snap-line-v").hide(),e.hasClass("fpd-active")){var u=[],d=t.mainOptions.snapGridSize[0]?t.mainOptions.snapGridSize[0]:50,h=t.mainOptions.snapGridSize[1]?t.mainOptions.snapGridSize[1]:50,p=Math.ceil(t.currentViewInstance.options.stageWidth/d),f=Math.ceil(t.currentViewInstance.options.stageHeight/h);for(l=0;p>l;++l){var g=new fabric.Rect({width:1,height:t.currentViewInstance.options.stageHeight,fill:"#ccc",opacity:.6,left:l*d,top:0});u.push(g)}for(l=0;f>l;++l){var m=new fabric.Rect({width:t.currentViewInstance.options.stageWidth,height:1,fill:"#ccc",opacity:.6,top:l*h,left:0});u.push(m)}n=new fabric.Group(u,{id:"_snap_lines_group",left:0,top:0,evented:!1,selectable:!1,_ignore:!0}),t.currentViewInstance.stage.add(n)}else n&&t.currentViewInstance.stage.remove(n);else if("qr-code"===o){var v=(b=FPDUtil.showModal(e.children(".fpd-modal-context").clone(),!1,"",t.$modalContainer)).find(".fpd-qrcode-colors input").spectrum({preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,replacerClassName:"fpd-spectrum-replacer"});b.find(".fpd-add-qr-code").click(function(){var e=b.find(".fpd-modal-context > input").val();if(e&&0!==e.length){var n=b.find(".fpd-qrcode-wrapper").empty();new QRCode(n.get(0),{text:e,width:256,height:256,colorDark:v.filter(".fpd-qrcode-color-dark").spectrum("get").toHexString(),colorLight:v.filter(".fpd-qrcode-color-light").spectrum("get").toHexString(),correctLevel:QRCode.CorrectLevel.H}),n.find("img").on("load",function(){t.addElement("image",this.src,"QR-Code - "+e,t.currentViewInstance.options.qrCodeProps),b.find(".fpd-modal-close").click()})}}),b.on("modalRemove",function(){v.spectrum("destroy")})}else if("zoom"===o){if(e.hasClass("fpd-active"))t.currentViewInstance.dragStage=!1,t.$productStage.removeClass("fpd-drag"),t.$mainWrapper.children(".fpd-action-context").remove();else{var y=e.children(".fpd-action-context").clone();t.$mainWrapper.append(y);var w=t.currentViewInstance.stage.getZoom()/t.currentViewInstance.responsiveScale;y.find(".fpd-zoom-slider").attr("step",t.mainOptions.zoomStep).attr("max",t.mainOptions.maxZoom).val(w).rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(e,n){t.setZoom(n)}}),y.find(".fpd-stage-pan").click(function(){t.currentViewInstance.dragStage=!t.currentViewInstance.dragStage,t.$productStage.toggleClass("fpd-drag")})}e.toggleClass("fpd-active")}else if("download"===o){var b;(b=FPDUtil.showModal(e.children(".fpd-modal-context").clone(),!1,"",t.$modalContainer)).find(".fpd-modal-context span[data-value]").click(function(){var t=$(this);i.downloadFile(t.data("value"),t.siblings(".fpd-checkbox:first").children("input").is(":checked")),b.find(".fpd-modal-close").click()})}else if("magnify-glass"===o){if(t.resetZoom(),e.hasClass("fpd-active"))$(".fpd-zoom-image,.zoomContainer").remove(),t.$productStage.children(".fpd-view-stage").eq(t.currentViewIndex).removeClass("fpd-hidden");else{t.toggleSpinner();var x=Number(2e3/t.currentViewInstance.options.stageWidth).toFixed(2),C=t.currentViewInstance.stage.toDataURL({multiplier:x,format:"png"});t.$productStage.append('<img src="'+C+'" class="fpd-zoom-image" />').children(".fpd-zoom-image").elevateZoom({scrollZoom:!0,borderSize:1,zoomType:"lens",lensShape:"round",lensSize:200,responsive:!0,onZoomedImageLoaded:function(){$(".zoomContainer").appendTo(".fpd-modal-product-designer .fpd-main-wrapper"),t.toggleSpinner(!1)}}),t.$productStage.children(".fpd-view-stage").addClass("fpd-hidden")}e.toggleClass("fpd-active")}else if("ruler"===o){if(e.hasClass("fpd-active")){var A=t.currentViewInstance.getElementByID("_ruler_hor");A&&t.currentViewInstance.stage.remove(A);var D=t.currentViewInstance.getElementByID("_ruler_ver");D&&t.currentViewInstance.stage.remove(D)}else{var S={fill:"#979797",fontSize:10,fontFamily:"Arial"};fabric.util.loadImage(FPDActions.rulerHorImg,function(e){var n=new fabric.Group([],{left:0,top:0,originX:"left",originY:"top",evented:!1,selectable:!1,id:"_ruler_hor"}),i=new fabric.Rect({width:t.currentViewInstance.options.stageWidth,height:30});i.setPatternFill({source:e,repeat:"repeat-x"}),n.addWithUpdate(i);for(var o=Math.ceil(t.currentViewInstance.options.stageWidth/100),r=1;o>r;++r){var a=new fabric.Text(String(100*r),$.extend({},S,{top:3,left:100*r+3}));n.addWithUpdate(a)}t.currentViewInstance.stage.add(n).renderAll()}),fabric.util.loadImage(FPDActions.rulerVerImg,function(e){var n=new fabric.Group([],{left:0,top:0,originX:"left",originY:"top",evented:!1,selectable:!1,id:"_ruler_ver"}),i=new fabric.Rect({width:30,height:t.currentViewInstance.options.stageHeight});i.setPatternFill({source:e,repeat:"repeat-y"}),n.addWithUpdate(i);for(var o=Math.ceil(t.currentViewInstance.options.stageWidth/100),r=1;o>r;++r){var a=new fabric.Text(String(100*r),$.extend({},S,{top:100*r+3,left:12,angle:90,originY:"bottom"}));n.addWithUpdate(a)}t.currentViewInstance.stage.add(n).renderAll()})}e.toggleClass("fpd-active")}else if("previous-view"===o)t.selectView(t.currentViewIndex-1);else if("next-view"===o)t.selectView(t.currentViewIndex+1);else if("guided-tour"===o&&t.mainOptions.guidedTour&&Object.keys(t.mainOptions.guidedTour).length>0){var P=Object.keys(t.mainOptions.guidedTour)[0];t.selectGuidedTourStep(P)}},this.resetAllActions=function(){$(".fpd-zoom-image,.zoomContainer").remove(),t.$productStage.children(".fpd-view-stage").eq(t.currentViewIndex).removeClass("fpd-hidden"),t.$mainWrapper.find(".fpd-action-btn").removeClass("fpd-active")},this.hideAllTooltips=function(){t.$mainWrapper.find(".fpd-action-btn.tooltipstered").tooltipster("hide")},this.addSavedProduct=function(e,n,i){i=i||"";var o=t.mainBar.$content.find(".fpd-saved-designs-panel .fpd-grid"),a=""!==i?'title="'+i+'"':"";return o.append('<div class="fpd-item fpd-tooltip" '+a+'><picture style="background-image: url('+e+')" ></picture><div class="fpd-remove-design"><span class="fpd-icon-remove"></span></div></div>').children(".fpd-item:last").click(function(){t.loadProduct($(this).data("product")),t.currentProductIndex=-1}).data("product",n).children(".fpd-remove-design").click(function(e){e.stopPropagation();var n=$(this).parent(".fpd-item"),i=n.parent(".fpd-grid").children(".fpd-item").index(n);if(t.mainOptions.saveActionBrowserStorage){var o=r();o.splice(i,1),window.localStorage.setItem(t.$container.attr("id"),JSON.stringify(o))}t.$container.trigger("actionLoad:Remove",[i,n]),n.remove()}),FPDUtil.updateTooltip(o),o.children(".fpd-item:last")},e&&(i.setup(i.currentActions),t.$container.on("click",".fpd-actions-wrapper .fpd-action-btn",function(){var t=$(this);t.hasClass("tooltipstered")&&t.tooltipster("hide"),i.doAction(t)})),t.$container.on("viewSelect",function(e,n){i.resetAllActions(),t.$mainWrapper.find('[data-action="previous-view"], [data-action="next-view"]').toggleClass("fpd-hidden",t.viewInstances.length<=1),t.$mainWrapper.find('[data-action="previous-view"]').toggleClass("fpd-disabled",0===n),t.$mainWrapper.find('[data-action="next-view"]').toggleClass("fpd-disabled",n===t.viewInstances.length-1)})};FPDActions.availableActions=["print","reset-product","undo","redo","info","save","load","manage-layers","snap","qr-code","zoom","download","magnify-glass","preview-lightbox","ruler","previous-view","next-view","guided-tour"],FPDActions.rulerHorImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAAXNSR0IArs4c6QAAAMtJREFUaAXt0bENAkEMBVGgJVranja5lq4myH50wUr+wQRDZCHWWPPee+/fdV33yw+iwAdxhUekgCBJwRgEYTjkCkGSgjEIwnDIFYIkBWMQhOGQKwRJCsYgCMMhVwiSFIxBEIZDrhAkKRiDIAyHXCFIUjAGQRgOuUKQpGAMgjAccoUgScEYjkHWWt+Tk/3dc6XTLscgz3/jt+0CgrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvf9ARH1Efg/D4CQAAAAAElFTkSuQmCC",FPDActions.rulerVerImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAABkCAYAAACRiYAFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAA40lEQVRoBe2UwQ3CUBTD+KzUYXvpSHQmECzgIlk8CbnXRonqvGZt2/a4DTz3gcxPZME/Ix/q/0e99n1/Xv3M4zjOq1rSrZaLEFnv+48tkugTakRkCVouiyT6dNWIyBKE2iKJPmOoWy7sxhKMdVywVSH6hBoRWYKWyyKJPl01IrIEobZIos8Y6pYLu7EEYx0XbFWIPqFGRJag5bJIok9XjYgsQagtkugzhrrlwm4swVjHBVsVok+oEZElaLkskujTVSMiSxBqiyT6jKFuubAbSzDWccFWhegTakRkCb5aLiv07fMCuAVB+Jp9DBgAAAAASUVORK5CYII=";var FPDImageEditor=function(t,e,n){"use strict";$=jQuery;var i,o,r=n.mainOptions.imageEditorSettings,a="#2ecc71",s=this,l=0,c=0,u=t.children(".fpd-image-editor-main"),d=!1,h=null,p={opacity:.3,cornerColor:a,borderColor:a,borderScaleFactor:3,borderDashArray:[5,5],hasRotatingPoint:!0,centeredScaling:!0,objectCaching:!1,__editorMode:!0,__imageEditor:!0},f=function(t){o.filters=o.filters.filter(function(e){return e.type!==t}),v()},g=function(t,e){e=void 0===e?{}:e;var n=o.filters.filter(function(e){return e&&"RemoveColor"===e.type&&(e.type="RemoveWhite"),e.type===t});if(n.length>0)$.extend(n[0],e);else{var i=FPDUtil.getFilter(t,e);o.filters.push(i)}v()},m=function(){var e=t.children(".fpd-image-editor-main");s.responsiveScale=e.outerWidth()<l?e.outerWidth()/l:1,s.responsiveScale=parseFloat(Number(s.responsiveScale.toFixed(7))),s.responsiveScale=s.responsiveScale>1?1:s.responsiveScale,h&&(h.left=h.left*s.responsiveScale,h.top=h.top*s.responsiveScale,h.scaleX=h.scaleX*s.responsiveScale,h.scaleY=h.scaleY*s.responsiveScale,h.setCoords()),i.setDimensions({width:e.width(),height:c*s.responsiveScale}).setZoom(s.responsiveScale).calcOffset().renderAll()},v=function(){"1.6.7"===fabric.version?o.applyFilters(function(){i.renderAll()}):(o.applyFilters(),i.renderAll())};this.loadImage=function(t){this.reset(),new fabric.Image.fromURL(t,function(t){o=t,l=t.width,c=t.height,o.setOptions({cornerColor:a,borderColor:a,__editorMode:!0,__imageEditor:!0}),i.setDimensions({width:l,height:c}),i.add(t),m()},{crossOrigin:"anonymous"})},this.getImage=function(){i.setDimensions({width:l,height:c}).setZoom(1),h&&(h.left=h.left/s.responsiveScale,h.top=h.top/s.responsiveScale,h.scaleX=h.scaleX/s.responsiveScale,h.scaleY=h.scaleY/s.responsiveScale,h.setCoords()),i.renderAll();var t=i.toDataURL({});return m(),t},this.reset=function(){t.find(".fpd-switch-container").removeClass("fpd-enabled"),i.clipTo=null,h=null,i.discardActiveObject(),o&&(o.setOptions({scaleX:1,scaleY:1,angle:0,left:0,top:0}),o.filters=[],v())},function(){e.originSource=e.originSource?e.originSource:e.source,s.responsiveScale=1,t.addClass("fpd-container"),u.append("<canvas>");i=new fabric.Canvas(u.children("canvas:last").get(0),{containerClass:"fpd-image-editor-canvas-wrapper",selection:!1,hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0,enableRetinaScaling:!1});var y={},w=!1;i.on({"mouse:down":function(t){if(!h&&d){w=!0;var e=i.getPointer(t.e);y.x=e.x,y.y=e.y,h=new fabric.Rect($.extend({},{width:0,height:0,left:e.x/s.responsiveScale,top:e.y/s.responsiveScale,fill:"#000"},p)),m(),i.add(h),i.renderAll(),i.setActiveObject(h)}},"mouse:move":function(t){if(w){var e=i.getPointer(t.e),n=Math.abs(e.x-y.x),o=Math.abs(e.y-y.y);if(!n||!o)return!1;h.setOptions({width:n/s.responsiveScale,height:o/s.responsiveScale}),h.setCoords(),i.renderAll()}},"mouse:up":function(){w=!1}}),t.on("click",".fpd-image-editor-menu > span",function(){var e=$(this),n=e.data("id");e.addClass("fpd-active").siblings().removeClass("fpd-active"),t.find(".fpd-tab-content > div").removeClass("fpd-active").filter('[data-id="'+n+'"]').addClass("fpd-active")}),r.masks&&$.isArray(r.masks)&&r.masks.forEach(function(e){var n=e.split(/[\\\/]/).pop();n=n.substr(0,n.lastIndexOf(".")),t.find(".fpd-mask-selection").append('<span data-mask="'+e+'" class="fpd-tooltip" title="'+n+'" style="background-image: url('+e+')"></span>')}),t.on("click",".fpd-mask-selection > span",function(){if(!o)return!1;var e=$(this).data("mask");i.discardActiveObject(),o.evented=!1,i.clipTo=null,h=null,"custom-rect"===e?d=!0:fabric.loadSVGFromURL(e,function(t,e){var n=t?fabric.util.groupSVGElements(t,e):null;i.add(n),n.setOptions($.extend({},p,{opacity:1,fill:"rgba(0,0,0,0)"})),i.width>i.height?n.scaleToHeight((i.height-80)/s.responsiveScale):n.scaleToWidth((i.width-80)/s.responsiveScale),"1.6.7"===fabric.version?n.getObjects()[0].set("stroke",a).set("strokeWidth",3/n.scaleX):n.set("stroke",a).set("strokeWidth",3/n.scaleX),h=n,m(),n.left=0,n.top=0,n.setPositionByOrigin(new fabric.Point(.5*l,.5*c),"center","center"),n.setCoords(),i.renderAll()}),i.renderAll(),t.addClass("fpd-show-secondary")}),t.on("click",".fpd-mask-cancel, .fpd-mask-save",function(){return!!o&&(o.evented=!0,d=!1,i.discardActiveObject(),h&&($(this).hasClass("fpd-mask-save")&&(m(),h.set("strokeWidth",0),h.set("fill","transparent"),i.clipTo=function(t){h.render(t)}),i.remove(h)),void t.removeClass("fpd-show-secondary"))});var b=["none","grayscale","sepia","cold","black_white","old","milk","purple","yellow","monochrome"];"1.6.7"===fabric.version&&(b=b.concat(["sepia2","technicolor","kodachrome","vintage"])),b.forEach(function(e){t.find(".fpd-content-filters").append('<div data-type="'+e+'" style="background-image: url('+FPDFilters[e].preview+')" data-defaulttext="'+FPDFilters[e].name+'" title="image_editor.filter_'+e+'" class="fpd-tooltip"></div>')}),t.find(".fpd-content-filters [data-defaulttext]").each(function(t,e){n.translateElement($(e))}),t.on("click",".fpd-content-filters > div",function(){if(!o)return!1;var t=["Grayscale","Sepia","Sepia2","ColorMatrix"];o.filters=o.filters.filter(function(e){return e&&-1===t.indexOf(e.type)}),o.filters.push(FPDUtil.getFilter($(this).data("type"))),v()}),t.on("click",".fpd-switch-container",function(){if(!o)return!1;var t=$(this),e=t.data("filter");if(t.toggleClass("fpd-enabled"),t.nextAll(".fpd-range-tooltip:first").toggleClass("fpd-enabled",t.hasClass("fpd-enabled")),t.hasClass("fpd-enabled")){var n={};t.parent().find(".fpd-input-range").each(function(t,e){n[e.name]=parseFloat(e.value)}),g(e,n)}else f(e)});var x=null;t.on("input change",".fpd-input-range",function(){if(!o)return!1;var t=$(this),e=t.parent(".fpd-range-tooltip").siblings(".fpd-switch-container:first"),n=e.data("filter"),i=parseFloat(this.min),r=parseFloat(this.max),a=parseFloat(this.value),s=(this.value-i)/(r-i);e.parent().siblings(".fpd-left").find(".fpd-range-tooltip").removeClass("fpd-moving"),t.parent(".fpd-range-tooltip").addClass("fpd-moving").children(".fpd-tooltip").text(a.toFixed(2)).css("left",String(100*s)+"%");var l={};"1.6.7"===fabric.version?a*=255:l.color="#fff",l[t.attr("name")]=a,g(n,l),x&&(clearTimeout(x),x=null),x=setTimeout(function(){t.parent(".fpd-range-tooltip").removeClass("fpd-moving"),clearTimeout(x),x=null},2e3)}),t.on("click",".fpd-action-restore",function(){return!!o&&(o.source=e.originSource,o.setSrc(e.originSource,function(){o.setCoords(),i.renderAll()}),void s.reset())}),t.on("click",".fpd-action-save",function(){var i=s.getImage();if("image"!==e.type){var o=n.currentViewInstance.getElementJSON(e);delete o.fill,n.currentViewInstance.removeElement(e.title,e),n.currentViewInstance.addElement("image",i,e.title,o)}else e.source=i,e.setSrc(i,function(){e.setCoords(),e.canvas.renderAll()});t.parent().siblings(".fpd-modal-close").click()}),FPDUtil.updateTooltip(t)}()},FPDDesignsModule=function(t,e){"use strict";$=jQuery;var n=this,i="",o=e.find(".fpd-head"),r=e.find(".fpd-scroll-area"),a=e.find(".fpd-grid"),s=t.mainOptions.lazyLoad?"fpd-hidden":"",l=null,c=!1,u=[],d=function(t,n){r.find(".fpd-grid").empty(),o.find(".fpd-input-search input").val(""),e.removeClass("fpd-designs-active").addClass("fpd-categories-active"),t.forEach(function(t){h(t)}),n&&o.find(".fpd-input-search input").attr("placeholder",i+" "+n.title.toUpperCase()),FPDUtil.refreshLazyLoad(a,!1),FPDUtil.createScrollbar(r)},h=function(t){var n=t.thumbnail?'<picture data-img="'+t.thumbnail+'"></picture>':"",r=(t.thumbnail,$("<div/>",{class:"fpd-category fpd-item "+s,"data-search":t.title.toLowerCase(),html:n+"<span>"+t.title+"</span>"}).appendTo(a));r.click(function(){var t=$(this),n=t.parent().children(".fpd-item").index(t),r=l[n];r.category?(u.push(n),l=r.category,d(l,r)):p(r.designs,r.parameters),e.addClass("fpd-head-visible"),o.find(".fpd-input-search input").attr("placeholder",i+" "+t.children("span").text().toUpperCase())}),""===s&&t.thumbnail&&FPDUtil.loadGridImage(r.children("picture"),t.thumbnail)},p=function(t,n){r.find(".fpd-grid").empty(),o.find(".fpd-input-search input").val(""),e.removeClass("fpd-categories-active").addClass("fpd-designs-active");n=n||{};t.forEach(function(t){t.parameters=$.extend({},n,t.parameters),f(t)}),FPDUtil.refreshLazyLoad(a,!1),FPDUtil.createScrollbar(r),FPDUtil.updateTooltip()},f=function(e){e.thumbnail=void 0===e.thumbnail?e.source:e.thumbnail;var n=$("<div/>",{class:"fpd-item "+s,"data-title":e.title,"data-source":e.source,"data-search":e.title.toLowerCase(),html:'<picture data-img="'+e.thumbnail+'"></picture><span class="fpd-price"></span>'}).appendTo(a);n.click(function(){t.toggleSpinner(!0,t.getTranslation("misc","loading_image"));var e=$(this),n=e.data("parameters"),i=e.data("source");(n=$.extend({},t.currentViewInstance.options.customImageParameters,n)).isCustom=!0,n._addToUZ=t.currentViewInstance.currentUploadZone,t.addElement("image",i,e.data("title"),n),t.productCreated&&t.mainOptions.hideDialogOnAdd&&t.$container.hasClass("fpd-topbar")&&t.mainBar&&t.mainBar.toggleDialog(!1)}).data("parameters",e.parameters),FPDUtil.setItemPrice(n,t),""===s&&FPDUtil.loadGridImage(n.children("picture"),e.thumbnail)};this.toggleCategories=function(){if(c){e.removeClass("fpd-head-visible fpd-single-cat"),l=t.designs,d(l);var n=[];if(t.currentViewInstance){var i=t.currentViewInstance.currentElement;n=i&&i.uploadZone&&i.designCategories?t.currentViewInstance.currentElement.designCategories:t.currentViewInstance.options.designCategories}var o=a.find(".fpd-category");if(n.length>0){var r=o.hide().filter(function(){var t=$(this).children("span").text();return $.inArray(t,n)>-1}).show(r);1===r.length&&(r.first().click(),e.toggleClass("fpd-single-cat"))}else o.show()}},i=t.getTranslation("modules","designs_search_in").toUpperCase(),o.find(".fpd-input-search input").keyup(function(){if(""==this.value)a.children(".fpd-item").css("display","block");else{a.children(".fpd-item").css("display","none");var t=this.value.toLowerCase().trim().split(" ");a.children(".fpd-item").filter(function(){var e=0,n=this;return $.each(t,function(t,i){e+=$(n).is("[data-search*='"+i+"']")}),e==t.length?1:void 0}).css("display","block")}}),o.find(".fpd-back").click(function(){a.children(".fpd-category").length>0&&u.pop();var e,i=t.designs;u.forEach(function(t){e=i[t],i=e.category}),l=i,i&&d(l,e),void 0===e&&n.toggleCategories()}),t.$container.on("designsSet",function(t,i){$.isArray(i)&&0!==i.length&&(i[0].hasOwnProperty("source")?(e.addClass("fpd-single-cat"),p(i)):i.length>1||i[0].category?(c=!0,n.toggleCategories()):1===i.length&&i[0].designs&&(e.addClass("fpd-single-cat"),p(i[0].designs)))}).on("viewSelect",function(){n.toggleCategories()})},FPDProductsModule=function(t,e){"use strict";$=jQuery;var n=this,i=0,o=e.find(".fpd-product-categories"),r=e.children(".fpd-scroll-area"),a=e.find(".fpd-grid"),s=t.mainOptions.lazyLoad?"fpd-hidden":"",l=function(e){var n=e[0].productThumbnail?e[0].productThumbnail:e[0].thumbnail,o=e[0].productTitle?e[0].productTitle:e[0].title,r=$("<div/>",{class:"fpd-item fpd-tooltip "+s,"data-title":o,"data-source":n,html:'<picture data-img="'+n+'"></picture>'}).appendTo(a);r.click(function(e){e.preventDefault();var n=$(this),o=a.children(".fpd-item").index(n);if(t.mainOptions.swapProductConfirmation){var r=FPDUtil.showModal(t.getTranslation("modules","products_confirm_replacement"),!1,"confirm",t.$modalContainer);r.find(".fpd-confirm").text(t.getTranslation("modules","products_confirm_button")).click(function(){t.selectProduct(o,i),r.find(".fpd-modal-close").click()})}else t.selectProduct(o,i)}).data("views",e),""===s?FPDUtil.loadGridImage(r.children("picture"),n):FPDUtil.refreshLazyLoad(a,!1),FPDUtil.updateTooltip(a)},c=function(){if(!t.mainOptions.editorMode){var e=t.products[0],n=void 0===e;void 0!==e&&(n=!!(!e.hasOwnProperty("category")&&t.products.length<2||e.hasOwnProperty("category")&&e.products.length<2&&t.products.length<2)),t.$container.toggleClass("fpd-products-module-hidden",n)}};this.selectCategory=function(e){var n;(r.find(".fpd-grid").empty(),t.products&&t.products.length>0)&&(void 0!==t.products[0].category?(n=t.products[e].products,o.children("input").val(t.products[e].category)):n=t.products,n.forEach(function(t){l(t)}),FPDUtil.createScrollbar(r))},c(),o.children("input").keyup(function(){var t=o.find(".fpd-dropdown-list .fpd-item");t.hide(),0===this.value.length?t.show():t.filter(':containsCaseInsensitive("'+this.value+'")').show()}),o.on("click",".fpd-dropdown-list .fpd-item",function(){var t=$(this);i=t.data("value"),t.parent().prevAll(".fpd-dropdown-current:first").val(t.text()),n.selectCategory(i),t.siblings(".fpd-item").show(),FPDUtil.refreshLazyLoad(a,!1)}),t.$container.on("productsSet",function(t,i){o.find(".fpd-dropdown-list .fpd-item").remove(),a.empty(),i&&i.length>0&&(void 0!==i[0].category&&i.length>1&&(e.addClass("fpd-categories-enabled"),i.forEach(function(t,e){o.find(".fpd-dropdown-list > .fpd-scroll-area").append('<span class="fpd-item" data-value="'+e+'">'+t.category+"</span>")})),c(),n.selectCategory(0)),FPDUtil.createScrollbar(o.find(".fpd-dropdown-list .fpd-scroll-area"))}),t.$container.on("productAdd",function(t,e,n,o){o==i&&l(e)})},FPDTextModule=function(t,e){"use strict";$=jQuery;var n;t.$container.on("viewSelect",function(i,o,r){if((n=r.options).customTextParameters&&n.customTextParameters.price){var a=t.formatPrice(n.customTextParameters.price);e.find(".fpd-btn > .fpd-price").html(" - "+a)}else e.find(".fpd-btn > .fpd-price").html("")}),e.on("click",".fpd-btn",function(){var e=$(this).prevAll("textarea:first"),i=e.val();if(i&&i.length>0){var o=$.extend({},n.customTextParameters,{isCustom:!0,_addToUZ:t.currentViewInstance.currentUploadZone});t.addElement("text",i,i,o)}e.val("")}),e.on("input change","textarea",function(){var e=this.value,i=n?n.customTextParameters.maxLength:0,o=n?n.customTextParameters.maxLines:0;t.mainOptions.disableTextEmojis&&(e=(e=e.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),0!=i&&e.length>i&&(e=e.substr(0,i)),0!=o&&e.split("\n").length>o&&(e=e.replace(/([\s\S]*)\n/,"$1")),this.value=e})},FPDLayersModule={createList:function(t,e){var n,i=!1;e.off();var o=function(n){var i="<span></span>";if(FPDUtil.elementHasColorSelection(n)){var o=FPDUtil.elementAvailableColors(n,t);n.uploadZone?i="<span></span>":n.type==FPDPathGroupName&&n.getObjects().length>1?i='<span class="fpd-current-color" style="background: '+o[0]+'"></span>':1!=o&&(o.length>1||n.type==FPDPathGroupName&&1===n.getObjects().length)?i='<span class="fpd-current-color" style="background: '+(n.fill?n.fill:o[0])+'" data-colors=""></span>':i='<input class="fpd-current-color" type="text" value="'+(n.fill?n.fill:o[0])+'" />'}var r=n.title;"text"===FPDUtil.getType(n.type)&&n.editable&&(r="<textarea>"+n.text+"</textarea>"),e.find(".fpd-list").append('<div class="fpd-list-row" id="'+n.id+'"><div class="fpd-cell-0">'+i+'</div><div class="fpd-cell-1">'+r+'</div><div class="fpd-cell-2"></div></div>');var a=e.find(".fpd-list-row:last").data("element",n).data("colors",o);if(n.uploadZone)a.addClass("fpd-add-layer").find(".fpd-cell-2").append('<span class="fpd-icon-add"></span>'),n.uploadZoneRemovable&&a.find(".fpd-icon-add").after('<span class="fpd-remove-element"><span class="fpd-icon-remove"></span></span>');else{var s=n.locked?"fpd-icon-locked-full":"fpd-icon-unlocked",l=n.zChangeable?'<span class="fpd-icon-reorder"></span>':"";a.find(".fpd-cell-2").append(l+'<span class="fpd-lock-element"><span class="'+s+'"></span></span>'),(n.removable||n.__editorMode)&&a.find(".fpd-lock-element").after('<span class="fpd-remove-element"><span class="fpd-icon-remove"></span></span>'),a.toggleClass("fpd-locked",n.locked)}};e.find(".fpd-current-color").spectrum("destroy"),e.find(".fpd-list").empty(),t.getElements(t.currentViewIndex).forEach(function(t){FPDUtil.elementIsEditable(t)&&o(t)}),FPDUtil.createScrollbar(e.find(".fpd-scroll-area"));var r=0;e.find(".fpd-list").sortable({handle:".fpd-icon-reorder",placeholder:"fpd-list-row fpd-sortable-placeholder",scroll:!1,axis:"y",containment:"parent",items:".fpd-list-row:not(.fpd-locked)",start:function(t,e){r=e.originalPosition.top},change:function(e,n){var i,o=t.getElementByID(n.item.attr("id"));i=n.position.top>r?n.placeholder.prevAll(".fpd-list-row:not(.ui-sortable-helper)").first():n.placeholder.nextAll(".fpd-list-row:not(.ui-sortable-helper)").first();var a=t.currentViewInstance.getElementByID(i.attr("id")),s=t.currentViewInstance.getZIndex(a);t.setElementParameters({z:s},o),r=n.position.top}}),e.find("input.fpd-current-color").spectrum("destroy").spectrum({flat:!1,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:t.mainOptions.colorPickerPalette&&t.mainOptions.colorPickerPalette.length>0,palette:t.mainOptions.colorPickerPalette,showButtons:!1,show:function(e){FPDUtil.spectrumColorNames($(this).spectrum("container"),t),$(this).parents(".fpd-list-row:first").data("element")._tempFill=e.toHexString()},move:function(e){var n=$(this).parents(".fpd-list-row:first").data("element");(!1===i||"png"!==FPDUtil.elementIsColorizable(n))&&t.currentViewInstance.changeColor(n,e.toHexString())},change:function(e){$(document).unbind("click.spectrum");var n=$(this).parents(".fpd-list-row:first").data("element");t.currentViewInstance.setElementParameters({fill:e.toHexString()},n)}}).on("beforeShow.spectrum",function(){n&&(n.remove(),n=null)}).on("dragstart.spectrum",function(){i=!0}).on("dragstop.spectrum",function(e,n){i=!1;var o=$(this).parents(".fpd-list-row:first").data("element");t.currentViewInstance.changeColor(o,n.toHexString())}),e.off("click",".fpd-current-color").on("click",".fpd-current-color",function(i){i.stopPropagation(),e.find(".fpd-path-colorpicker").spectrum("destroy"),e.find("input.fpd-current-color").spectrum("hide");var o=$(this).parents(".fpd-list-row"),r=o.data("element"),a=o.data("colors");if(n&&o.children(".fpd-scroll-area").length>0)return n.slideUp(200,function(){$(this).remove()}),void(n=null);if(n&&(n.slideUp(200,function(){$(this).remove()}),n=null),a.length>0){o.append('<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>');for(var s=0;s<a.length;++s){var l;if(r.type===FPDPathGroupName&&r.getObjects().length>1)l='<input class="fpd-path-colorpicker" type="text" value="'+a[s]+'" />';else{var c=t.mainOptions.hexNames[a[s].replace("#","").toLowerCase()];l='<div class="fpd-item fpd-tooltip" title="'+(c=c||a[s])+'" style="background-color: '+a[s]+'" data-color="'+a[s]+'"></div>'}o.find(".fpd-color-palette").append(l)}FPDUtil.updateTooltip(o),r.type===FPDPathGroupName&&r.getObjects().length>1&&o.find(".fpd-path-colorpicker").spectrum({showPaletteOnly:$.isArray(r.colors),preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:t.mainOptions.colorPickerPalette&&t.mainOptions.colorPickerPalette.length>0,palette:$.isArray(r.colors)?r.colors:t.mainOptions.colorPickerPalette,show:function(e){var n=$(this).parents(".fpd-list-row"),i=n.data("element"),o=FPDUtil.changePathColor(i,n.find(".fpd-path-colorpicker").index(this),e);FPDUtil.spectrumColorNames($(this).spectrum("container"),t),i._tempFill=o},move:function(e){var n=$(this).parents(".fpd-list-row"),i=n.data("element"),o=FPDUtil.changePathColor(i,n.find(".fpd-path-colorpicker").index(this),e);t.currentViewInstance.changeColor(i,o)},change:function(e){var n=$(this).parents(".fpd-list-row"),i=n.data("element"),o=FPDUtil.changePathColor(i,n.find(".fpd-path-colorpicker").index(this),e);$(document).unbind("click.spectrum"),t.currentViewInstance.setElementParameters({fill:o},i)}}),n=o.children(".fpd-scroll-area").slideDown(300)}}),e.on("click",".fpd-color-palette .fpd-item",function(e){e.stopPropagation();var n=$(this),i=n.parents(".fpd-list-row"),o=i.data("element"),r=n.data("color");i.find(".fpd-current-color").css("background",r),o.type==FPDPathGroupName&&(r=FPDUtil.changePathColor(o,0,r)),t.currentViewInstance.setElementParameters({fill:r},o)}),e.on("click",".fpd-list-row",function(){if(!$(this).hasClass("fpd-locked")){var e=t.getElementByID(this.id);e&&e.canvas.setActiveObject(e).renderAll()}}),e.on("click",".fpd-lock-element",function(t){t.stopPropagation();var e=$(this),i=e.parents(".fpd-list-row").data("element");n&&(n.slideUp(200,function(){$(this).remove()}),n=null),i.evented=!i.evented,i.locked=!i.evented,e.children("span").toggleClass("fpd-icon-unlocked",i.evented).toggleClass("fpd-icon-locked-full",!i.evented),e.parents(".fpd-list-row").toggleClass("fpd-locked",!i.evented),e.parents(".fpd-list:first").sortable("refresh")}),e.on("click",".fpd-remove-element",function(e){e.stopPropagation();var n=$(this).parents(".fpd-list-row");t.currentViewInstance.removeElement(n.data("element"))}),e.on("keyup","textarea",function(e){e.stopPropagation();var n=$(this).parents(".fpd-list-row").data("element");t.mainOptions.disableTextEmojis&&(this.value=this.value.replace(FPDEmojisRegex,""),this.value=this.value.replace(String.fromCharCode(65039),"")),t.currentViewInstance.setElementParameters({text:this.value},n),this.value=n.text});var a=function(t,n,i){i.text&&e.find(".fpd-list").find('[id="'+n.id+'"] textarea').val(i.text)};t.$container.off("elementModify",a),t.$container.on("elementModify",a);var s=function(t,n,i){var o=e.find(".fpd-list").find('[id="'+n.id+'"] .fpd-current-color');o.is("input")?o.spectrum("set",i):o.css("background",i)};t.$container.off("elementColorChange",s),t.$container.on("elementColorChange",s)}},FPDImagesModule=function(t,e){"use strict";$=jQuery;var n=t.mainOptions.lazyLoad?"fpd-hidden":"",i=e.find(".fpd-input-image"),o=e.find('[data-context="upload"] .fpd-scroll-area'),r=o.find(".fpd-grid"),a=e.find(".fpd-facebook-albums"),s=e.find('[data-context="facebook"] .fpd-scroll-area'),l=s.find(".fpd-grid"),c=e.find('[data-context="instagram"] .fpd-scroll-area'),u=c.find(".fpd-grid"),d=t.mainOptions.facebookAppId,h=t.mainOptions.instagramClientId,p=t.mainOptions.instagramRedirectUri,f=null,g=!1,m=null,v=FPDUtil.localStorageAvailable(),y=t.getTranslation("misc","loading_image"),w=t.mainOptions.customImageAjaxSettings,b=w.data&&w.data.saveOnServer?1:0,x=w.data&&w.data.uploadsDir?w.data.uploadsDir:"",C=w.data&&w.data.uploadsDirURL?w.data.uploadsDirURL:"",A=t.mainOptions.allowedImageTypes,D=t.mainOptions.pixabayApiKey,S=e.find('[data-context="pixabay"] .fpd-scroll-area'),P=S.find(".fpd-grid"),F=!1,I="",k=1,L=t.mainOptions.depositphotosApiKey,E=e.find('[data-context="depositphotos"] .fpd-scroll-area'),N=E.find(".fpd-grid"),_=!1,T="",O="",B=null,M=0,z=function(e,n){var i=1024*t.mainOptions.customImageParameters.maxSize*1024;if(e.size>i)FPDUtil.showMessage(t.getTranslation("misc","maximum_size_info").replace("%filename",e.name).replace("%mb",t.mainOptions.customImageParameters.maxSize));else{var o=new FileReader;o.onload=function(){if("application/pdf"!==e.type){if("image/jpeg"===e.type){var i=new JpegMeta.JpegFile(atob(this.result.replace(/^.*?,/,"")),e.name),o=null;if(i.tiff&&i.tiff.XResolution&&i.tiff.XResolution.value){var r=i.tiff.XResolution.value.den;o=i.tiff.XResolution.value.num/r}else i.jfif&&i.jfif.Xdensity&&i.jfif.Xdensity.value&&(o=i.jfif.Xdensity.value);if(null!==o){if(FPDUtil.log(e.name+" Real Resolution: "+o,"info"),o<t.mainOptions.customImageParameters.minDPI)return FPDUtil.showModal(t.getTranslation("misc","minimum_dpi_info").replace("%dpi",t.mainOptions.customImageParameters.minDPI),!1,"",t.$modalContainer),!1}else FPDUtil.log(e.name+": Resolution is not accessible.","info")}var a=this.result,s=j(a,e.name);b&&s.addClass("fpd-loading").append('<div class="fpd-loading-bar"><div class="fpd-loading-progress"></div></div>');var l=new Image;l.onload=function(){var i=this.height,o=this.width;if(t.currentViewInstance.options.customImageParameters,FPDUtil.checkImageDimensions(t,o,i))if(b){var r=new FormData;r.append("uploadsDir",x),r.append("uploadsDirURL",C),r.append("images[]",e);var l=$.extend({},w);l.data=r,l.processData=!1,l.contentType=!1,l.xhr=function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.total,n=t.loaded,i=parseInt(100*n/e);s.find(".fpd-loading-progress").css("width",i+"%")}},!1),t},l.success=function(t){0!=s.parents("body").length&&(t&&void 0===t.error?(R(t.image_src,t.filename),s.data("source",t.image_src).removeClass("fpd-loading").children(".fpd-loading-bar").remove(),n&&G(s)):(s.remove(),FPDUtil.showModal(t.error)))};var c=$.ajax(l).fail(function(t){"abort"!==t.statusText&&(s.remove(),FPDUtil.showModal(t.statusText))});s.data("xhr",c)}else R(a,e.name),n&&G(s);else s.remove()},l.src=a}else{var c=FPDUtil.showMessage(t.getTranslation("modules","images_pdf_upload_info"),!1),u=new FormData;u.append("uploadsDir",x),u.append("uploadsDirURL",C),u.append("pdf",e);var d=$.extend({},w);d.data=u,d.processData=!1,d.contentType=!1,d.success=function(t){t&&void 0===t.error?(t.pdf_images.forEach(function(t,e){var i=j(t.image_url,t.filename);0==e&&n&&G(i),R(t.image_url,t.filename)}),c.remove()):(c.remove(),FPDUtil.showModal(t.error))},$.ajax(d).fail(function(t){"abort"!==t.statusText&&(c.remove(),FPDUtil.showModal(t.statusText))})}},o.readAsDataURL(e)}},j=function(e,n){var i=r.append('<div class="fpd-item" data-title="'+n+'"><picture data-img="'+e+'"></picture><span class="fpd-price"></span><span class="fpd-icon-remove"></span></div>').children(".fpd-item:last").data("source",e);return FPDUtil.setItemPrice(i,t),FPDUtil.loadGridImage(i.children("picture"),e),FPDUtil.createScrollbar(o),i},R=function(t,e){if(v){var n=window.localStorage.getItem("fpd_uploaded_images")?JSON.parse(window.localStorage.getItem("fpd_uploaded_images")):[],i={url:t,title:e};n.push(i),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(n))}},U=function(){var i=a.find(".fpd-dropdown-list .fpd-item");a.children("input").keyup(function(){i.hide(),0===this.value.length?i.show():i.filter(':containsCaseInsensitive("'+this.value+'")').show()}),a.on("click",".fpd-dropdown-list .fpd-item",function(){var t=$(this);t.parent().prevAll(".fpd-dropdown-current:first").val(t.text()),t.siblings(".fpd-item").show(),o(t.data("value"))});var o=function(e){l.empty(),a.addClass("fpd-on-loading"),FB.api("/"+e+"?fields=count",function(i){var o=i.count;FB.api("/"+e+"?fields=photos.limit("+o+").fields(source,images)",function(e){if(a.removeClass("fpd-on-loading"),!e.error){for(var i=e.photos.data,o=0;o<i.length;++o){var r=i[o],c=r.images[0]?r.images[0].source:r.source,u=r.images[r.images.length-1]?r.images[r.images.length-1].source:r.source,d=$("<div/>",{class:"fpd-item "+n,"data-title":r.id,"data-source":c,html:'<picture data-img="'+u+'"></picture><span class="fpd-price"></span>'}).appendTo(l);FPDUtil.setItemPrice(d,t),""===n&&FPDUtil.loadGridImage(d.children("picture"),u)}FPDUtil.createScrollbar(s),FPDUtil.refreshLazyLoad(l,!1)}t.toggleSpinner(!1)})})};return"https:"!==location.protocol?void FPDUtil.log("Facebook Apps can only run in https","info"):($.ajaxSetup({cache:!0}),void $.getScript("//connect.facebook.com/en_US/sdk.js",function(){FB.init({appId:d,status:!0,cookie:!0,xfbml:!0,version:"v5.0"}),FB.Event.subscribe("auth.statusChange",function(t){"connected"===t.status&&(e.addClass("fpd-facebook-logged-in"),FB.api("/me/albums?fields=name,count,id",function(t){for(var e=t.data,n=0;n<e.length;++n){var o=e[n];o.count>0&&a.find(".fpd-dropdown-list").append('<span class="fpd-item" data-value="'+o.id+'">'+o.name+"</span>")}i=a.find(".fpd-dropdown-list .fpd-item"),a.removeClass("fpd-on-loading")}))})}))},H=function(e){var n=(window.screen.width-700)/2,i=(window.screen.height-500)/2,o="object"==typeof t.mainOptions.templatesType?t.mainOptions.templatesType[0]:t.mainOptions.templatesType,r=window.open(t.mainOptions.templatesDirectory+"/instagram_auth."+o,"","width=700,height=500,left="+n+",top="+i);FPDUtil.popupBlockerAlert(r,t),r.onload=function(){0==window.location.hash.length&&r.open("https://instagram.com/oauth/authorize/?client_id="+h+"&redirect_uri="+p+"&response_type=token","_self");var t=setInterval(function(){null===r.window&&clearInterval(t);try{r.location.hash.length&&(clearInterval(t),f=r.location.hash.slice(14),v&&window.localStorage.setItem("fpd_instagram_access_token",f),r.close(),e())}catch(t){}},100)}},W=function(e,i){var o;switch(i=void 0===i||i,g=!0,e){case"liked":o="https://api.instagram.com/v1/users/self/media/liked?access_token="+f;break;case"recent":o="https://api.instagram.com/v1/users/self/media/recent?access_token="+f;break;default:o=e}i&&u.empty(),$.ajax({method:"GET",url:o,dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpcallback",cache:!1,success:function(e){e.data?(m=e.pagination&&e.pagination.next_url?e.pagination.next_url:null,$.each(e.data,function(e,i){if("image"==i.type){var o=i.images.standard_resolution.url,r=$("<div/>",{class:"fpd-item "+n,"data-title":i.id,"data-source":o,html:'<picture data-img="'+o+'"></picture><span class="fpd-price"></span>'}).appendTo(u);FPDUtil.setItemPrice(r,t),""===n&&FPDUtil.loadGridImage(r.children("picture"),o)}}),i&&(FPDUtil.createScrollbar(c),FPDUtil.refreshLazyLoad(u,!1))):(window.localStorage.removeItem("fpd_instagram_access_token"),e.meta&&e.meta.error_message&&FPDUtil.showModal("<strong>Instagram Error</strong><p>"+e.meta.error_message+"</p>")),g=!1},error:function(){window.localStorage.removeItem("fpd_instagram_access_token"),g=!1,FPDUtil.showModal("Could not load data from instagram. Please try again!")}})},q=function(e,i){if(I===e)return!1;F=!0,I=void 0===e?I:e,i=void 0===i||i;var o=t.mainOptions.pixabayHighResImages?"&response_group=high_resolution":"",r="https://pixabay.com/api/?safesearch=true&key="+D+"&page="+k+"&per_page=40&min_width="+t.mainOptions.customImageParameters.minW+"&min_height="+t.mainOptions.customImageParameters.minH+o+"&q="+encodeURIComponent(I)+"&lang="+t.mainOptions.pixabayLang;i&&P.empty(),S.prevAll(".fpd-loader-wrapper:first").removeClass("fpd-hidden"),$.getJSON(r,function(e){S.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),e.hits.length>0&&e.hits.forEach(function(e){var o=e.imageURL?e.imageURL:e.webformatURL,r=$("<div/>",{class:"fpd-item "+n,"data-title":e.id?e.id:e.id_hash,"data-source":o,html:'<picture data-img="'+e.webformatURL+'"></picture><span class="fpd-price"></span>'}).appendTo(P);FPDUtil.setItemPrice(r,t),""===n&&FPDUtil.loadGridImage(r.children("picture"),e.previewURL),i&&(FPDUtil.createScrollbar(S),FPDUtil.refreshLazyLoad(P,!1))}),F=!1}).fail(function(t,e){S.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),FPDUtil.log(e)})},V=function(e,i,o){o=void 0===o||o,T=e=void 0===e?"search":e,O=i,_=!0;var r=location.protocol+"//api.depositphotos.com?dp_apikey="+L;"search"==e?(r+="&dp_command=search&dp_search_limit=40&dp_search_offset="+M+"&dp_search_query="+encodeURIComponent(i),B&&(r+="&dp_search_categories="+encodeURIComponent(B))):"search-cats"==e?r+="&dp_command=search&dp_search_limit=40&dp_search_offset="+M+"&dp_search_categories="+encodeURIComponent(i):"list-cats"==e&&(r+="&dp_command=getCategoriesList&dp_lang="+t.mainOptions.depositphotosLang),o&&N.empty(),E.prev(".fpd-head").toggleClass("fpd-cats-shown","list-cats"==e).prev(".fpd-loader-wrapper").removeClass("fpd-hidden"),$.getJSON(r,function(i){var r;E.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),(r="list-cats"==e?$.map(i.result,function(t,e){return[[e,t]]}):i.result).length>0&&r.forEach(function(i){if("list-cats"==e)$("<div/>",{class:"fpd-category fpd-item","data-category":i[0],html:"<span>"+i[1]+"</span>"}).appendTo(N);else if(0==E.prev(".fpd-cats-shown").length){var r=$("<div/>",{class:"fpd-item "+n,"data-title":i.title,"data-source":i.url_big,"data-price":t.mainOptions.depositphotosPrice,html:'<picture data-img="'+i.thumb_huge+'"></picture><span class="fpd-price"></span>'}).appendTo(N);r.data("options",{depositphotos:{id:i.id,itemURL:i.itemurl},price:t.mainOptions.depositphotosPrice}),FPDUtil.setItemPrice(r,t),""===n&&FPDUtil.loadGridImage(r.children("picture"),i.previewURL)}o&&(FPDUtil.createScrollbar(E),FPDUtil.refreshLazyLoad(N,!1))}),_=!1}).fail(function(t,e){FPDUtil.log(e)})},G=function(e){var n=e.data("title")?e.data("title"):null,i=e.data("options")?e.data("options"):{};i=$.extend({},i,{_addToUZ:t.currentViewInstance.currentUploadZone}),b&&0==e.parents('[data-context="upload"]').length?function(e,n,i){i=void 0===i?{}:i,t._loadingCustomImage=!0,t.toggleSpinner(!0,y),t.$viewSelectionWrapper.addClass("fpd-disabled");var o=$.extend({},w);o.success=function(e){e&&void 0===e.error?t.addCustomImage(e.image_src,e.filename?e.filename:n,i):(t.toggleSpinner(!1),FPDUtil.showModal(e.error))},o.data={url:e,uploadsDir:x,uploadsDirURL:C,saveOnServer:b},$.ajax(o).fail(function(e){t.toggleSpinner(!1),FPDUtil.showModal(e.statusText)}),t.productCreated&&t.mainOptions.hideDialogOnAdd&&t.$container.hasClass("fpd-topbar")&&t.mainBar&&t.mainBar.toggleDialog(!1)}(e.data("source"),n,i):(t._loadingCustomImage=!0,t.addCustomImage(e.data("source"),n,i))};!function(){t.$container.on("viewSelect secondaryModuleCalled",function(){var n=t.currentViewInstance.options,i=null;if(t.currentViewInstance.currentUploadZone){var o=t.currentViewInstance.getUploadZone(t.currentViewInstance.currentUploadZone);o&&o.price&&(i=o.price)}null==i&&n.customImageParameters&&n.customImageParameters.price&&(i=t.formatPrice(n.customImageParameters.price)),e.find(".fpd-upload-zone .fpd-price").html(i||"")}),e.on("click",".fpd-grid .fpd-item:not(.fpd-category):not(.fpd-loading)",function(){t._loadingCustomImage||G($(this))}),-1!==A.indexOf("jpeg")&&-1===A.indexOf("jpg")&&A.push("jpg");var n=[];A.forEach(function(t){"pdf"==t?n.push("application/pdf"):("svg"==t&&(t+="+xml"),n.push("image/"+t))}),i.attr("accept",n.join());var o=e.find(".fpd-upload-zone");o.click(function(t){t.preventDefault(),i.click()}).on("dragover dragleave",function(t){t.stopPropagation(),t.preventDefault(),$(this).toggleClass("fpd-hover","dragover"===t.type)});var a=function(e){e.stopPropagation(),e.preventDefault();var n=e.target.files||e.dataTransfer.files;if(t.mainOptions.uploadAgreementModal){var i=FPDUtil.showModal(t.getTranslation("modules","images_agreement"),!1,"confirm",t.$modalContainer);i.find(".fpd-confirm").text(t.getTranslation("modules","images_confirm_button")).click(function(){i.find(".fpd-modal-close").click(),setTimeout(function(){s(n)},300)})}else s(n)},s=function(e){if(window.FileReader){var n=!0;t._loadingCustomImage=!0;for(var r=0;r<e.length;++r){var a=e[r].name.split(".").pop().toLowerCase();A.indexOf(a)>-1&&(z(e[r],n),n=!1)}}o.removeClass("fpd-hover"),i.val("")};if(o.get(0)&&o.get(0).addEventListener("drop",a,!1),e.find(".fpd-upload-form").on("change",a),v&&window.localStorage.getItem("fpd_uploaded_images")){var l=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));l.forEach(function(t){j(t.url,t.title);var e=new Image;e.src=t.url,e.onerror=function(){var t=null;l.forEach(function(n,i){n.url==e.src&&(t=i)}),null!=t&&(l.splice(t,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(l)))}})}e.find('.fpd-module-tabs-content [data-context="upload"]').on("click",".fpd-icon-remove",function(t){t.stopPropagation();var e=$(this).parents(".fpd-item:first"),n=r.children(".fpd-item").index(e);if(!e.hasClass("fpd-loading")){var i=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));i.splice(n,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(i))}e.data("xhr")&&e.data("xhr").abort(),e.remove(),$(".fpd-thumbnail-preview").remove()}),d&&d.length>5&&(e.find('.fpd-module-tabs [data-context="facebook"]').removeClass("fpd-hidden"),U()),h&&h.length>5&&(e.find('.fpd-module-tabs [data-context="instagram"]').removeClass("fpd-hidden").on("click",function(){if(!(u.children(".fpd-item").length>0)){f=window.localStorage.getItem("fpd_instagram_access_token");var t="recent";v&&null!=f?W(t):H(function(){W(t)})}}),c.on("_sbOnTotalScroll",function(){null===m||g||W(m,!1)})),D&&D.length>5&&(e.find('.fpd-module-tabs [data-context="pixabay"]').removeClass("fpd-hidden").on("click",function(){P.children(".fpd-item").length>0||q()}),e.on("keypress",'.fpd-module-tabs-content [data-context="pixabay"] input[type="text"]',function(t){13==t.which&&(k=1,q(this.value))}),S.on("_sbOnTotalScroll",function(){F||(k++,q(void 0,!1))})),L&&L.length>5&&(e.find('.fpd-module-tabs [data-context="depositphotos"]').removeClass("fpd-hidden").on("click",function(){N.children(".fpd-item").length>0||V("list-cats",null)}),e.on("keypress",'.fpd-module-tabs-content [data-context="depositphotos"] input[type="text"]',function(t){13==t.which&&(M=0,V("search",this.value))}).on("click",'.fpd-module-tabs-content [data-context="depositphotos"] .fpd-category',function(){var n=$(this),i=n.text();e.find('.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input').attr("placeholder",t.getTranslation("modules","depositphotos_search_category")+i),B=n.data("category"),V("search-cats",B)}).on("click",'.fpd-module-tabs-content [data-context="depositphotos"] .fpd-back',function(){M=0,B=null,e.find('.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input').val("").attr("placeholder",t.getTranslation("modules","depositphotos_search")),V("list-cats",null)}),E.on("_sbOnTotalScroll",function(){_||0!=E.prev(".fpd-cats-shown").length||(M++,V(T,O,!1))})),e.find(".fpd-module-tabs > :not(.fpd-hidden)").length<2&&e.addClass("fpd-hide-tabs"),e.children(".fpd-module-tabs").children("div:not(.fpd-hidden):first").click()}()},FPDTextLayersModule={createList:function(t,e){var n,i=!1;e.off();var o=function(n){var i="";if(FPDUtil.elementHasColorSelection(n)){var o=FPDUtil.elementAvailableColors(n,t),r="";if(o.length>1){i=$('<div class="fpd-color-palette fpd-grid"></div>');for(var a=0;a<o.length;++a){var s=t.mainOptions.hexNames[o[a].replace("#","").toLowerCase()],l='<div class="fpd-item fpd-tooltip" title="'+(s=s||o[a])+'" style="background-color: '+o[a]+'" data-color="'+o[a]+'"></div>';i.append(l)}}else r=n.fill?n.fill:o[0],i=$('<div class="fpd-color-picker"><input class="fpd-current-color" type="text" value="'+r+'" /></div>')}var c=1===n.maxLines?'<input type="text" value="'+n.text+'">':"<textarea>"+n.text+"</textarea>";e.find(".fpd-list").append('<div class="fpd-text-layer-item" id="'+n.id+'"><div class="fpd-title">'+n.title+'</div><div class="fpd-text-layer-content">'+c+'<span class="fpd-text-layer-clear">'+t.getTranslation("modules","text_layers_clear")+'</span></div><div class="fpd-text-layer-meta"></div></div>');var u=e.find(".fpd-text-layer-item:last").data("element",n).data("colors",o),d=$.isArray(t.mainOptions.fonts)?t.mainOptions.fonts:[];u.find(".fpd-text-layer-meta").append('<div class="fpd-text-layer-styles"></div>'),d.length>0&&(u.find(".fpd-text-layer-styles").append('<div class="fpd-text-layer-font-family fpd-dropdown fpd-search"><input type="text" class="fpd-dropdown-current" value="'+n.fontFamily+'" style="font-family: '+n.fontFamily+'"><div class="fpd-dropdown-arrow"><span class="fpd-icon-arrow-dropdown"></span></div><div class="fpd-dropdown-list"><div class="fpd-scroll-area"></div></div></div>'),d.forEach(function(t){"object"==typeof t&&(t=t.name),$("<span/>",{class:"fpd-item","data-value":t,html:t,css:{fontFamily:t}}).appendTo(u.find(".fpd-text-layer-font-family .fpd-scroll-area"))})),(n.resizable||n.__editorMode)&&u.find(".fpd-text-layer-styles").append('<input type="number" class="fpd-text-layer-font-size fpd-tooltip" title="'+t.getTranslation("toolbar","font_size")+'" value="'+n.fontSize+'" min="'+n.minFontSize+'" min="'+n.maxFontSize+'" />'),u.find(".fpd-text-layer-meta").append(i),FPDUtil.createScrollbar(u.find(".fpd-scroll-area")),FPDUtil.updateTooltip(u)};e.find(".fpd-current-color").spectrum("destroy"),e.find(".fpd-list").empty(),t.getElements(t.currentViewIndex).forEach(function(t){FPDUtil.elementIsEditable(t)&&"text"===FPDUtil.getType(t.type)&&o(t)}),e.find("input.fpd-current-color").spectrum("destroy").spectrum({flat:!1,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:t.mainOptions.colorPickerPalette&&t.mainOptions.colorPickerPalette.length>0,palette:t.mainOptions.colorPickerPalette,showButtons:!1,show:function(e){FPDUtil.spectrumColorNames($(this).spectrum("container"),t),$(this).parents(".fpd-text-layer-item:first").data("element")._tempFill=e.toHexString()},move:function(e){var n=$(this).parents(".fpd-text-layer-item:first").data("element");(!1===i||"png"!==FPDUtil.elementIsColorizable(n))&&t.currentViewInstance.changeColor(n,e.toHexString())},change:function(e){$(document).unbind("click.spectrum");var n=$(this).parents(".fpd-text-layer-item:first").data("element");t.currentViewInstance.setElementParameters({fill:e.toHexString()},n)}}).on("beforeShow.spectrum",function(){n&&(n.remove(),n=null)}).on("dragstart.spectrum",function(){i=!0}).on("dragstop.spectrum",function(e,n){i=!1;var o=$(this).parents(".fpd-text-layer-item:first").data("element");t.currentViewInstance.changeColor(o,n.toHexString())}),e.on("click",".fpd-color-palette .fpd-item",function(e){e.stopPropagation();var n=$(this),i=n.parents(".fpd-text-layer-item"),o=i.data("element"),r=n.data("color");i.find(".fpd-current-color").css("background",r),t.currentViewInstance.setElementParameters({fill:r},o)}),e.on("click",".fpd-text-layer-clear",function(e){e.stopPropagation();var n=$(this).parents(".fpd-text-layer-item"),i=n.data("element");t.currentViewInstance.setElementParameters({text:""},i),n.find(".fpd-text-layer-content > *").val("")}),e.on("keyup",'textarea, .fpd-text-layer-content input[type="text"]',function(e){e.stopPropagation();var n=$(this).parents(".fpd-text-layer-item").data("element");t.mainOptions.disableTextEmojis&&(this.value=this.value.replace(FPDEmojisRegex,""),this.value=this.value.replace(String.fromCharCode(65039),"")),t.currentViewInstance.setElementParameters({text:this.value},n),this.value=n.text}).on("change",".fpd-text-layer-font-size",function(){var e=$(this).parents(".fpd-text-layer-item").data("element");t.currentViewInstance.setElementParameters({fontSize:parseInt(this.value)},e),this.value=e.fontSize}).on("click",".fpd-text-layer-font-family.fpd-dropdown",function(){$(this).toggleClass("fpd-active")}).on("keyup",".fpd-text-layer-font-family .fpd-dropdown-current",function(){var t=$(this).nextAll(".fpd-dropdown-list").find(".fpd-item");t.hide(),0===this.value.length?t.show():t.filter(':containsCaseInsensitive("'+this.value+'")').show()}).on("click",".fpd-text-layer-font-family .fpd-item",function(){var e=$(this),n=e.parents(".fpd-text-layer-item").data("element");e.parents(".fpd-dropdown").children(".fpd-dropdown-current").val(e.text()),t.currentViewInstance.setElementParameters({fontFamily:e.data("value")},n)});var r=function(t,n,i){i.text?e.find(".fpd-list").find('[id="'+n.id+'"] textarea, [id="'+n.id+'"] .fpd-text-layer-content input[type="text"]').val(i.text):i.fontSize?e.find(".fpd-list").find('[id="'+n.id+'"] .fpd-text-layer-font-size').val(i.fontSize):i.fontFamily&&e.find(".fpd-list").find('[id="'+n.id+'"] .fpd-text-layer-font-family > .fpd-dropdown-current').val(i.fontFamily).css("font-family",i.fontFamily)};t.$container.off("elementModify",r),t.$container.on("elementModify",r);var a=function(t,n,i){var o=e.find(".fpd-list").find('[id="'+n.id+'"] .fpd-current-color');o.is("input")?o.spectrum("set",i):o.css("background",i)};t.$container.off("elementColorChange",a),t.$container.on("elementColorChange",a)}},FPDLayoutsModule=function(t,e){"use strict";$=jQuery;var n=[],i=0,o=0,r=e.find(".fpd-scroll-area"),a=function(e,n,r,a){i++;var s=a+"<br>"+String(i)+"/"+o;t.$container.find(".fpd-loader-text").html(s)};t.$container.on("productCreate",function(t,e){e.length>0&&function(t){$.isArray(t)&&(n=t,r.find(".fpd-grid").empty(),t.forEach(function(t){$("<div/>",{class:"fpd-item fpd-tooltip",title:t.title,html:'<picture style="background-image: url('+t.thumbnail+'");"></picture>'}).appendTo(r.find(".fpd-grid"))}),FPDUtil.updateTooltip(r.find(".fpd-grid")),FPDUtil.createScrollbar(r))}(e[0].options.layouts)}),r.on("click",".fpd-item",function(){if(t.productCreated){var e=FPDUtil.showModal(t.getTranslation("modules","layouts_confirm_replacement"),!1,"confirm",t.$modalContainer),s=r.find(".fpd-item").index($(this));e.find(".fpd-confirm").text(t.getTranslation("modules","layouts_confirm_button")).click(function(){i=0;var r=$(t.currentViewInstance);o=n[s].elements.length,r.on("beforeElementAdd",a),t.toggleSpinner(!0),t.currentViewInstance.loadElements(n[s].elements,function(){t.toggleSpinner(!1),r.off("beforeElementAdd",a)}),t.$viewSelectionWrapper.find(".fpd-item").eq(t.currentViewIndex).children("picture").css("background-image","url("+n[s].thumbnail+")"),e.find(".fpd-modal-close").click()})}})},FancyProductDesigner=function(t,e){"use strict";$=jQuery;var n,i,o,r,a,s,l,c=this,u=$(window),d=$("body"),h=null,p=null,f=[],g=!1,m=!1,v=!1,y=!1,w="",b=0,x=0,C="";this.products=[],this.designs=[],this.currentCategoryIndex=0,this.currentProductIndex=0,this.currentViewIndex=0,this.currentPrice=0,this.singleProductPrice=0,this.currentViews=null,this.currentViewInstance=null,this.currentElement=null,this.langJson=null,this.mainOptions,this.$productStage=null,this.$elementTooltip=null,this.watermarkImg=null,this.productCreated=!1,this.doUnsavedAlert=!1,this.viewInstances=[],this.colorLinkGroups={},this.orderQuantity=1,this.bulkVariations=null,this.pricingRulesPrice=0,this.$modalContainer=$("body"),this.languageJSON={toolbar:{},actions:{},modules:{},misc:{},image_editor:{},plus:{}},this._order={},this._loadingCustomImage=!1;var A=new FancyProductDesignerOptions;this.mainOptions=A.merge(A.defaults,e);var D=function(){c.$mainWrapper=o.addClass("fpd-container fpd-clearfix fpd-grid-columns-"+c.mainOptions.gridColumns).html('<div class="fpd-loader-wrapper"><div class="fpd-loader"><div class="fpd-loader-circle"></div><span class="fpd-loader-text" data-defaulttext="Initializing Product Designer">misc.initializing</span></div></div><div class="fpd-main-wrapper"><div class="fpd-element-tooltip" style="display: none;">misc.out_of_bounding_box</div><div class="fpd-snap-line-h"></div><div class="fpd-snap-line-v"></div><div class="fpd-product-stage" style="width:'+c.mainOptions.stageWidth+"px;height: "+c.mainOptions.stageHeight+'px;"></div><div class="fpd-actions-container"></div></div>').children(".fpd-main-wrapper"),c.$actionsWrapper=c.$mainWrapper.children(".fpd-actions-container"),c.mainOptions.editorMode||o.after('<div class="fpd-device-info">'+c.getTranslation("misc","not_supported_device_info")+"</div>"),c.$mainWrapper.prepend('<div class="fpd-modal-lock"><div class="fpd-toggle-lock"><span class="fpd-icon-unlocked"></span><span class="fpd-icon-locked"></span><div>'+c.getTranslation("misc","view_optional_unlock")+"</div></div></div>"),c.$productStage=c.$mainWrapper.children(".fpd-product-stage"),c.$elementTooltip=c.$mainWrapper.children(".fpd-element-tooltip"),a=o.children(".fpd-loader-wrapper"),c.translateElement(a.find(".fpd-loader-text")),C=c.translateElement(c.$elementTooltip),c.mainOptions.modalMode&&c.translateElement(d.find(".fpd-modal-overlay .fpd-done")),"string"==typeof c.mainOptions.editorMode&&(h=$('<div class="fpd-editor-box"><h5></h5><div class="fpd-clearfix"></div></div>'),$(c.mainOptions.editorMode).append(h)),d.on("focus blur",'[class^="fpd-element-toolbar"] textarea, [class^="fpd-element-toolbar"] input[type="number"], [class^="fpd-element-toolbar"] input[type="text"]',function(t){y="focusin"==t.type}),c.$container.on("screenSizeChange",function(t,e){"smartphone"===e?c.$actionsWrapper.insertBefore(c.$mainWrapper):c.$actionsWrapper.appendTo(c.$mainWrapper)});var t="";u.resize(function(){if(!(y||(c.currentViewInstance&&c.currentViewInstance.resetCanvasSize(),c.mainBar&&c.mainBar.$content&&c.$container.filter('[class*="fpd-off-canvas-"]').length>0&&c.mainBar.$content.height(c.$mainWrapper.height()),c.actions&&(c.actions.hideAllTooltips(),m||c.resetZoom()),c.currentElement&&$(document.activeElement).is(":not(input)")&&$(document.activeElement).is(":not(textarea)")&&c.deselectElement(),c.currentElement&&c.currentElement.isEditing||c.mainOptions.editorMode))){var e=FPDUtil.getDeviceByScreenSize();"smartphone"==e?!c.$container.hasClass("fpd-topbar")&&c.mainBar&&(c.$container.removeClass("fpd-sidebar").addClass("fpd-topbar"),c.mainBar.setContentWrapper("draggable-dialog")):"tablet"==e||"desktop"==e&&-1===w.search("fpd-topbar")&&c.$container.hasClass("fpd-topbar")&&(c.$container.removeClass("fpd-topbar").addClass("fpd-sidebar"),c.mainBar&&!c.mainOptions.mainBarContainer&&c.mainBar.setContentWrapper("sidebar")),t!==e&&o.trigger("screenSizeChange",[e]),c.currentViewInstance&&c.currentViewInstance.resetCanvasSize(),t=e}}),c.loadFonts(c.mainOptions.fonts,function(){c.mainOptions.templatesDirectory?_("productdesigner",c.mainOptions.templatesType,0,S):P()})},S=function(t){o.trigger("templateLoad",[this.url]),(s=$(t)).find("[data-defaulttext]").each(function(t,e){c.translateElement($(e))}),c.translatedUI=s,c.mainOptions.mainBarContainer?(o.addClass("fpd-main-bar-container-enabled"),r=$(c.mainOptions.mainBarContainer).addClass("fpd-container fpd-main-bar-container fpd-tabs fpd-tabs-top fpd-sidebar fpd-grid-columns-"+c.mainOptions.gridColumns).html(s.children(".fpd-mainbar")).children(".fpd-mainbar")):r=o.prepend(s.children(".fpd-mainbar")).children(".fpd-mainbar"),l=s.children(".fpd-modules"),o.hasClass("fpd-sidebar")?o.height(c.mainOptions.stageHeight):o.width(c.mainOptions.stageWidth),d.on("click",".fpd-module-tabs > div",function(){var t=$(this),e=$(this).data("context");t.addClass("fpd-active").siblings().removeClass("fpd-active"),t.parent().next(".fpd-module-tabs-content").children().hide().filter('[data-context="'+e+'"]').show()}),c.mainOptions.mainBarModules&&(c.mainBar=new FPDMainBar(c,r,l,s.children(".fpd-draggable-dialog"))),c.mainOptions.actions&&(c.actions=new FPDActions(c,s.children(".fpd-actions"))),o.trigger("uiSet");var e=s.children(".fpd-element-toolbar");-1!==["smart","inside-bottom","inside-top"].indexOf(c.mainOptions.toolbarPlacement)?(e=s.children(".fpd-element-toolbar-smart"),c.toolbar=new FPDToolbarSmart(e,c)):c.toolbar=new FPDToolbar(e,c),o.on("elementSelect",function(t,n){if(t.stopPropagation(),t.preventDefault(),n&&!n._ignore&&c.currentViewInstance){if(n.uploadZone&&!c.mainOptions.editorMode){n.set("borderColor","transparent");var i=$.extend({},c.currentViewInstance.options.customAdds,n.customAdds?n.customAdds:{});return void setTimeout(function(){c.currentViewInstance.currentUploadZone=n.title,c.mainBar.toggleUploadZoneAdds(i),c.mainBar.toggleUploadZonePanel()},100)}c.currentViewInstance.currentUploadZone&&(c.mainBar.toggleDialog(!1),c.mainBar.toggleUploadZonePanel(!1)),c.toolbar.update(n),c.mainOptions.openTextInputOnSelect&&"text"===FPDUtil.getType(n.type)&&n.editable&&e.find(".fpd-tool-edit-text").click(),L(n)}else c.toolbar.toggle(!1),d.children('[class^="fpd-element-toolbar"]').find("input").spectrum("destroy")}).on("elementChange",function(t,e,n){n._ignore||c.toolbar.toggle(!1,!1),c.mainOptions.fabricCanvasOptions.allowTouchScrolling&&(o.addClass("fpd-disable-touch-scrolling"),c.currentViewInstance.stage.allowTouchScrolling=!1)}).on("elementModify",function(t,e,n){if(c.productCreated&&!e._ignore&&(c.toolbar.isTransforming||(void 0!==n.fontSize&&c.toolbar.updateUIValue("fontSize",Number(n.fontSize)),void 0!==n.scaleX&&c.toolbar.updateUIValue("scaleX",parseFloat(Number(n.scaleX).toFixed(2))),void 0!==n.scaleY&&c.toolbar.updateUIValue("scaleY",parseFloat(Number(n.scaleY).toFixed(2))),void 0!==n.angle&&c.toolbar.updateUIValue("angle",parseInt(n.angle)),void 0!==n.text&&c.toolbar.updateUIValue("text",n.text),c.currentElement&&!c.currentElement.uploadZone&&c.toolbar.updatePosition(c.currentElement)),n.text&&e.textLinkGroup.length>0))for(var i=0;i<c.viewInstances.length;++i)c.viewInstances[i].fCanv.getObjects().forEach(function(t){t!==e&&"text"===FPDUtil.getType(t.type)&&t.textLinkGroup===e.textLinkGroup&&(t.set("text",e.text),o.trigger("_doPricingRules"))})}).on("screenSizeChange",function(t,e){o.removeClass("fpd-device-smartphone fpd-device-tablet fpd-device-desktop").addClass("fpd-device-"+e)}),$(".fpd-switch-container").click(function(){if($(this).hasClass("fpd-curved-text-switcher")){var t=c.currentViewInstance.getZIndex(c.currentElement),e=c.currentElement.get("text"),n=c.currentViewInstance.getElementJSON(c.currentElement);n.z=t,n.curved="i-text"==c.currentElement.type,n.textAlign="center",o.on("elementAdd",function t(e,n){c.currentViewInstance.stage.setActiveObject(n),o.off("elementAdd",t),setTimeout(function(){$(".fpd-tool-curved-text").click()},100)}),c.currentViewInstance.removeElement(c.currentElement),c.currentViewInstance.addElement("text",e,e,n)}}),$(".fpd-dropdown").click(function(){$(this).toggleClass("fpd-active")}),P()},P=function(){c.mainOptions.watermark&&c.mainOptions.watermark.length>3&&fabric.Image.fromURL(c.mainOptions.watermark,function(t){c.watermarkImg=t},{crossOrigin:"anonymous"}),c.mainOptions.unsavedProductAlert&&(window.onbeforeunload=function(){return c.doUnsavedAlert?"":void 0});var t=!1;d.on("click",".fpd-modal-close",function(){var t=$(this);t.parents(".fpd-modal-product-designer:first").length&&d.addClass("fpd-modal-mode-active"),t.parents(".fpd-modal-overlay:first").fadeOut(200,function(){t.removeClass("fpd-fullscreen"),d.removeClass("fpd-overflow-hidden");var e=$(this);e.hasClass("fpd-modal-product-designer")||e.trigger("modalRemove").remove(),o.trigger("modalClose")}),t.parents(".fpd-modal-product-designer:first").length>0&&c.deselectElement()}).on("mouseup touchend",function(e){var n=$(e.target);0===n.closest('.fpd-container, [class^="fpd-element-toolbar"], .sp-container').length&&c.mainOptions.deselectActiveOnOutside&&!t&&c.deselectElement(),0===n.closest(".fpd-container, .fpd-modal-internal").length&&c.currentViewInstance&&c.currentViewInstance.currentUploadZone&&a.is(":hidden")&&c.mainBar.toggleUploadZonePanel(!1),t=!1}).on("mouseover mouseout mousemove click",'[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item, [data-module="products"] .fpd-item',function(t){var e=$(this),n=null;if(c.currentViewInstance&&c.currentViewInstance.currentUploadZone&&$(t.target).parents(".fpd-upload-zone-adds-panel").length>0){var i=c.currentViewInstance.getUploadZone(c.currentViewInstance.currentUploadZone);i&&i.price&&(n=i.price)}if("mouseover"===t.type&&e.data("source")){if(e.parents(".mCustomScrollBox:first").next(".mCSB_scrollTools_onDrag").length)return;p=$('<div class="fpd-thumbnail-preview"><picture></picture></div>'),FPDUtil.loadGridImage(p.children("picture"),e.children("picture").data("img")),e.parents('[data-module="images"]:first').length>0&&null===n?isNaN(e.data("price"))?c.currentViewInstance&&c.currentViewInstance.options.customImageParameters.price&&(n=c.currentViewInstance.options.customImageParameters.price):n=e.data("price"):(e.data("title")&&(p.addClass("fpd-title-enabled"),p.append('<div class="fpd-preview-title">'+e.data("title")+"</div>")),e.data("parameters")&&e.data("parameters").price&&null===n&&(n=e.data("parameters").price)),n&&p.append('<div class="fpd-preview-price">'+c.formatPrice(n)+"</div>"),d.append(p)}if(null!==p)if("mousemove"===t.type||"mouseover"===t.type){var o=t.pageX+10+p.outerWidth()>u.width()?u.width()-p.outerWidth():t.pageX+10;p.css({left:o,top:t.pageY+10})}else("mouseout"===t.type||"click"==t.type)&&(p.siblings(".fpd-thumbnail-preview").remove(),p.remove())}).on("mousedown",function(e){var n=$(e.target);t=!(!n.is("textarea")||!n.data("control"))}).on("click",".fpd-gt-close",function(){FPDUtil.localStorageAvailable()&&window.localStorage.setItem("fpd-gt-closed","yes"),$(this).parent(".fpd-gt-step").remove()}).on("click",".fpd-gt-next, .fpd-gt-back",function(){c.selectGuidedTourStep($(this).data("target"))}),c.$container.on("productCreate modalDesignerOpen",function(t){function e(t){var e=c.viewInstances[t.viewIndex];if(e){var i=t.element;e.addElement(FPDUtil.getType(i.type),i.source,i.title,e.getElementJSON(i))}else n()}function n(){++r<f.length?e(f[r]):o.off("elementAdd",n)}if((!v&&!c.mainOptions.modalMode||!v&&"modalDesignerOpen"===t.type)&&(c.mainOptions.autoOpenInfo&&c.$container.find('[data-action="info"]').click(),c.mainOptions.guidedTour&&Object.keys(c.mainOptions.guidedTour).length>0)){var i=Object.keys(c.mainOptions.guidedTour)[0];FPDUtil.localStorageAvailable()?"yes"!==window.localStorage.getItem("fpd-gt-closed")&&c.selectGuidedTourStep(i):c.selectGuidedTourStep(i)}if("productCreate"==t.type&&f.length>0){var r=0;o.on("elementAdd",n),e(f[0])}v=c.mainOptions.modalMode&&"modalDesignerOpen"===t.type}).on("viewSelect",function(t,e,n){n.options,$('[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item'),$('[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item').each(function(){FPDUtil.setItemPrice($(this),c)})}).on("secondaryModuleCalled",function(t,e,n){FPDUtil.setItemPrice(n.find(".fpd-item"),c)}),c.$mainWrapper.on("click",".fpd-modal-lock > .fpd-toggle-lock",function(){$(this).parents(".fpd-modal-lock:first").toggleClass("fpd-unlocked"),c.currentViewInstance.toggleLock(!c.currentViewInstance.locked)}),c.mainOptions.productsJSON?"object"==typeof c.mainOptions.productsJSON?c.setupProducts(c.mainOptions.productsJSON):$.getJSON(c.mainOptions.productsJSON).done(function(t){c.setupProducts(t)}).fail(function(){FPDUtil.showModal("Products JSON could not be loaded. Please check that your URL is correct!<br>URL: <i>"+c.mainOptions.productsJSON+"</i>")}):F(n),c.mainOptions.designsJSON?"object"==typeof c.mainOptions.designsJSON?c.setupDesigns(c.mainOptions.designsJSON):$.getJSON(c.mainOptions.designsJSON).done(function(t){c.setupDesigns(t)}).fail(function(){FPDUtil.showModal("Designs JSON could not be loaded. Please check that your URL is correct!<br>URL: <i>"+c.mainOptions.designsJSON+"</i>")}):I(i),o.trigger("ready"),u.resize()},F=function(t){t.length&&FPDUtil.log("FPD: Creating products from HTML is deprecated, use a JSON file to store your products. Please check out the documentation!","warn");var e=[],n=function(t,n){for(var i=0;i<t.length;++i){var o=$(t.get(i)).children(".fpd-product");o.splice(0,0,t.get(i));var r=[];if(o.each(function(t,e){var n=$(e),i={title:e.title,thumbnail:n.data("thumbnail"),elements:[],options:n.data("options")};i.mask=n.data("mask")?n.data("mask"):null,0===t&&(n.data("producttitle")&&(i.productTitle=n.data("producttitle")),n.data("productthumbnail")&&(i.productThumbnail=n.data("productthumbnail"))),n.children("img,span").each(function(t,e){var n,o=$(e);n=o.is("img")?null==o.data("src")?o.attr("src"):o.data("src"):o.text();var r={type:o.is("img")?"image":"text",source:n,title:o.attr("title"),parameters:null==o.data("parameters")||o.data("parameters").length<=2?{}:o.data("parameters")};i.elements.push(r)}),r.push(i)}),n){var a=$.map(e,function(t,e){return t.category==n?e:void 0}).shift();isNaN(a)&&(a=e.length,e.push({category:n,products:[]})),e[a].products.push(r)}else e.push(r)}};t.is(".fpd-category")&&t.filter(".fpd-category").length>1?t.each(function(t,e){var i=$(e);n(i.children(".fpd-product"),i.attr("title"))}):(t=0===t.filter(".fpd-category").length?t:t.children(".fpd-product"),n(t,!1)),e.length>0&&c.setupProducts(e)},I=function(t){var e=function(t,n){t.each(function(t,i){var o=$(i),r={title:o.attr("title"),thumbnail:o.data("thumbnail")};if(o.data("parameters")&&(r.parameters=o.data("parameters")),n?n.push(r):c.designs.push(r),o.children(".fpd-category").length>0)r.category=[],e(o.children(".fpd-category"),r.category);else{var a=[];o.children("img").each(function(t,e){var n=$(e),i={source:void 0===n.data("src")?n.attr("src"):n.data("src"),title:n.attr("title"),parameters:n.data("parameters"),thumbnail:n.data("thumbnail")};a.push(i)}),r.designs=a}})};if(t.length>0){if(FPDUtil.log("FPD: Creating designs from HTML is deprecated, use a JSON file to store your products. Please check out the documentation!","warn"),t.filter(".fpd-category").length>1||t.filter(".fpd-category:first").children(".fpd-category").length>0)e(t.filter(".fpd-category"));else{var n=t;n.hasClass("fpd-category")&&(n=n.children("img")),n.each(function(t,e){var n=$(e),i={source:void 0===n.data("src")?n.attr("src"):n.data("src"),title:n.attr("title"),parameters:n.data("parameters"),thumbnail:n.data("thumbnail")};c.designs.push(i)})}t.remove(),c.setupDesigns(c.designs)}},k=function(t,e){0===t.length?c.$actionsWrapper.find('[data-action="undo"]').addClass("fpd-disabled"):c.$actionsWrapper.find('[data-action="undo"]').removeClass("fpd-disabled"),0===e.length?c.$actionsWrapper.find('[data-action="redo"]').addClass("fpd-disabled"):c.$actionsWrapper.find('[data-action="redo"]').removeClass("fpd-disabled")},L=function(t){if(null!==h){h.children("div").empty(),h.children("h5").text(t.title);for(var e=0;e<c.mainOptions.editorBoxParameters.length;++e){var n=c.mainOptions.editorBoxParameters[e],i=t[n];void 0!==i&&(i="object"==typeof(i="number"==typeof i?i.toFixed(2):i)&&i.source?i.source.src:i,"fill"===n&&t.type===FPDPathGroupName&&(i=t.svgFill),h.children("div").append("<p><i>"+n+'</i>: <input type="text" value="'+i+'" readonly /></p>'))}}},E=function(){if(c.viewInstances.length<c.currentViews.length)c.addView(c.currentViews[c.viewInstances.length]);else{if(o.off("viewCreate",E),c.toggleSpinner(!1),c.selectView(0),!c.mainOptions.editorMode&&c.currentViewInstance&&$(c.currentViewInstance.stage.getElement()).is(":visible"))for(var t=c.currentViewInstance.stage.getObjects(),e=null,n=0;n<t.length;++n){var i=t[n];i.autoSelect&&!i.hasUploadZone&&(e=i)}e&&c.currentViewInstance&&setTimeout(function(){c.currentViewInstance.stage.setActiveObject(e),e.setCoords(),c.currentViewInstance.stage.renderAll()},10),c.productCreated=!0,c.mainOptions.hideDialogOnAdd&&c.$container.hasClass("fpd-topbar")&&c.mainBar&&c.mainBar.__setup&&c.mainBar.toggleDialog(!1),c.mainBar&&(c.mainBar.__setup=!0),u.resize(),o.trigger("productCreate",[c.currentViews])}},N=function(){var t=c.currentElement;if(t&&c.$elementTooltip&&c.productCreated&&!t.uploadZone&&!t.__editorMode){t.isOut&&"inside"===t.boundingBoxMode?c.$elementTooltip.text(C).show():c.mainOptions.imageSizeTooltip&&"image"===FPDUtil.getType(t.type)?c.$elementTooltip.text(parseInt(t.width*t.scaleX)+" x "+parseInt(t.height*t.scaleY)).show():c.$elementTooltip.hide();var e=t.oCoords;c.$elementTooltip.css({left:c.$productStage.position().left+e.mt.x,top:e.mt.y-10+c.$productStage.position().top})}else c.$elementTooltip&&c.$elementTooltip.hide()},_=function(t,e,n,i){var o=$.isArray(e)?e[n]:e;$.get(c.mainOptions.templatesDirectory+t+"."+o,i).fail(function(){$.isArray(e)&&e[n+1]?_(t,e,++n,i):alert(c.mainOptions.templatesDirectory+t+"."+o+" could not be loaded.")})};this.addProduct=function(t,e){var n=function(t){var e=$.map(c.products,function(e,n){return e.category==t?n:void 0}).shift();return!isNaN(e)&&e}(e);void 0===e?c.products.push(t):(!1===n&&(n=c.products.length,c.products[n]={category:e,products:[]}),c.products[n].products.push(t)),o.trigger("productAdd",[t,e,n])},this.selectProduct=function(t,e){var n;(c.currentCategoryIndex=void 0===e?c.currentCategoryIndex:e,c.products&&c.products.length&&c.products[0].category)?n=c.products[c.currentCategoryIndex].products:n=c.products;c.currentProductIndex=t,0>t?currentProductIndex=0:t>n.length-1&&(c.currentProductIndex=n.length-1);var i=n[c.currentProductIndex];o.trigger("productSelect",[t,e,i]),c.loadProduct(i,c.mainOptions.replaceInitialElements)},this.loadProduct=function(t,e,n){t&&(e=void 0!==e&&e,n=void 0!==n&&n,a.is(":hidden")&&c.toggleSpinner(!0),c.productCreated=!1,c.colorLinkGroups={},f=[],e?f=c.getCustomElements():c.doUnsavedAlert=!1,c.reset(),n&&t.forEach(function(t){t.options=A.merge(c.mainOptions,t.options)}),c.currentViews=t,b=x=0,t.forEach(function(t){b+=t.elements.length}),c.$viewSelectionWrapper=$('<div class="fpd-views-selection fpd-clearfix"></div>'),o.hasClass("fpd-views-outside")||o.hasClass("fpd-device-smartphone")?o.after(c.$viewSelectionWrapper):c.$mainWrapper.append(c.$viewSelectionWrapper),o.on("viewCreate",E),t&&c.addView(t[0]))},this.addView=function(t){var e=c.mainOptions._loadFromScript?c.mainOptions._loadFromScript+t.thumbnail:t.thumbnail;c.$viewSelectionWrapper.append('<div class="fpd-shadow-1 fpd-item fpd-tooltip" title="'+t.title+'"><picture style="background-image: url('+e+');"></picture></div>').children("div:last").click(function(){c.selectView(c.$viewSelectionWrapper.children("div").index($(this)))});var n=$.extend(!0,{},c.mainOptions);delete n.productsJSON,delete n.designsJSON,delete n.guidedTour,delete n.fonts,delete n.pricingRules,delete n.hexNames,delete n.customImageAjaxSettings,delete n.colorPickerPalette,delete n.imageEditorSettings,delete n.mainBarModules,t.options=void 0===t.options&&"object"!=typeof t.options?n:$.extend(!0,{},A.merge(n,t.options));var i=new FancyProductDesignerView(c.$productStage,t,function(t){return 0===$(t.stage.wrapperEl).parent().length?void t.reset():(0==c.viewInstances.length&&t.resetCanvasSize(),c.viewInstances.push(t),void o.trigger("viewCreate",[t]))},c.mainOptions.fabricCanvasOptions);i.stage.on({"object:scaling":function(){},"object:moving":function(){},"object:rotating":function(){}}),$(i).on("beforeElementAdd",function(t,e,n,i){if(!c.productCreated){x++;var o=i+"<br>"+String(x)+"/"+b;a.find(".fpd-loader-text").html(o)}}).on("canvas:mouseUp",function(){c.mainOptions.fabricCanvasOptions.allowTouchScrolling&&(o.removeClass("fpd-disable-touch-scrolling"),c.currentViewInstance.stage.allowTouchScrolling=!0)}).on("elementAdd",function(t,e){if(e){if(c.productCreated&&"image"==FPDUtil.getType(e.type)&&e.isCustom&&(c.toggleSpinner(!1),FPDUtil.showMessage(c.getTranslation("misc","image_added"))),e.colorLinkGroup&&e.colorLinkGroup.length>0&&!c.mainOptions.editorMode){var n=this.getIndex();if(c.colorLinkGroups.hasOwnProperty(e.colorLinkGroup)){if(c.colorLinkGroups[e.colorLinkGroup].elements.push({id:e.id,viewIndex:n}),"object"==typeof e.colors){var r=c.mainOptions.replaceColorsInColorGroup?e.colors:c.colorLinkGroups[e.colorLinkGroup].colors.concat(e.colors);c.colorLinkGroups[e.colorLinkGroup].colors=FPDUtil.arrayUnique(r)}}else c.colorLinkGroups[e.colorLinkGroup]={elements:[{id:e.id,viewIndex:n}],colors:[]},"object"==typeof e.colors&&(c.colorLinkGroups[e.colorLinkGroup].colors=e.colors)}c.productCreated&&c.mainOptions.hideDialogOnAdd&&c.$container.hasClass("fpd-topbar")&&c.mainBar&&c.mainBar.toggleDialog(!1),o.trigger("elementAdd",[e]),o.trigger("viewCanvasUpdate",[i])}}).on("boundingBoxToggle",function(t,e,n){o.trigger("boundingBoxToggle",[e,n])}).on("elementSelect",function(t,e){c.currentElement=e,e?N():(c.$elementTooltip&&c.$elementTooltip.hide(),c.$mainWrapper.children(".fpd-snap-line-h, .fpd-snap-line-v").hide()),o.trigger("elementSelect",[e])}).on("elementChange",function(t,e,n){N(),L(n.getBoundingRect()),o.trigger("elementChange",[e,n])}).on("elementModify",function(t,e,n){N(),o.trigger("elementModify",[e,n]),o.trigger("viewCanvasUpdate",[i])}).on("undoRedoSet",function(t,e,n){c.doUnsavedAlert=!0,k(e,n),o.trigger("undoRedoSet",[e,n])}).on("priceChange",function(t,e){c.currentPrice=c.singleProductPrice=0;for(var n=0;n<c.viewInstances.length;++n)c.viewInstances[n].locked||(c.singleProductPrice+=c.viewInstances[n].truePrice);var i=c.calculatePrice();o.trigger("priceChange",[e,i,c.singleProductPrice])}).on("elementCheckContainemt",function(t,e,n){"inside"===n&&N()}).on("elementColorChange",function(t,e,n,r){if(c.productCreated&&r&&e.colorLinkGroup&&e.colorLinkGroup.length>0){var a=c.colorLinkGroups[e.colorLinkGroup];if(a&&a.elements)for(var s=0;s<a.elements.length;++s){var l=a.elements[s].id,u=a.elements[s].viewIndex,d=c.getElementByID(l,u);d&&d!==e&&n&&c.viewInstances[u].changeColor(d,n,!1)}}o.trigger("elementColorChange",[e,n,r]),o.trigger("viewCanvasUpdate",[i])}).on("elementRemove",function(t,e){o.trigger("elementRemove",[e]),o.trigger("viewCanvasUpdate",[i])}).on("fabricObject:added fabricObject:removed",function(t,e){o.trigger(t.type,[e])}),i.setup(),FPDUtil.updateTooltip(),c.$viewSelectionWrapper.children().length>1?c.$viewSelectionWrapper.show():c.$viewSelectionWrapper.hide()},this.selectView=function(t){if(!(c.viewInstances.length<=0)){if(c.resetZoom(),c.currentViewIndex=t,0>t?c.currentViewIndex=0:t>c.viewInstances.length-1&&(c.currentViewIndex=c.viewInstances.length-1),c.$viewSelectionWrapper.children("div").removeClass("fpd-view-active").eq(t).addClass("fpd-view-active"),c.$mainWrapper.children(".fpd-ruler").remove(),c.currentViewInstance){c.currentViewInstance.undos=[],c.currentViewInstance.redos=[];for(var e=["_snap_lines_group","_ruler_hor","_ruler_ver"],n=0;n<e.length;++n){var i=c.currentViewInstance.getElementByID(e[n]);i&&c.currentViewInstance.stage.remove(i)}c.currentViewInstance._snapElements=!1}if(c.currentViewInstance=c.viewInstances[c.currentViewIndex],c.deselectElement(),c.$productStage.children(".fpd-view-stage").addClass("fpd-hidden").eq(c.currentViewIndex).removeClass("fpd-hidden"),c.currentViewInstance.stage.renderAll(),r&&r.find(".fpd-navigation").length){var a=c.currentViewInstance.options,s=r.find(".fpd-navigation");s.children('[data-module="designs"]').toggleClass("fpd-disabled",!a.customAdds.designs),s.children('[data-module="images"]').toggleClass("fpd-disabled",!a.customAdds.uploads),s.children('[data-module="text"]').toggleClass("fpd-disabled",!a.customAdds.texts),"undefined"!=typeof FPDNamesNumbersModule&&s.children('[data-module="names-numbers"]').toggleClass("fpd-disabled",!c.currentViewInstance.textPlaceholder&&!c.currentViewInstance.numberPlaceholder),s.children('[data-module="drawing"]').toggleClass("fpd-disabled",!a.customAdds.drawing),o.hasClass("fpd-sidebar")?0===s.children(".fpd-active").length||s.children(".fpd-active").hasClass("fpd-disabled")?s.children(":not(.fpd-disabled)").length>0?s.children(":not(.fpd-disabled)").first().click():c.mainBar.$content.children(".fpd-module").removeClass("fpd-active"):0==c.mainBar.$content.children(".fpd-active").length&&c.productCreated&&s.children(":first").click():o.hasClass("fpd-topbar")&&s.children(".fpd-active").hasClass("fpd-disabled")&&c.mainBar.toggleDialog(!1),c.$container.hasClass("fpd-products-module-hidden")&&s.children(".fpd-active").filter('[data-module="products"]').length>0&&s.children(":not(.fpd-disabled)").eq(1).click()}c.mainBar&&c.mainBar.$content&&c.$container.filter('[class*="fpd-off-canvas-"]').length>0&&c.mainBar.$content.height(c.$mainWrapper.height()),k(c.currentViewInstance.undos,c.currentViewInstance.redos),c.$mainWrapper.children(".fpd-modal-lock").removeClass("fpd-animated").toggleClass("fpd-active",c.currentViewInstance.options.optionalView).toggleClass("fpd-unlocked",!c.currentViewInstance.locked),setTimeout(function(){c.$mainWrapper.children(".fpd-modal-lock").addClass("fpd-animated")},1),c.$productStage.width(c.currentViewInstance.options.stageWidth),c.currentViewInstance.resetCanvasSize(),c.currentViewInstance.resetCanvasSize(),o.trigger("viewSelect",[c.currentViewIndex,c.currentViewInstance])}},this.addElement=function(t,e,n,i,o){if(i=void 0===i?{}:i,o=void 0===o?c.currentViewIndex:o,c.viewInstances[o].addElement(t,e,n,i),i.replace&&i.replaceInAllViews)for(var r=0;r<c.viewInstances.length;++r){var a=c.viewInstances[r];o!==r&&null!==a.getElementByReplace(i.replace)&&a.addElement(t,e,n,i,r)}},this.setElementParameters=function(t,e,n){return e=void 0===e?c.stage.getActiveObject():e,n=void 0===n?c.currentViewIndex:n,!(!e||void 0===t)&&void c.viewInstances[n].setElementParameters(t,e)},this.reset=function(){null!==c.currentViews&&(o.off("viewCreate",E),c.deselectElement(),c.resetZoom(),c.currentViewIndex=c.currentPrice=c.singleProductPrice=c.pricingRulesPrice=0,c.currentViewInstance=c.currentViews=c.currentElement=null,c.viewInstances.forEach(function(t){t.stage.clear()}),c.$mainWrapper.find(".fpd-view-stage").remove(),d.find(".fpd-views-selection").remove(),c.viewInstances=[],o.trigger("clear"),o.trigger("priceChange",[0,0,0]),g=!0)},this.deselectElement=function(){c.currentViewInstance&&c.currentViewInstance.deselectElement()},this.getProductDataURL=function(t,e,n,i){t=void 0===t?function(){}:t,e=void 0===e?"transparent":e,(n=void 0===n?{}:n).onlyExportable=void 0!==n.onlyExportable&&n.onlyExportable,n.enableRetinaScaling=void 0!==n.enableRetinaScaling&&n.enableRetinaScaling,i=void 0===i?[]:i,0===c.viewInstances.length&&t(""),c.resetZoom(),d.append('<canvas id="fpd-hidden-canvas"></canvas>');var o=fabric.devicePixelRatio,r=new fabric.Canvas("fpd-hidden-canvas",{containerClass:"fpd-hidden fpd-hidden-canvas",enableRetinaScaling:!1}),a=0,s=n.multiplier?n.multiplier:1,l=2==i.length?c.viewInstances.slice(i[0],i[1]):c.viewInstances,u=l[0];r.setDimensions({width:u.options.stageWidth*s,height:u.options.stageHeight*s}),function i(u){fabric.devicePixelRatio=1,u.toDataURL(function(e){fabric.Image.fromURL(e,function(e){r.add(e),a>0&&(e.set("top",r.getHeight()),r.setDimensions({height:r.getHeight()+u.options.stageHeight*s})),++a<l.length?i(l[a]):(delete n.multiplier,t(r.toDataURL(n)),fabric.devicePixelRatio=o,r.dispose(),d.children("#fpd-hidden-canvas").remove(),c.currentViewInstance&&c.currentViewInstance.resetCanvasSize())},{crossOrigin:"anonymous"})},e,n,c.watermarkImg),u.options.stageWidth*s>r.getWidth()&&r.setDimensions({width:u.options.stageWidth*s})}(u)},this.getViewsDataURL=function(t,e,n){t=void 0===t?function(){}:t,e=void 0===e?"transparent":e,n="undefined"===n?{}:n;var i=[];c.resetZoom();for(var o=0;o<c.viewInstances.length;++o)c.viewInstances[o].toDataURL(function(e){i.push(e),i.length===c.viewInstances.length&&t(i)},e,n,c.watermarkImg)},this.getViewsSVG=function(t,e,n){for(var i=[],o=0;o<c.viewInstances.length;++o)i.push(c.viewInstances[o].toSVG(t,e,n));return i},this.toggleSpinner=function(t,e){return e=void 0===e?"":e,(t=void 0===t||t)?a.fadeIn(300).find(".fpd-loader-text").html(e):a.stop().fadeOut(300),a},this.getElementByTitle=function(t,e){var n=!1;return this.getElements(e,"all",!1).some(function(e){return e.title==t?(n=e,!0):void 0}),n},this.getElements=function(t,e,n){t=void 0===t||isNaN(t)?-1:t,e=void 0===e?"all":e,(n=void 0===n||n)&&this.deselectElement();var i=[];if(-1===t)for(var o=0;o<c.viewInstances.length;++o)i=i.concat(c.viewInstances[o].stage.getObjects());else{if(!c.viewInstances[t])return[];i=c.viewInstances[t].stage.getObjects()}if(i=i.filter(function(t){return!t._ignore}),"text"===e){var r=[];return i.forEach(function(t){"text"===FPDUtil.getType(t.type)&&r.push(t)}),r}if("image"===e){var a=[];return i.forEach(function(t){"image"===FPDUtil.getType(t.type)&&a.push(t)}),a}return i},this.print=function(){c.getViewsDataURL(function(t){for(var e=[],n=0,i=0;i<t.length;++i){var o=new Image;o.src=t[i],o.onload=function(){if(e.push(this),++n==t.length){var i=window.open("","","width="+e[0].width+",height="+e[0].height*t.length+",location=no,menubar=no,scrollbars=yes,status=no,toolbar=no");FPDUtil.popupBlockerAlert(i,c),i.document.title="Print Image";for(var o=0;o<e.length;++o)$(i.document.body).append('<img src="'+e[o].src+'" />');setTimeout(function(){i.print()},1e3)}}}})},this.createImage=function(t,e,n,i,o){t=void 0===t||t,e=void 0!==e&&e,n=void 0===n?"transparent":n,o=void 0!==o&&o;var r=void 0===(i=void 0===i?{}:i).format?"png":i.format,a=function(n){var i=new Image;i.src=n,i.onload=function(){if(t){var n=window.open("","_blank");FPDUtil.popupBlockerAlert(n,c),n.document.title="Product Image",$(n.document.body).append('<img src="'+this.src+'" download="product.'+r+'" />'),e&&(window.location.href=n.document.getElementsByTagName("img")[0].src.replace("image/"+r,"image/octet-stream"))}}};o?c.currentViewInstance.toDataURL(a,n,i):c.getProductDataURL(a,n,i)},this.setZoom=function(t){if(!y&&(m=!1,this.deselectElement(),c.currentViewInstance)){var e=c.currentViewInstance.responsiveScale,n=new fabric.Point(.5*c.currentViewInstance.stage.getWidth(),.5*c.currentViewInstance.stage.getHeight());c.currentViewInstance.stage.zoomToPoint(n,t*e),1==t&&c.resetZoom()}},this.resetZoom=function(){if(m=!0,this.deselectElement(),c.currentViewInstance){var t=c.currentViewInstance.responsiveScale;c.currentViewInstance.stage.zoomToPoint(new fabric.Point(0,0),t),c.currentViewInstance.stage.absolutePan(new fabric.Point(0,0))}},this.getElementByID=function(t,e){return e=void 0===e?c.currentViewIndex:e,c.viewInstances[e]?c.viewInstances[e].getElementByID(t):null},this.getProduct=function(t,e){t=void 0!==t&&t,e=void 0!==e&&e;var n,i="all"==c.mainOptions.customizationRequiredRule?"every":"some";if(n=c.viewInstances[i](function(t){return t.isCustomized}),e&&!n)return FPDUtil.showMessage(c.getTranslation("misc","customization_required_info")),!1;this.deselectElement(),this.resetZoom(),c.doUnsavedAlert=!1;var o=this.getElements(),r=[];if(o.forEach(function(t){t.isOut&&"inside"===t.boundingBoxMode&&!t.__editorMode&&(FPDUtil.showMessage(t.title+": "+c.getTranslation("misc","out_of_bounding_box")),r=!1)}),!1===r)return!1;for(var a=0;a<c.viewInstances.length;++a){for(var s=c.viewInstances[a],l=s.getOptions(),u=(o=c.viewInstances[a].stage.getObjects(),[]),d=0;d<o.length;++d){var h=o[d];if(void 0!==h.title&&void 0!==h.source){var p={title:h.title,source:h.source,parameters:c.viewInstances[a].getElementJSON(h),type:FPDUtil.getType(h.type)};if(l.printingBox&&l.printingBox.hasOwnProperty("left")&&l.printingBox.hasOwnProperty("top")){var f=h.getPointByOrigin("left","top");new fabric.Point(l.printingBox.left,l.printingBox.top),new fabric.Point(l.printingBox.left+l.printingBox.width,l.printingBox.top+l.printingBox.height),p.printingBoxCoords={left:f.x-l.printingBox.left,top:f.y-l.printingBox.top}}t?h.isEditable&&u.push(p):u.push(p)}}var g={title:s.title,thumbnail:s.thumbnail,elements:u,options:l,names_numbers:s.names_numbers,mask:s.mask,locked:s.locked};0==a&&c.currentViews[0].hasOwnProperty("productTitle")&&(g.productTitle=c.currentViews[0].productTitle),r.push(g)}return r},this.getTranslation=function(t,e){return c.langJson&&(t=c.langJson[t])?t[e]:""},this.getCustomElements=function(t,e,n){var i=this.getElements(e,t,n),o=[];return i.forEach(function(t){if(t.isCustom){var e=c.$productStage.children(".fpd-view-stage").index(t.canvas.wrapperEl);o.push({element:t,viewIndex:e})}}),o},this.addCustomImage=function(t,e,n){n=void 0===n?{}:n;var i=new Image;i.src=t,i.crossOrigin="anonymous",this.toggleSpinner(!0,c.getTranslation("misc","loading_image")),c.$viewSelectionWrapper.addClass("fpd-disabled"),i.onload=function(){c._loadingCustomImage=!1;var i=this.height,o=this.width,r=c.currentViewInstance.options.customImageParameters,a=this.src.split(".");if(!FPDUtil.checkImageDimensions(c,o,i))return c.toggleSpinner(!1),!1;var s={isCustom:!0};-1==$.inArray("svg",a)||r.colors||(s.colors=!0),c.addElement("image",t,e,$.extend({},r,s,n)),c.$viewSelectionWrapper.removeClass("fpd-disabled")},i.onerror=function(){FPDUtil.showModal("Image could not be loaded!")}},this.setDimensions=function(t,e,n){var i=[];-1==(n=void 0===n?-1:n)?(c.mainOptions.stageWidth=t,c.mainOptions.stageHeight=e,i=c.viewInstances):i.push(c.viewInstances[n]),(n==c.currentViewIndex||-1==n)&&c.$container.find(".fpd-product-stage").width(t),i.forEach(function(i){i.options.stageWidth=t,i.options.stageHeight=e,n==c.currentViewIndex&&i.resetCanvasSize()}),(n==c.currentViewIndex||-1==n)&&c.mainBar&&c.mainBar.$content&&c.$container.filter('[class*="fpd-off-canvas-"]').length>0&&c.mainBar.$content.height(c.$mainWrapper.height())},this.setOrderQuantity=function(t){t=""==t||0>t?1:t,c.orderQuantity=t;var e=c.calculatePrice();o.trigger("priceChange",[null,e,c.singleProductPrice])},this.getOrder=function(t){return t=void 0===t?{}:t,c._order.product=c.getProduct(t.onlyEditableElements||!1,t.customizationRequired||!1),c._order.usedFonts=c.getUsedFonts(),c._order.usedColors=[],c.getUsedColors().forEach(function(t){var e=c.mainOptions.hexNames[t.replace("#","").toLowerCase()],n={hex:t};e&&(n.name=e),c._order.usedColors.push(n)}),c._order.usedDepositPhotos=c.getDepositPhotos(),o.trigger("getOrder"),c._order},this.getUsedFonts=function(){var t=[],e=[];return this.getElements(-1,"all",!1).forEach(function(n){if("text"===FPDUtil.getType(n.type)&&-1===t.indexOf(n.fontFamily)){var i={name:n.fontFamily},o=$.grep(c.mainOptions.fonts,function(t){return t.name==n.fontFamily});o.length>0&&o[0].url&&(i.url=o[0].url),t.push(n.fontFamily),e.push(i)}}),e},this.getUsedColors=function(t){var e=[];return this.getElements(t,"all",!1).forEach(function(t){var n=FPDUtil.elementIsColorizable(t);n&&("svg"===n?t.type===FPDPathGroupName?t.getObjects().forEach(function(t){FPDUtil.isHex(t.fill)&&e.push(t.fill)}):e.push(t.fill):FPDUtil.isHex(t.fill)&&e.push(t.fill))}),FPDUtil.arrayUnique(e)},this.calculatePrice=function(t){t=void 0===t||t;var e=c.singleProductPrice;return c.currentPrice=e,e+=c.pricingRulesPrice,t&&(e*=c.orderQuantity),e%1!=0&&(e=Number(e.toFixed(2))),e},this.removeView=function(t){t=void 0===t?0:t;var e=c.$productStage.children(".fpd-view-stage").eq(t);c.$viewSelectionWrapper.children(".fpd-item").eq(t).remove(),e.remove(),c.viewInstances.splice(t,1),c.viewInstances.length>0&&c.selectView(t==c.currentViewIndex?0:t),o.trigger("viewRemove",[t])},this.formatPrice=function(t){if("object"==typeof c.mainOptions.priceFormat){var e=c.mainOptions.priceFormat.thousandSep,n=c.mainOptions.priceFormat.decimalSep,i=t.toString().split("."),o=i[0],r=i[1],a="";if(void 0!==o){for(var s=o.length-1;s>=0;s--)a+=o.charAt(s);(a=a.replace(/(\d{3})/g,"$1"+e)).slice(-e.length)==e&&(a=a.slice(0,-e.length)),o="";for(s=a.length-1;s>=0;s--)o+=a.charAt(s);void 0!==r&&r.length>0&&(1==r.length&&(r+="0"),o+=n+r)}return c.mainOptions.priceFormat.currency.replace("%d",o.toString())}return c.mainOptions.priceFormat.replace("%d",t)},this.translateElement=function(t){var e="";if(c.langJson){var n=(void 0!==t.attr("placeholder")?t.attr("placeholder"):void 0!==t.attr("title")?t.attr("title"):void 0!==t.data("title")?t.data("title"):t.text()).split("."),i=c.langJson[n[0]];i?void 0===(e=i[n[1]])&&(e=t.data("defaulttext")):e=t.data("defaulttext"),c.languageJSON[n[0]][n[1]]=e}else e=t.data("defaulttext");return void 0!==t.attr("placeholder")?t.attr("placeholder",e).text(""):void 0!==t.attr("title")?t.attr("title",e):void 0!==t.data("title")?t.data("title",e):t.text(e),e},this.selectGuidedTourStep=function(t){d.children(".fpd-gt-step").remove();var e=Object.keys(c.mainOptions.guidedTour).indexOf(t),n=t.split(":"),i=null;if("module"===n[0]?i=r.find(".fpd-navigation").children('[data-module="'+n[1]+'"]'):"action"===n[0]?i=$('.fpd-action-btn[data-action="'+n[1]+'"]'):1===n.length&&(i=$(n[0])),i){if(0===i.length)return void(Object.keys(c.mainOptions.guidedTour)[e+1]&&c.selectGuidedTourStep(Object.keys(c.mainOptions.guidedTour)[e+1]));var o=d.append('<div class="fpd-container fpd-gt-step"><div class="fpd-gt-pointer"><span class="fpd-icon-arrow-dropdown"></span></div><div class="fpd-gt-close"><span class="fpd-icon-close"></span></div><div class="fpd-gt-text">'+c.mainOptions.guidedTour[t]+'</div><div class="fpd-gt-actions fpd-clearfix"><div class="fpd-gt-next fpd-btn fpd-primary">'+c.getTranslation("misc","guided_tour_next")+'</div><div class="fpd-gt-back fpd-btn fpd-primary">'+c.getTranslation("misc","guided_tour_back")+'</div><span class="fpd-gt-counter">'+String(e+1)+"/"+Object.keys(c.mainOptions.guidedTour).length+"</span></div></div>").children(".fpd-gt-step"),a=i.offset(),s=.5*i.outerWidth(),l=a.left+s;o.css({left:l,top:a.top+i.outerHeight()+0}),o.outerWidth()+l>window.innerWidth&&(s=window.innerWidth-(o.outerWidth()+l),o.css("left",l+s).children(".fpd-gt-pointer").css("margin-left",Math.abs(s))),Object.keys(c.mainOptions.guidedTour)[e-1]?o.find(".fpd-gt-back").data("target",Object.keys(c.mainOptions.guidedTour)[e-1]):o.find(".fpd-gt-back").hide(),Object.keys(c.mainOptions.guidedTour)[e+1]?o.find(".fpd-gt-next").data("target",Object.keys(c.mainOptions.guidedTour)[e+1]):o.find(".fpd-gt-next").hide()}},this.setupProducts=function(t){t=void 0===t?[]:t,this.products=[],t.forEach(function(t){t.hasOwnProperty("category")?t.products.forEach(function(e){c.addProduct(e,t.category)}):c.addProduct(t)}),c.mainOptions.loadFirstProductInStage&&t.length>0&&!g?c.selectProduct(0):c.toggleSpinner(!1),o.trigger("productsSet",[c.products])},this.setupDesigns=function(t){c.designs=t,o.trigger("designsSet",[c.designs])},this.toggleResponsive=function(t){return t=void 0===t?o.hasClass("fpd-not-responsive"):t,o.toggleClass("fpd-not-responsive",!t),this.viewInstances.forEach(function(e,n){e.options.responsive=t,n==c.currentViewIndex&&e.resetCanvasSize()}),t},this.getDepositPhotos=function(){var t=[];return this.getElements(-1,"image").forEach(function(e){e.source&&e.depositphotos&&t.push({depositphotos:e.depositphotos,source:e.source})}),t},this.getDepositPhotosPurchaseMedia=function(t,e,n,i,o,r,a){o=void 0===o?"s":o,r=void 0===r?"standard":r,a=void 0===a?"credits":a;var s={dp_apikey:c.mainOptions.depositphotosApiKey,dp_command:"login",dp_login_user:n,dp_login_password:i};$.getJSON(location.protocol+"//api.depositphotos.com?"+$.param(s),function(n){if(n.error)t(n),alert(n.error.errormsg);else if(n.sessionid){var i={dp_apikey:c.mainOptions.depositphotosApiKey,dp_command:"getMedia",dp_session_id:n.sessionid,dp_media_id:e,dp_media_option:o,dp_media_license:r,dp_purchase_currency:a,dp_force_purchase_method:a};$.getJSON(location.protocol+"//api.depositphotos.com?"+$.param(i),function(e){t(e),e.error&&alert(e.error.errormsg)})}else t(n),alert("No Sessions ID!")})},this.loadFonts=function(t,e){if(t&&t.length>0&&"object"==typeof t[0]){var n,i=[],o=[],r=0;0==c.$container.prevAll("#fpd-custom-fonts").length?(n=$('<style type="text/css" id="fpd-custom-fonts"></style>'),c.$container.before(n)):n=c.$container.prevAll("#fpd-custom-fonts:first").empty(),t.forEach(function(t){if(t.hasOwnProperty("url"))if("google"==t.url)i.push(t.name+":400,400i,700,700i");else{var e=t.name,r=-1!==t.url.search(".woff")?"woff":"TrueType",a=c.mainOptions._loadFromScript?c.mainOptions._loadFromScript+t.url:t.url;e+=":n4",n.append('@font-face {font-family:"'+t.name+'"; font-style: normal; font-weight: normal; src:url("'+a+'") format("'+r+'");}'),t.variants&&(Object.keys(t.variants).forEach(function(e){a=c.mainOptions._loadFromScript?c.mainOptions._loadFromScript+t.variants[e]:t.variants[e],n.append('@font-face {font-family:"'+t.name+'"; '+{n7:"font-style: normal; font-weight: bold;",i4:"font-style: italic; font-weight: normal;",i7:"font-style: italic; font-weight: bold;"}[e]+' src:url("'+a+'") format("'+r+'");}')}),e+=","+Object.keys(t.variants).toString()),o.push(e)}});var a=function(t,n){"inactive"==t&&FPDUtil.log(n+" font could not be loaded.","warn"),r==i.length+o.length-1&&e(),r++},s={fontactive:function(t,e){a("active",t)},fontinactive:function(t,e){a("inactive",t)},timeout:2e3};i.length>0&&(s.google={families:i}),o.length>0&&(s.custom={families:o}),"undefined"!=typeof WebFont&&(i.length>0||o.length>0)?WebFont.load(s):e()}else e()},this.getPrintOrderData=function(){for(var t={used_fonts:c.getUsedFonts(),svg_data:[],custom_images:[]},e=0;e<c.viewInstances.length;++e)t.svg_data.push({svg:c.viewInstances[e].toSVG({},null,!0),output:c.viewInstances[e].options.output});return c.getCustomElements("image").forEach(function(e){t.custom_images.push(e.element.source)}),t},function(){if($.expr[":"].containsCaseInsensitive=$.expr.createPseudo(function(t){return function(e){return $(e).text().toUpperCase().indexOf(t.toUpperCase())>=0}}),o=t instanceof jQuery?t:$(t),c.$modalContainer=c.mainOptions.openModalInDesigner?o:$("body"),w=o.attr("class")?o.attr("class"):"",c.mainOptions.mainBarContainer=!1===c.mainOptions.modalMode&&c.mainOptions.mainBarContainer,c.mainOptions.mainBarContainer&&o.removeClass("fpd-sidebar").addClass("fpd-topbar"),c.mainOptions.fabricCanvasOptions.allowTouchScrolling||o.addClass("fpd-disable-touch-scrolling"),o.addClass("fpd-device-"+FPDUtil.getDeviceByScreenSize()),c.$container=o.data("instance",c),n=o.children(".fpd-category").length>0?o.children(".fpd-category").remove():o.children(".fpd-product").remove(),i=o.find(o.find(".fpd-design > .fpd-category").length>0?".fpd-design > .fpd-category":".fpd-design > img"),o.children(".fpd-design").remove(),c.mainOptions.modalMode){o.removeClass("fpd-hidden"),d.addClass("fpd-modal-mode-active");var e=o.wrap('<div class="fpd-modal-product-designer fpd-modal-overlay fpd-fullscreen"><div class="fpd-modal-wrapper"></div></div>').parents(".fpd-modal-overlay:first"),a=!1;e.children().append('<div class="fpd-done fpd-btn" data-defaulttext="Done">misc.modal_done</div><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div>'),$(c.mainOptions.modalMode).addClass("fpd-modal-mode-btn").click(function(t){t.preventDefault(),d.addClass("fpd-overflow-hidden").removeClass("fpd-modal-mode-active"),e.addClass("fpd-fullscreen").fadeIn(300),c.currentViewInstance&&(c.currentViewInstance.resetCanvasSize(),c.resetZoom());var n=r.children(".fpd-navigation").children(".fpd-active");n.length>0&&c.mainBar.callModule(n.data("module"));var i=null;if(!a&&!c.mainOptions.editorMode&&c.currentViewInstance)for(var o=c.currentViewInstance.stage.getObjects(),s=0;s<o.length;++s){var l=o[s];l.autoSelect&&!l.hasUploadZone&&(i=l)}setTimeout(function(){i&&(c.currentViewInstance.stage.setActiveObject(i),c.currentViewInstance.stage.renderAll())},300),a=!0,c.$container.trigger("modalDesignerOpen")}),e.find(".fpd-done").click(function(){e.find(".fpd-modal-close").click(),c.$container.trigger("modalDesignerClose")})}var s=document.createElement("canvas"),l=Boolean(s.getContext&&s.getContext("2d")),u=c.mainOptions.templatesDirectory?9:8;if(!l||FPDUtil.isIE()&&Number(FPDUtil.isIE())<=u)return _("canvaserror",c.mainOptions.templatesType,0,function(t){o.append($.parseHTML(t)).fadeIn(300),o.trigger("templateLoad",[this.url])}),o.trigger("canvasFail"),!1;var h=(Object.keys(c.mainOptions.hexNames).length,{});Object.keys(c.mainOptions.hexNames).forEach(function(t){h[t.toLowerCase()]=c.mainOptions.hexNames[t]}),c.mainOptions.hexNames=h,c.mainOptions.fonts&&c.mainOptions.fonts.length>0&&("object"==typeof c.mainOptions.fonts[0]?c.mainOptions.fonts.sort(function(t,e){var n=t.name.toUpperCase(),i=e.name.toUpperCase();return i>n?-1:n>i?1:0}):c.mainOptions.fonts.sort()),"undefined"!=typeof FancyProductDesignerPlus&&FancyProductDesignerPlus.setup(o,c),"undefined"!=typeof FPDPricingRules&&(c.pricingRulesInstance=new FPDPricingRules(o,c)),!1!==c.mainOptions.langJSON?"object"==typeof c.mainOptions.langJSON?(c.langJson=c.mainOptions.langJSON,o.trigger("langJSONLoad",[c.langJson]),D()):$.getJSON(c.mainOptions.langJSON).done(function(t){c.langJson=t,o.trigger("langJSONLoad",[c.langJson]),D()}).fail(function(){FPDUtil.showModal('Language JSON "'+c.mainOptions.langJSON+'" could not be loaded or is not valid. Make sure you set the correct URL in the options and the JSON is valid!'),o.trigger("langJSONLoad",[c.langJson])}):D()}()};if(function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e){"use strict";e.exports=function(t){function e(t){var e=new n(t),i=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),i}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e){"use strict";function n(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=s}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function r(t){this._normalQueue._pushOne(t),this._queueTick()}var a;try{throw new Error}catch(t){a=t}var s=t("./schedule"),l=t("./queue"),c=t("./util");n.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},n.prototype.hasCustomScheduler=function(){return this._customScheduler},n.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},n.prototype.disableTrampolineIfNecessary=function(){c.hasDevTools&&(this._trampolineEnabled=!1)},n.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},n.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},n.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},c.hasDevTools?(n.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},n.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},n.prototype.settlePromises=function(t){this._trampolineEnabled?r.call(this,t):this._schedule(function(){t._settlePromises()})}):(n.prototype.invokeLater=i,n.prototype.invoke=o,n.prototype.settlePromises=r),n.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},n.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},n.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},n.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},n.prototype._reset=function(){this._isTickUsed=!1},e.exports=n,e.exports.firstLineError=a},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e){"use strict";e.exports=function(t,e,n,i){var o=!1,r=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},l=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){o||(o=!0,t.prototype._propagateFrom=i.propagateFromFunction(),t.prototype._boundValue=i.boundValueFunction());var c=n(r),u=new t(e);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:c};d._then(e,a,void 0,u,h),c._then(s,l,void 0,u,h),u._setOnCancel(c)}else u._resolveCallback(d);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=n)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var o="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(o)}return i}function i(t){return n(t,this.pop()).apply(t,this)}function o(t){return t[this]}function r(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var a=t("./util"),s=a.canEvaluate;a.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=r;else if(s){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e){"use strict";e.exports=function(e,n,i,o){var r=t("./util"),a=r.tryCatch,s=r.errorObj,l=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t.isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n.isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(r.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var i=a(t).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e){"use strict";e.exports=function(e){var n=t("./util"),i=t("./es5").keys,o=n.tryCatch,r=n.errorObj;return function(t,a,s){return function(l){var c=s._boundValue();t:for(var u=0;u<t.length;++u){var d=t[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return o(a).call(c,l)}else if("function"==typeof d){var h=o(d).call(c,l);if(h===r)return h;if(h)return o(a).call(c,l)}else if(n.isObject(l)){for(var p=i(d),f=0;f<p.length;++f){var g=p[f];if(d[g]!=l[g])continue t}return o(a).call(c,l)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(n())}function n(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=function(){return i?new e:void 0},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var o=t.prototype._pushContext,r=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,l=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=r,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=l,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=n,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,e){"use strict";e.exports=function(e,n){function i(t,e){return{promise:e}}function o(){return!1}function r(t,e,n){var i=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+k.toString(t));i._attachCancellationCallback(t)})}catch(t){return t}}function a(t){if(!this.isCancellable())return this;var e=this._onCancel();void 0!==e?k.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function s(){return this._onCancelField}function l(t){this._onCancelField=t}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function h(){this._trace=new C(this._peekContext())}function p(t,e){if(L(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=m(t);k.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),k.notEnumerableProp(t,"__stackCleaned__",!0)}}}function f(t,n,i){if(J.warnings){var o,r=new I(t);if(n)i._attachExtraTrace(r);else if(J.longStackTraces&&(o=e._peekContext()))o.attachExtraTrace(r);else{var a=m(r);r.stack=a.message+"\n"+a.stack.join("\n")}W("warning",r)||v(r,"",!0)}}function g(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],o="    (No stack trace)"===i||N.test(i),r=o&&V(i);o&&!r&&(T&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function m(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||N.test(i))break}return n>0&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:g(e)}}function v(t,e,n){if("undefined"!=typeof console){var i;if(k.isObject(t)){var o=t.stack;i=e+_(o,t)}else i=e+String(t);"function"==typeof S?S(i,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(i)}}function y(t,e,n,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(t){F.throwLater(t)}"unhandledRejection"===t?W(t,n,i)||o||v(n,"Unhandled rejection "):W(t,i)}function w(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():k.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function b(){return"function"==typeof Y}function x(t){var e=t.match(G);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function C(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);Y(this,C),e>32&&this.uncycle()}var A,D,S,P=e._getDomain,F=e._async,I=t("./errors").Warning,k=t("./util"),L=k.canAttachTrace,E=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,N=null,_=null,T=!1,O=!(0==k.env("BLUEBIRD_DEBUG")||!k.env("BLUEBIRD_DEBUG")&&"development"!==k.env("NODE_ENV")),B=!(0==k.env("BLUEBIRD_WARNINGS")||!O&&!k.env("BLUEBIRD_WARNINGS")),M=!(0==k.env("BLUEBIRD_LONG_STACK_TRACES")||!O&&!k.env("BLUEBIRD_LONG_STACK_TRACES")),z=0!=k.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(B||!!k.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),F.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){y("rejectionHandled",A,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),y("unhandledRejection",D,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return f(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var e=P();D="function"==typeof t?null===e?t:e.bind(t):void 0},e.onUnhandledRejectionHandled=function(t){var e=P();A="function"==typeof t?null===e?t:e.bind(t):void 0};var j=function(){};e.longStackTraces=function(){if(F.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!J.longStackTraces&&b()){var t=e.prototype._captureStackTrace,i=e.prototype._attachExtraTrace;J.longStackTraces=!0,j=function(){if(F.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=i,n.deactivateLongStackTraces(),F.enableTrampoline(),J.longStackTraces=!1},e.prototype._captureStackTrace=h,e.prototype._attachExtraTrace=p,n.activateLongStackTraces(),F.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return J.longStackTraces&&b()};var R=function(){try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),k.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!k.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),U=k.isNode?function(){return process.emit.apply(process,arguments)}:k.global?function(t){var e="on"+t.toLowerCase(),n=k.global[e];return!!n&&(n.apply(k.global,[].slice.call(arguments,1)),!0)}:function(){return!1},H={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},W=function(t){var e=!1;try{e=U.apply(null,arguments)}catch(t){F.throwLater(t),e=!0}var n=!1;try{n=R(t,H[t].apply(null,arguments))}catch(t){F.throwLater(t),n=!0}return n||e};e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&j()),"warnings"in t){var n=t.warnings;J.warnings=!!n,z=J.warnings,k.isObject(n)&&"wForgottenReturn"in n&&(z=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!J.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=c,e.prototype._propagateFrom=u,e.prototype._onCancel=s,e.prototype._setOnCancel=l,e.prototype._attachCancellationCallback=a,e.prototype._execute=r,q=u,J.cancellation=!0}"monitoring"in t&&(t.monitoring&&!J.monitoring?(J.monitoring=!0,e.prototype._fireEvent=W):!t.monitoring&&J.monitoring&&(J.monitoring=!1,e.prototype._fireEvent=o))},e.prototype._fireEvent=o,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(){},e.prototype._attachCancellationCallback=function(){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(){};var q=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)},V=function(){return!1},G=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;k.inherits(C,Error),n.CapturedTrace=C,C.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},i=0,o=this;void 0!==o;++i)e.push(o),o=o._parent;for(i=(t=this._length=i)-1;i>=0;--i){var r=e[i].stack;void 0===n[r]&&(n[r]=i)}for(i=0;t>i;++i){var a=n[e[i].stack];if(void 0!==a&&a!==i){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var s=i>0?e[i-1]:this;t-1>a?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,c=i-2;c>=0;--c)e[c]._length=l,l++;return}}}},C.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=m(t),n=e.message,i=[e.stack],o=this;void 0!==o;)i.push(g(o.stack.split("\n"))),o=o._parent;(function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],o=e.length-1,r=e[o],a=-1,s=i.length-1;s>=0;--s)if(i[s]===r){a=s;break}for(s=a;s>=0;--s){var l=i[s];if(e[o]!==l)break;e.pop(),o--}e=i}})(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),k.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),k.notEnumerableProp(t,"__stackCleaned__",!0)}};var Y=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():w(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,N=t,_=e;var n=Error.captureStackTrace;return V=function(t){return E.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return N=/@/,_=e,T=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){i="stack"in t}return"stack"in o||!i||"number"!=typeof Error.stackTraceLimit?(_=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?w(e):e.toString()},null):(N=t,_=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(S=function(t){console.warn(t)},k.isNode&&process.stderr.isTTY?S=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:k.isNode||"string"!=typeof(new Error).stack||(S=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var J={warnings:B,longStackTraces:!1,cancellation:!1,monitoring:!1};return M&&e.longStackTraces(),{longStackTraces:function(){return J.longStackTraces},warnings:function(){return J.warnings},cancellation:function(){return J.cancellation},monitoring:function(){return J.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return d},checkForgottenReturns:function(t,e,n,i,o){if(void 0===t&&null!==e&&z){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var r="a promise was created in a "+n+"handler but was not returned from it";i._warn(r,!0,e)}},setBounds:function(t,e){if(b()){for(var n,i,o=t.stack.split("\n"),r=e.stack.split("\n"),a=-1,s=-1,l=0;l<o.length;++l)if(c=x(o[l])){n=c.fileName,a=c.line;break}for(l=0;l<r.length;++l){var c;if(c=x(r[l])){i=c.fileName,s=c.line;break}}0>a||0>s||!n||!i||n!==i||a>=s||(V=function(t){if(E.test(t))return!0;var e=x(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:f,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),f(n)},CapturedTrace:C,fireDomEvent:R,fireGlobalEvent:U}}},{"./errors":12,"./util":36}],10:[function(t,e){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();return this.caught(n,function(){return i})}}},{}],11:[function(t,e){"use strict";e.exports=function(t,e){function n(){return r(this)}function i(t,n){return o(t,n,e,e)}var o=t.reduce,r=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return o(this,t,e,e)},t.each=function(t,e){return i(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=i}},{}],12:[function(t,e){"use strict";function n(t,e){function n(i){return this instanceof n?(u(this,"message","string"==typeof i?i:e),u(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return c(n,Error),n}function i(t){return this instanceof i?(u(this,"name","OperationalError"),u(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(u(this,"message",t.message),u(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,r,a=t("./es5"),s=a.freeze,l=t("./util"),c=l.inherits,u=l.notEnumerableProp,d=n("Warning","warning"),h=n("CancellationError","cancellation error"),p=n("TimeoutError","timeout error"),f=n("AggregateError","aggregate error");try{o=TypeError,r=RangeError}catch(t){o=n("TypeError","type error"),r=n("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(f.prototype[g[m]]=Array.prototype[g[m]]);a.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var t=Array(4*v+1).join(" "),e="\n"+t+"AggregateError of:\n";v++,t=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",o=i.split("\n"),r=0;r<o.length;++r)o[r]=t+o[r];e+=(i=o.join("\n"))+"\n"}return v--,e},c(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=s({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:f}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,e){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,r={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return r}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,o){return n(t,i,o,e)}}},{}],15:[function(t,e){"use strict";e.exports=function(e,n){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function r(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return l.call(this,this.promise._target()._settledValue())}function s(t){return r(this,t)?void 0:(d.e=t,d)}function l(t){var i=this.promise,l=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?l.call(i._boundValue()):l.call(i._boundValue(),t);if(void 0!==c){i._setReturnedNonUndefined();var h=n(c,i);if(h instanceof e){if(null!=this.cancelPromise){if(h.isCancelled()){var p=new u("late cancellation observer");return i._attachExtraTrace(p),d.e=p,d}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(a,s,void 0,this,void 0)}}}return i.isRejected()?(r(this),d.e=t,d):(r(this),t)}var c=t("./util"),u=e.CancellationError,d=c.errorObj;return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){r(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,o){return"function"!=typeof t?this.then():this._then(n,o,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,l,l)},e.prototype.tap=function(t){return this._passThrough(t,1,l)},i}},{"./util":36}],16:[function(t,e){"use strict";e.exports=function(e,n,i,o,r,a){function s(t,n,o,r){if(a.cancellation()){var s=new e(i),l=this._finallyPromise=new e(i);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new e(i))._captureStackTrace()}this._stack=r,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var l=t("./errors").TypeError,c=t("./util"),u=c.errorObj,d=c.tryCatch,h=[];c.inherits(s,r),s.prototype._isResolved=function(){return null===this._promise},s.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},s.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=d(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},s.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=d(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=d(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},s.prototype._continue=function(t){var n=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var i=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var r=o(i,this._promise);if(r instanceof e||null!==(r=function(t,n,i){for(var r=0;r<n.length;++r){i._pushContext();var a=d(n[r])(t);if(i._popContext(),a===u){i._pushContext();var s=e.reject(u.e);return i._popContext(),s}var l=o(a,i);if(l instanceof e)return l}return null}(r,this._yieldHandlers,this._promise))){var a=(r=r._target())._bitField;0==(50397184&a)?(this._yieldedPromise=r,r._proxy(this,null)):0!=(33554432&a)?this._promiseFulfilled(r._value()):0!=(16777216&a)?this._promiseRejected(r._reason()):this._promiseCancelled()}else this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",i)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,i=s,o=(new Error).stack;return function(){var e=t.apply(this,arguments),r=new i(void 0,void 0,n,o),a=r.promise();return r._generator=e,r._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));h.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new s(t,this),o=i.promise();return i._run(e.spawn),o}}},{"./errors":12,"./util":36}],17:[function(t,e){"use strict";e.exports=function(e,n){var i=t("./util");i.canEvaluate,i.tryCatch,i.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var i=[].slice.call(arguments);t&&i.pop();var o=new n(i).promise();return void 0!==t?o.spread(t):o}}},{"./util":36}],18:[function(t,e){"use strict";e.exports=function(e,n,i,o,r,a){function s(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var o=c();this._callback=null===o?e:o.bind(e),this._preservedValues=i===r?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,this._init$(void 0,-2)}function l(t,e,n,o){if("function"!=typeof e)return i("expecting a function but got "+u.classString(e));var r="object"==typeof n&&null!==n?n.concurrency:0;return new s(t,e,r="number"==typeof r&&isFinite(r)&&r>=1?r:0,o).promise()}var c=e._getDomain,u=t("./util"),d=u.tryCatch,h=u.errorObj,p=[];u.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var i=this._values,r=this.length(),s=this._preservedValues,l=this._limit;if(0>n){if(i[n=-1*n-1]=t,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var c=this._promise,u=this._callback,p=c._boundValue();c._pushContext();var f=d(u).call(p,t,n,r),g=c._popContext();if(a.checkForgottenReturns(f,g,null!==s?"Promise.filter":"Promise.map",c),f===h)return this._reject(f.e),!0;var m=o(f,this._promise);if(m instanceof e){var v=(m=m._target())._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,i[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);f=m._value()}i[n]=f}return++this._totalResolved>=r&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),o=0,r=0;n>r;++r)t[r]&&(i[o++]=e[r]);i.length=o,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return l(this,t,e,null)},e.map=function(t,e,n,i){return l(t,e,n,i)}}},{"./util":36}],19:[function(t,e){"use strict";e.exports=function(e,n,i,o,r){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var o=s(t).apply(this,arguments),a=i._popContext();return r.checkForgottenReturns(o,a,"Promise.method",i),i._resolveFromSyncValue(o),i}},e.attempt=e.try=function(t){if("function"!=typeof t)return o("expecting a function but got "+a.classString(t));var i,l=new e(n);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];i=a.isArray(c)?s(t).apply(u,c):s(t).call(u,c)}else i=s(t)();var d=l._popContext();return r.checkForgottenReturns(i,d,"Promise.try",l),l._resolveFromSyncValue(i),l},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e){"use strict";function n(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new r(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),o=0;o<n.length;++o){var l=n[o];s.test(l)||(e[l]=t[l])}return e}return i.markAsOriginatingFromRejection(t),t}var i=t("./util"),o=i.maybeWrapAsError,r=t("./errors").OperationalError,a=t("./es5"),s=/^(?:name|message|stack|cause)$/;e.exports=function(t,e){return function(i,r){if(null!==t){if(i){var a=n(o(i));t._attachExtraTrace(a),t._reject(a)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e){"use strict";e.exports=function(e){function n(t,e){if(!r.isArray(t))return i.call(this,t,e);var n=s(e).apply(this._boundValue(),[null].concat(t));n===l&&a.throwLater(n.e)}function i(t,e){var n=this._boundValue(),i=void 0===t?s(e).call(n,null):s(e).call(n,null,t);i===l&&a.throwLater(i.e)}function o(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var i=s(e).call(this._boundValue(),t);i===l&&a.throwLater(i.e)}var r=t("./util"),a=e._async,s=r.tryCatch,l=r.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var r=i;void 0!==e&&Object(e).spread&&(r=n),this._then(r,o,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e){"use strict";e.exports=function(){function e(){}function n(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==y&&(function(t,e){if("function"!=typeof e)throw new m("expecting a function but got "+d.classString(e));if(t.constructor!==n)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(t){this.promise._resolveCallback(t)}function o(t){this.promise._rejectCallback(t,!1)}function r(t){var e=new n(y);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var a,s=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new n.PromiseInspection(this._target())},c=function(t){return n.reject(new m(t))},u={},d=t("./util");a=d.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(n,"_getDomain",a);var h=t("./es5"),p=t("./async"),f=new p;h.defineProperty(n,"_async",{value:f});var g=t("./errors"),m=n.TypeError=g.TypeError;n.RangeError=g.RangeError;var v=n.CancellationError=g.CancellationError;n.TimeoutError=g.TimeoutError,n.OperationalError=g.OperationalError,n.RejectionError=g.OperationalError,n.AggregateError=g.AggregateError;var y=function(){},w={},b={},x=t("./thenables")(n,y),C=t("./promise_array")(n,y,x,c,e),A=t("./context")(n),D=A.create,S=t("./debuggability")(n,A),P=(S.CapturedTrace,t("./finally")(n,x)),F=t("./catch_filter")(b),I=t("./nodeback"),k=d.errorObj,L=d.tryCatch;return n.prototype.toString=function(){return"[object Promise]"},n.prototype.caught=n.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,i=new Array(e-1),o=0;for(n=0;e-1>n;++n){var r=arguments[n];if(!d.isObject(r))return c("expecting an object but got "+d.classString(r));i[o++]=r}return i.length=o,t=arguments[n],this.then(void 0,F(i,t,this))}return this.then(void 0,t)},n.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},n.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},n.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},n.prototype.spread=function(t){return"function"!=typeof t?c("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},n.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},n.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},n.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},n.is=function(t){return t instanceof n},n.fromNode=n.fromCallback=function(t){var e=new n(y);e._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,o=L(t)(I(e,i));return o===k&&e._rejectCallback(o.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},n.all=function(t){return new C(t).promise()},n.cast=function(t){var e=x(t);return e instanceof n||((e=new n(y))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},n.resolve=n.fulfilled=n.cast,n.reject=n.rejected=function(t){var e=new n(y);return e._captureStackTrace(),e._rejectCallback(t,!0),e},n.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+d.classString(t));return f.setScheduler(t)},n.prototype._then=function(t,e,i,o,r){var s=void 0!==r,l=s?r:new n(y),c=this._target(),u=c._bitField;s||(l._propagateFrom(this,3),l._captureStackTrace(),void 0===o&&0!=(2097152&this._bitField)&&(o=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,l));var d=a();if(0!=(50397184&u)){var h,p,g=c._settlePromiseCtx;0!=(33554432&u)?(p=c._rejectionHandler0,h=t):0!=(16777216&u)?(p=c._fulfillmentHandler0,h=e,c._unsetRejectionIsUnhandled()):(g=c._settlePromiseLateCancellationObserver,p=new v("late cancellation observer"),c._attachExtraTrace(p),h=e),f.invoke(g,c,{handler:null===d?h:"function"==typeof h&&d.bind(h),promise:l,receiver:o,value:p})}else c._addCallbacks(t,e,l,o,d);return l},n.prototype._length=function(){return 65535&this._bitField},n.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},n.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},n.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},n.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},n.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},n.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},n.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},n.prototype._isFinal=function(){return(4194304&this._bitField)>0},n.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},n.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},n.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},n.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===u?void 0:void 0===e&&this._isBound()?this._boundValue():e},n.prototype._promiseAt=function(t){return this[4*t-4+2]},n.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},n.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},n.prototype._boundValue=function(){},n.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,i=t._promise0,o=t._receiverAt(0);void 0===o&&(o=u),this._addCallbacks(e,n,i,o,null)},n.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),o=t._promiseAt(e),r=t._receiverAt(e);void 0===r&&(r=u),this._addCallbacks(n,i,o,r,null)},n.prototype._addCallbacks=function(t,e,n,i,o){var r=this._length();if(r>=65531&&(r=0,this._setLength(0)),0===r)this._promise0=n,this._receiver0=i,"function"==typeof t&&(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e));else{var a=4*r-4;this[a+2]=n,this[a+3]=i,"function"==typeof t&&(this[a+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[a+1]=null===o?e:o.bind(e))}return this._setLength(r+1),r},n.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},n.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(s(),!1);var i=x(t,this);if(!(i instanceof n))return this._fulfill(t);e&&this._propagateFrom(i,2);var o=i._target();if(o===this)return void this._reject(s());var r=o._bitField;if(0==(50397184&r)){var a=this._length();a>0&&o._migrateCallback0(this);for(var l=1;a>l;++l)o._migrateCallbackAt(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else if(0!=(33554432&r))this._fulfill(o._value());else if(0!=(16777216&r))this._reject(o._reason());else{var c=new v("late cancellation observer");o._attachExtraTrace(c),this._reject(c)}}},n.prototype._rejectCallback=function(t,e,n){var i=d.ensureErrorObject(t),o=i===t;if(!o&&!n&&S.warnings()){var r="a promise was rejected with a non-error: "+d.classString(t);this._warn(r,!0)}this._attachExtraTrace(i,!!e&&o),this._reject(t)},n.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==i&&e._rejectCallback(i,!0)},n.prototype._settlePromiseFromHandler=function(t,e,n,i){var o=i._bitField;if(0==(65536&o)){var r;i._pushContext(),e===w?n&&"number"==typeof n.length?r=L(t).apply(this._boundValue(),n):(r=k).e=new m("cannot .spread() a non-array: "+d.classString(n)):r=L(t).call(e,n);var a=i._popContext();0==(65536&(o=i._bitField))&&(r===b?i._reject(n):r===k?i._rejectCallback(r.e,!1):(S.checkForgottenReturns(r,a,"",i,this),i._resolveCallback(r)))}},n.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},n.prototype._followee=function(){return this._rejectionHandler0},n.prototype._setFollowee=function(t){this._rejectionHandler0=t},n.prototype._settlePromise=function(t,i,o,r){var a=t instanceof n,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),o instanceof P&&o.isFinallyHandler()?(o.cancelPromise=t,L(i).call(o,r)===k&&t._reject(k.e)):i===l?t._fulfill(l.call(o)):o instanceof e?o._promiseCancelled(t):a||t instanceof C?t._cancel():o.cancel()):"function"==typeof i?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(i,o,r,t)):i.call(o,r,t):o instanceof e?o._isResolved()||(0!=(33554432&s)?o._promiseFulfilled(r,t):o._promiseRejected(r,t)):a&&(c&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(r):t._reject(r))},n.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,i=t.promise,o=t.receiver,r=t.value;"function"==typeof e?i instanceof n?this._settlePromiseFromHandler(e,o,r,i):e.call(o,r,i):i instanceof n&&i._reject(r)},n.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},n.prototype._settlePromise0=function(t,e){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,i,e)},n.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},n.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=s();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():f.settlePromises(this))}},n.prototype._reject=function(t){var e=this._bitField;return(117506048&e)>>>16?void 0:(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?f.fatalError(t,d.isNode):void((65535&e)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()))},n.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var i=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),r=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,i,r,e)}},n.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var i=this._rejectionHandlerAt(n),o=this._promiseAt(n),r=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,i,r,e)}},n.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,t),this._fulfillPromises(e,i)}this._setLength(0)}this._clearCancellationData()},n.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},n.defer=n.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new n(y),resolve:i,reject:o}},d.notEnumerableProp(n,"_makeSelfResolutionError",s),t("./method")(n,y,x,c,S),t("./bind")(n,y,x,S),t("./cancel")(n,C,c,S),t("./direct_resolve")(n),t("./synchronous_inspection")(n),t("./join")(n,C,x,y,S),n.Promise=n,t("./map.js")(n,C,c,x,y,S),t("./call_get.js")(n),t("./using.js")(n,c,x,D,y,S),t("./timers.js")(n,y,S),t("./generators.js")(n,c,y,x,e,S),t("./nodeify.js")(n),t("./promisify.js")(n,y),t("./props.js")(n,C,x,c),t("./race.js")(n,y,x,c),t("./reduce.js")(n,C,c,x,y,S),t("./settle.js")(n,C,S),t("./some.js")(n,C,c),t("./filter.js")(n,y),t("./each.js")(n,y),t("./any.js")(n),d.toFastProperties(n),d.toFastProperties(n.prototype),r({a:1}),r({b:2}),r({c:3}),r(1),r(function(){}),r(void 0),r(!1),r(new n(y)),S.setBounds(p.firstLineError,d.lastLineError),n}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e){"use strict";e.exports=function(e,n,i,o,r){function a(t){var i=this._promise=new e(n);t instanceof e&&i._propagateFrom(t,3),i._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./util");return s.isArray,s.inherits(a,r),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,r){var a=i(this._values,this._promise);if(a instanceof e){var l=(a=a._target())._bitField;if(this._values=a,0==(50397184&l))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,r);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))return 0===a.length?void(-5===r?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{}}}(r))):void this._iterate(a);var c=o("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(c,!1)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,r=!1,a=null,s=0;n>s;++s){var l=i(t[s],o);l instanceof e?a=(l=l._target())._bitField:a=null,r?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):r=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):r=this._promiseFulfilled(l,s)}r||o._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e){"use strict";e.exports=function(e,n){function i(t){return!m.test(t)}function o(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function r(t,e,n){var i=c.getDataPropertyOrDefault(t,e+n,g);return!!i&&o(i)}function a(t,e,n,i){for(var a=c.inheritedDataKeys(t),s=[],l=0;l<a.length;++l){var u=a[l],d=t[u],h=i===v||v(u,d,t);"function"!=typeof d||o(d)||r(t,u,e)||!i(u,d,t,h)||s.push(u,d)}return function(t,e,n){for(var i=0;i<t.length;i+=2){var o=t[i];if(n.test(o))for(var r=o.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===r)throw new f("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}function s(t,e,n,i,o){for(var r=new RegExp(y(e)+"$"),s=a(t,e,r,n),u=0,d=s.length;d>u;u+=2){var h=s[u],p=s[u+1],f=h+e;if(i===w)t[f]=w(h,l,h,p,e,o);else{var g=i(p,function(){return w(h,l,h,p,e,o)});c.notEnumerableProp(g,"__isPromisified__",!0),t[f]=g}}return c.toFastProperties(t),t}var l={},c=t("./util"),u=t("./nodeback"),d=c.withAppended,h=c.maybeWrapAsError,p=c.canEvaluate,f=t("./errors").TypeError,g={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),v=function(t){return c.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},y=function(t){return t.replace(/([$])/,"\\$")},w=p?void 0:function(t,i,o,r,a,s){function p(){var o=i;i===l&&(o=this);var r=new e(n);r._captureStackTrace();var a="string"==typeof g&&this!==f?this[g]:t,c=u(r,s);try{a.apply(o,d(arguments,c))}catch(t){r._rejectCallback(h(t),!0,!0)}return r._isFateSealed()||r._setAsyncGuaranteed(),r}var f=function(){return this}(),g=t;return"string"==typeof g&&(t=r),c.notEnumerableProp(p,"__isPromisified__",!0),p};e.promisify=function(t,e){if("function"!=typeof t)throw new f("expecting a function but got "+c.classString(t));if(o(t))return t;var n=function(t,e,n){return w(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?l:e.context,!!e.multiArgs);return c.copyDescriptors(t,n,i),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,i=e.suffix;"string"!=typeof i&&(i="Async");var o=e.filter;"function"!=typeof o&&(o=v);var r=e.promisifier;if("function"!=typeof r&&(r=w),!c.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=c.inheritedDataKeys(t),l=0;l<a.length;++l){var u=t[a[l]];"constructor"!==a[l]&&c.isClass(u)&&(s(u.prototype,i,o,r,n),s(u,i,o,r,n))}return s(t,i,o,r,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e){"use strict";e.exports=function(e,n,i,o){function r(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=d(t),n=!0;else{var i=u.keys(t),o=i.length;e=new Array(2*o);for(var r=0;o>r;++r){var a=i[r];e[r]=t[a],e[r+o]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=i(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new r(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=t("./util"),c=l.isObject,u=t("./es5");"function"==typeof Map&&(s=Map);var d=function(){function t(t,i){this[e]=t,this[e+n]=i,e++}var e=0,n=0;return function(i){n=i.size,e=0;var o=new Array(2*i.size);return i.forEach(t,o),o}}();l.inherits(r,n),r.prototype._init=function(){},r.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new s,n=t.length/2|0,i=0;n>i;++i){var o=t[n+i],r=t[i];e.set(o,r)}return e}(this._values);else{n={};for(var i=this.length(),o=0,r=this.length();r>o;++o)n[this._values[o+i]]=this._values[o]}return this._resolve(n),!0}return!1},r.prototype.shouldCopyValues=function(){return!1},r.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e){"use strict";function n(t){this._capacity=t,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},n.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=(this._front-1&e-1^e)-e;this[n]=t,this._front=n,this._length=this.length()+1},n.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},n.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var o=this._front+i-3;this._checkCapacity(i);var r=this._capacity-1;this[o+0&r]=t,this[o+1&r]=e,this[o+2&r]=n,this._length=i},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,i,o){for(var r=0;o>r;++r)n[r+i]=t[r+e],t[r+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=n},{}],27:[function(t,e){"use strict";e.exports=function(e,n,i,o){function r(t,r){var l=i(t);if(l instanceof e)return s(l);if(null===(t=a.asArray(t)))return o("expecting an array or an iterable object but got "+a.classString(t));var c=new e(n);void 0!==r&&c._propagateFrom(r,3);for(var u=c._fulfill,d=c._reject,h=0,p=t.length;p>h;++h){var f=t[h];(void 0!==f||h in t)&&e.cast(f)._then(u,d,void 0,c,null)}return c}var a=t("./util"),s=function(t){return t.then(function(e){return r(e,t)})};e.race=function(t){return r(t,void 0)},e.prototype.race=function(){return r(this,void 0)}}},{"./util":36}],28:[function(t,e){"use strict";e.exports=function(e,n,i,o,r,a){function s(t,n,i,o){this.constructor$(t);var a=h();this._fn=null===a?n:a.bind(n),void 0!==i&&(i=e.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=o===r?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,o){return"function"!=typeof e?i("expecting a function but got "+p.classString(e)):new s(t,e,n,o).promise()}function u(t){this.accum=t,this.array._gotAccum(t);var n=o(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,i=this.array,o=i._promise,r=f(i._fn);o._pushContext(),(n=void 0!==i._eachValues?r.call(o._boundValue(),t,this.index,this.length):r.call(o._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(i._currentCancellable=n);var s=o._popContext();return a.checkForgottenReturns(n,s,void 0!==i._eachValues?"Promise.each":"Promise.reduce",o),n}var h=e._getDomain,p=t("./util"),f=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==r&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,i,o=t.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=e.resolve(t[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;o>i;++i){var r={accum:null,value:t[i],index:i,length:o,array:this};n=n._then(u,void 0,void 0,r,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,i){return c(t,e,n,i)}}},{"./util":36}],29:[function(t,e){"use strict";var n,i=t("./util"),o=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var r=global.setImmediate,a=process.nextTick;n=i.isRecentNode?function(t){r.call(global,t)}:function(t){a.call(process,t)}}else if("function"==typeof o){var s=o.resolve();n=function(t){s.then(t)}}else n="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){t.classList.toggle("foo"),n=!1}).observe(i,e);var o=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(t,e),o()}}();e.exports=n},{"./util":36}],30:[function(t,e){"use strict";e.exports=function(e,n,i){function o(t){this.constructor$(t)}var r=e.PromiseInspection;t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new r;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new r;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return i.deprecated(".settle()",".reflect()"),new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e){"use strict";e.exports=function(e,n,i){function o(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function r(t,e){if((0|e)!==e||0>e)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new o(t),r=n.promise();return n.setHowMany(e),n.init(),r}var a=t("./util"),s=t("./errors").RangeError,l=t("./errors").AggregateError,c=a.isArray,u={};a.inherits(o,n),o.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},o.prototype.init=function(){this._initialized=!0,this._init()},o.prototype.setUnwrap=function(){this._unwrap=!0},o.prototype.howMany=function(){return this._howMany},o.prototype.setHowMany=function(t){this._howMany=t},o.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values),!0)},o.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},o.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},o.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new l,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},o.prototype._fulfilled=function(){return this._totalResolved},o.prototype._rejected=function(){return this._values.length-this.length()},o.prototype._addRejected=function(t){this._values.push(t)},o.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},o.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},o.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},o.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return r(t,e)},e.prototype.some=function(t){return r(this,t)},e._SomePromiseArray=o}},{"./errors":12,"./util":36}],32:[function(t,e){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},r=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=t.prototype._isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype.isCancelled=function(){return this._target()._isCancelled()},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return r.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),i.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e){"use strict";e.exports=function(e,n){function i(t,i,a){var s=new e(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=o.tryCatch(i).call(t,function(t){s&&(s._resolveCallback(t),s=null)},function(t){s&&(s._rejectCallback(t,c,!0),s=null)});return c=!1,s&&u===r&&(s._rejectCallback(u.e,!0,!0),s=null),l}var o=t("./util"),r=o.errorObj,a=o.isObject,s={}.hasOwnProperty;return function(t,o){if(a(t)){if(t instanceof e)return t;var l=function(t){try{return function(t){return t.then}(t)}catch(t){return r.e=t,r}}(t);if(l===r){o&&o._pushContext();var c=e.reject(l.e);return o&&o._popContext(),c}if("function"==typeof l)return function(t){return s.call(t,"_promise0")}(t)?(c=new e(n),t._then(c._fulfill,c._reject,void 0,c,null),c):i(t,l,o)}return t}}},{"./util":36}],34:[function(t,e){"use strict";e.exports=function(e,n,i){function o(t){this.handle=t}function r(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),l=e.TimeoutError;o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,r){var a,s;return void 0!==r?(a=e.resolve(r)._then(c,null,null,t,void 0),i.cancellation()&&r instanceof e&&a._setOnCancel(r)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),i.cancellation()&&a._setOnCancel(new o(s))),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return u(t,this)};var d=function(t,e,n){var i;i="string"!=typeof e?e instanceof Error?e:new l("operation timed out"):new l(e),s.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._reject(i),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,l=new o(setTimeout(function(){n.isPending()&&d(n,e,s)},t));return i.cancellation()?(s=this.then(),(n=s._then(r,a,void 0,l,void 0))._setOnCancel(l)):n=this._then(r,a,void 0,l,void 0),n}}},{"./util":36}],35:[function(t,e){"use strict";e.exports=function(e,n,i,o,r,a){function s(t){setTimeout(function(){throw t},0)}function l(t,n){var o=0,a=t.length,l=new e(r);return function r(){if(o>=a)return l._fulfill();var c=function(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[o++]);if(c instanceof e&&c._isDisposable()){try{c=i(c._getDisposer().tryDispose(n),t.promise)}catch(t){return s(t)}if(c instanceof e)return c._then(r,s,null,null,null)}r()}(),l}function c(t,e,n){this._data=t,this._promise=e,this._context=n}function u(t,e,n){this.constructor$(t,e,n)}function d(t){return c.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var p=t("./util"),f=t("./errors").TypeError,g=t("./util").inherits,m=p.errorObj,v=p.tryCatch;c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},c.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},c.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},g(u,c),u.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var i=this[n];i instanceof e&&i.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var o=arguments[t-1];if("function"!=typeof o)return n("expecting a function but got "+p.classString(o));var r,s=!0;2===t&&Array.isArray(arguments[0])?(t=(r=arguments[0]).length,s=!1):(r=arguments,t--);for(var u=new h(t),f=0;t>f;++f){var g=r[f];if(c.isDisposer(g)){var y=g;(g=g.promise())._setDisposable(y)}else{var w=i(g);w instanceof e&&(g=w._then(d,null,null,{resources:u,index:f},void 0))}u[f]=g}var b=new Array(u.length);for(f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var x=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return m.e=n.error(),m;if(!n.isFulfilled())return void x.cancel();t[e]=n.value()}C._pushContext(),o=v(o);var i=s?o.apply(void 0,t):o(t),r=C._popContext();return a.checkForgottenReturns(i,r,"Promise.using",C),i}),C=x.lastly(function(){var t=new e.PromiseInspection(x);return l(u,t)});return u.promise=C,C._setOnCancel(u),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new u(t,this,o());throw new f}}},{"./errors":12,"./util":36}],36:[function(t,e){"use strict";function n(){try{var t=c;return c=null,t.apply(this,arguments)}catch(t){return h.e=t,h}}function i(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function o(t,e,n){if(i(t))return t;var o={value:n,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(t,e,o),t}function r(t){try{return t+""}catch(t){return"[no string representation]"}}function a(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function s(t){return a(t)&&u.propertyIsWritable(t,"stack")}function l(t){return{}.toString.call(t)}var c,u=t("./es5"),d="undefined"==typeof navigator,h={e:{}},p="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,f=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(u.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],o=Object.create(null);null!=t&&!e(t);){var r;try{r=n(t)}catch(t){return i}for(var a=0;a<r.length;++a){var s=r[a];if(!o[s]){o[s]=!0;var l=Object.getOwnPropertyDescriptor(t,s);null!=l&&null==l.get&&null==l.set&&i.push(s)}}t=u.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var o=[];t:for(var r in n)if(i.call(n,r))o.push(r);else{for(var a=0;a<t.length;++a)if(i.call(t[a],r))continue t;o.push(r)}return o}}(),g=/this\s*\.\s*\S+\s*=/,m=/^[a-z$_][a-z$_0-9]*$/i,v="stack"in new Error?function(t){return s(t)?t:new Error(r(t))}:function(t){if(s(t))return t;try{throw new Error(r(t))}catch(t){return t}},y=function(t){return u.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done;)n.push(e.value);return n};y=function(t){return u.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?w(t):null}}var b="undefined"!=typeof process&&"[object process]"===l(process).toLowerCase(),x={isClass:function(t){try{if("function"==typeof t){var e=u.names(t.prototype),n=u.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=g.test(t+"")&&u.names(t).length>0;if(n||i||o)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return m.test(t)},inheritedDataKeys:f,getDataPropertyOrDefault:function(t,e,n){if(!u.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(t){throw t},isArray:u.isArray,asArray:y,notEnumerableProp:o,isPrimitive:i,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:a,canEvaluate:d,errorObj:h,tryCatch:function(t){return c=t,n},inherits:function(t,e){function n(){for(var n in this.constructor=t,this.constructor$=e,e.prototype)i.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var i={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},withAppended:function(t,e){var n,i=t.length,o=new Array(i+1);for(n=0;i>n;++n)o[n]=t[n];return o[n]=e,o},maybeWrapAsError:function(t){return i(t)?new Error(r(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t},filledRange:function(t,e,n){for(var i=new Array(t),o=0;t>o;++o)i[o]=e+o+n;return i},toString:r,canAttachTrace:s,ensureErrorObject:v,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{o(t,"isOperational",!0)}catch(t){}},classString:l,copyDescriptors:function(t,e,n){for(var i=u.names(t),o=0;o<i.length;++o){var r=i[o];if(n(r))try{u.defineProperty(e,r,u.getDescriptor(t,r))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:b,env:function(t,e){return b?process.env[t]:e},global:p,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}};x.isRecentNode=x.isNode&&function(){var t=process.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),x.isNode&&x.toFastProperties(process);try{throw new Error}catch(t){x.lastLineError=t}e.exports=x},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.download=e()}(this,function(){return function t(e,n,i){function o(t){for(var e=t.split(/[:;,]/),n=e[1],i=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=i.length,r=0,a=new Uint8Array(o);o>r;++r)a[r]=i.charCodeAt(r);return new g([a],{type:n})}function r(t,e){if("download"in p)return p.href=t,p.setAttribute("download",m),p.className="download-js-link",p.innerHTML="downloading...",p.style.display="none",document.body.appendChild(p),setTimeout(function(){p.click(),document.body.removeChild(p),!0===e&&setTimeout(function(){l.URL.revokeObjectURL(p.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return t=t.replace(/^data:([\w\/\-\+]+)/,c),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,c)),n.src=t,setTimeout(function(){document.body.removeChild(n)},333)}var a,s,l=window,c="application/octet-stream",u=i||c,d=e,h=!n&&!i&&d,p=document.createElement("a"),f=function(t){return String(t)},g=l.Blob||l.MozBlob||l.WebKitBlob||f,m=n||"download";if(g=g.call?g.bind(l):Blob,"true"===String(this)&&(u=(d=[d,u])[0],d=d[1]),h&&h.length<2048&&(m=h.split("/").pop().split("?")[0],p.href=h,-1!==p.href.indexOf(h))){var v=new XMLHttpRequest;return v.open("GET",h,!0),v.responseType="blob",v.onload=function(e){t(e.target.response,m,c)},setTimeout(function(){v.send()},0),v}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(d)){if(!(d.length>2096103.424&&g!==f))return navigator.msSaveBlob?navigator.msSaveBlob(o(d),m):r(d);u=(d=o(d)).type||c}if(a=d instanceof g?d:new g([d],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(a,m);if(l.URL)r(l.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===f)try{return r("data:"+u+";base64,"+l.btoa(a))}catch(t){return r("data:"+u+","+encodeURIComponent(a))}(s=new FileReader).onload=function(){r(this.result)},s.readAsDataURL(a)}return!0}}),function(t){"use strict";if("1.6.7"!=t.fabric.version){var e=t.fabric||(t.fabric={}),n=e.util.object.extend;if(e.util.object.clone,e.CurvedText)return void e.warn("fabric.CurvedText is already defined");var i=e.Text.prototype.stateProperties.concat();i.push("radius","spacing","reverse","effect","range","largeFont","smallFont");var o=e.Text.prototype._dimensionAffectingProps.concat(["radius","spacing","reverse","fill","effect","width","height","range","fontSize","shadow","largeFont","smallFont"]),r=["backgroundColor","textBackgroundColor","textDecoration","stroke","strokeWidth","shadow","fontWeight","fontStyle","strokeWidth","textAlign"];e.CurvedText=e.util.createClass(e.Text,e.Collection,{type:"curvedText",radius:50,range:5,smallFont:10,largeFont:30,effect:"curved",spacing:20,reverse:!1,stateProperties:i,_dimensionAffectingProps:o,_isRendering:0,complexity:function(){this.callSuper("complexity")},initialize:function(t,n){n||(n={}),this.__skipDimension=!0,delete n.text,this.setOptions(n),this.__skipDimension=!1,parseFloat(e.version)>=2&&this.callSuper("initialize",t,n),this.letters=new e.Group([],{selectable:!1,padding:0}),this.setText(t)},setText:function(t){if(this.letters){for(;this.letters.size();)this.letters.remove(this.letters.item(0));for(var n=0;n<t.length;n++)void 0===this.letters.item(n)?this.letters.add(new e.Text(t[n])):this.letters.item(n).text=t[n]}this.text=t;for(n=this.letters.size();n--;){this.letters.item(n).set({objectCaching:!1,fill:this.fill,stroke:this.stroke,strokeWidth:this.strokeWidth,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontWeight:this.fontWeight,underline:this.underline,overline:this.overline,linethrough:this.linethrough,lineHeight:this.lineHeight})}this._updateLetters(),this.canvas&&this.canvas.renderAll()},_initDimensions:function(t){if(!this.__skipDimension){t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this.text.split(this._reNewline),this._clearCache();var n=this.textAlign;this.textAlign="left",this.width=this.get("width"),this.textAlign=n,this.height=this.get("height"),this._updateLetters()}},_updateLetters:function(){var t=e.util.getRandomInt(100,999);if(this._isRendering=t,this.letters&&this.text){var n=0,i=0,o=0,a=parseInt(this.spacing),s=0;if("curved"===this.effect){for(var l=0,c=this.text.length;c>l;l++)o+=this.letters.item(l).width+a;o-=a}else"arc"===this.effect&&(s=(this.letters.item(0).fontSize+a)/this.radius/(Math.PI/180),o=(this.text.length+1)*(this.letters.item(0).fontSize+a));n="right"===this.get("textAlign")?90-o/2/this.radius/(Math.PI/180):"left"===this.get("textAlign")?-90-o/2/this.radius/(Math.PI/180):-o/2/this.radius/(Math.PI/180),this.reverse&&(n=-n);var u=0,d=this.reverse?-1:1,h=0,p=0;for(l=0,c=this.text.length;c>l;l++){if(t!==this._isRendering)return;for(var f in r)this.letters.item(l).set(f,this.get(f));if(this.letters.item(l).set("left",u),this.letters.item(l).set("top",0),this.letters.item(l).set("angle",0),this.letters.item(l).set("padding",0),"curved"===this.effect)h=(this.letters.item(l).width+a)/this.radius/(Math.PI/180),i=(n=d*(d*n+p))*(Math.PI/180),p=h,this.letters.item(l).set("angle",n),this.letters.item(l).set("top",-1*d*Math.cos(i)*this.radius),this.letters.item(l).set("left",d*Math.sin(i)*this.radius),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1);else if("arc"===this.effect)i=(n=d*(d*n+s))*(Math.PI/180),this.letters.item(l).set("top",-1*d*Math.cos(i)*this.radius),this.letters.item(l).set("left",d*Math.sin(i)*this.radius),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1);else if("STRAIGHT"===this.effect)this.letters.item(l).set("left",u),this.letters.item(l).set("top",0),this.letters.item(l).set("angle",0),u+=this.letters.item(l).get("width"),this.letters.item(l).set("padding",0),this.letters.item(l).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(l).set("selectable",!1);else if("smallToLarge"===this.effect){var g=parseInt(this.smallFont),m=(w=parseInt(this.largeFont))-g,v=Math.ceil(this.text.length/2),y=g+l*(b=m/this.text.length);this.letters.item(l).set("fontSize",y),this.letters.item(l).set("left",u),u+=this.letters.item(l).get("width"),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1),this.letters.item(l).set("top",-1*this.letters.item(l).get("fontSize")+l)}else if("largeToSmallTop"===this.effect){g=parseInt(this.largeFont),m=(w=parseInt(this.smallFont))-g,v=Math.ceil(this.text.length/2),y=g+l*(b=m/this.text.length);this.letters.item(l).set("fontSize",y),this.letters.item(l).set("left",u),u+=this.letters.item(l).get("width"),this.letters.item(l).set("padding",0),this.letters.item(l).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1),this.letters.item(l).top=-1*this.letters.item(l).get("fontSize")+l/this.text.length}else if("largeToSmallBottom"===this.effect){g=parseInt(this.largeFont),m=(w=parseInt(this.smallFont))-g,v=Math.ceil(this.text.length/2),y=g+l*(b=m/this.text.length);this.letters.item(l).set("fontSize",y),this.letters.item(l).set("left",u),u+=this.letters.item(l).get("width"),this.letters.item(l).set("padding",0),this.letters.item(l).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1),this.letters.item(l).top=-1*this.letters.item(l).get("fontSize")-l}else if("bulge"===this.effect){g=parseInt(this.smallFont),m=(w=parseInt(this.largeFont))-g,v=Math.ceil(this.text.length/2);var w,b=m/(this.text.length-v);if(v>l)y=g+l*b;else y=w-(l-v+1)*b;this.letters.item(l).set("fontSize",y),this.letters.item(l).set("left",u),u+=this.letters.item(l).get("width"),this.letters.item(l).set("padding",0),this.letters.item(l).set("selectable",!1),this.letters.item(l).set("top",-1*this.letters.item(l).get("height")/2)}}var x=this.letters.get("scaleX"),C=this.letters.get("scaleY"),A=this.letters.get("angle");this.letters.set("scaleX",1),this.letters.set("scaleY",1),this.letters.set("angle",0),this.letters._calcBounds(),this.letters._updateObjectsCoords(),this.letters.set("scaleX",x),this.letters.set("scaleY",C),this.letters.set("angle",A),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-this.letters.width/2,this.letters.top=-this.letters.height/2}},render:function(t){if(this.visible&&this.letters){t.save(),this.transform(t),Math.max(this.scaleX,this.scaleY),this.clipTo&&e.util.clipContext(this,t);for(var n=0,i=this.letters.size();i>n;n++){var o=this.letters.item(n);o.borderScaleFactor,o.hasRotatingPoint,o.visible&&o.render(t)}this.clipTo&&t.restore(),t.restore(),this.setCoords()}},_set:function(t,e){if("text"!==t){if(this.callSuper("_set",t,e),this.text&&this.letters){if(-1===["angle","left","top","scaleX","scaleY","width","height"].indexOf(t))for(var n=this.letters.size();n--;)this.letters.item(n).set(t,e);-1!==this._dimensionAffectingProps.indexOf(t)&&(this._updateLetters(),this.setCoords())}}else this.setText(e)},initDimensions:function(){},toObject:function(t){var e=n(this.callSuper("toObject",t),{radius:this.radius,spacing:this.spacing,reverse:this.reverse,effect:this.effect,range:this.range,smallFont:this.smallFont,largeFont:this.largeFont});return this.includeDefaultValues||this._removeDefaultValues(e),e},toString:function(){return"#<fabric.CurvedText ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'", "radius": "'+this.radius+'", "spacing": "'+this.spacing+'", "reverse": "'+this.reverse+'" }>'},toSVG:function(t){var e=["<g ",'transform="',this.getSvgTransform(),'">'];if(this.letters)for(var n=0,i=this.letters.size();i>n;n++)e.push(this.letters.item(n).toSVG(t));return e.push("</g>"),t?t(e.join("")):e.join("")}}),e.CurvedText.fromObject=function(t,n){return e.Object._fromObject("CurvedText",t,n,"text")},e.CurvedText.async=!1}}("undefined"!=typeof exports?exports:this),function(t){"use strict";if("1.6.7"===t.fabric.version){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone;if(e.CurvedText)return void e.warn("fabric.CurvedText is already defined");var o=e.Text.prototype.stateProperties.concat();o.push("radius","spacing","reverse","effect","range","largeFont","smallFont");var r=e.Text.prototype._dimensionAffectingProps;r.radius=!0,r.spacing=!0,r.reverse=!0,r.fill=!0,r.effect=!0,r.width=!0,r.height=!0,r.range=!0,r.fontSize=!0,r.shadow=!0,r.largeFont=!0,r.smallFont=!0;var a=e.Group.prototype.delegatedProperties;a.backgroundColor=!0,a.textBackgroundColor=!0,a.textDecoration=!0,a.stroke=!0,a.strokeWidth=!0,a.shadow=!0,a.fontWeight=!0,a.fontStyle=!0,a.strokeWidth=!0,a.textAlign=!0,e.CurvedText=e.util.createClass(e.Text,e.Collection,{type:"curvedText",radius:50,range:5,smallFont:10,largeFont:30,effect:"curved",spacing:20,reverse:!1,stateProperties:o,delegatedProperties:a,_dimensionAffectingProps:r,_isRendering:0,complexity:function(){this.callSuper("complexity")},initialize:function(t,n){n||(n={}),this.letters=new e.Group([],{selectable:!1,padding:0}),this.__skipDimension=!0,this.setOptions(n),this.__skipDimension=!1,parseFloat(e.version)>=2&&this.callSuper("initialize",t,n),this.setText(t),this._render()},setText:function(t){if(this.letters){for(;0!==t.length&&this.letters.size()>=t.length;)this.letters.remove(this.letters.item(this.letters.size()-1));for(var n=0;n<t.length;n++)void 0===this.letters.item(n)?this.letters.add(new e.Text(t[n])):this.letters.item(n).setText(t[n])}this.callSuper("setText",t),this._render()},_initDimensions:function(t){if(!this.__skipDimension){t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this.text.split(this._reNewline),this._clearCache();var n=this.textAlign;this.textAlign="left",this.width=this.getWidth(),this.textAlign=n,this.height=this.getHeight(),this._render(t)}},_render:function(){var t=e.util.getRandomInt(100,999);if(this._isRendering=t,this.letters){var n=0,i=0,o=0,r=parseInt(this.spacing),a=0;if("curved"===this.effect){for(var s=0,l=this.text.length;l>s;s++)o+=this.letters.item(s).width+r;o-=r}else"arc"===this.effect&&(a=(this.letters.item(0).fontSize+r)/this.radius/(Math.PI/180),o=(this.text.length+1)*(this.letters.item(0).fontSize+r));n="right"===this.get("textAlign")?90-o/2/this.radius/(Math.PI/180):"left"===this.get("textAlign")?-90-o/2/this.radius/(Math.PI/180):-o/2/this.radius/(Math.PI/180),this.reverse&&(n=-n);var c=0,u=this.reverse?-1:1,d=0,h=0;for(s=0,l=this.text.length;l>s;s++){if(t!==this._isRendering)return;for(var p in this.delegatedProperties)this.letters.item(s).set(p,this.get(p));if(this.letters.item(s).set("left",c),this.letters.item(s).set("top",0),this.letters.item(s).setAngle(0),this.letters.item(s).set("padding",0),"curved"===this.effect)d=(this.letters.item(s).width+r)/this.radius/(Math.PI/180),i=(n=u*(u*n+h))*(Math.PI/180),h=d,this.letters.item(s).setAngle(n),this.letters.item(s).set("top",-1*u*Math.cos(i)*this.radius),this.letters.item(s).set("left",u*Math.sin(i)*this.radius),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1);else if("arc"===this.effect)i=(n=u*(u*n+a))*(Math.PI/180),this.letters.item(s).set("top",-1*u*Math.cos(i)*this.radius),this.letters.item(s).set("left",u*Math.sin(i)*this.radius),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1);else if("STRAIGHT"===this.effect)this.letters.item(s).set("left",c),this.letters.item(s).set("top",0),this.letters.item(s).setAngle(0),c+=this.letters.item(s).get("width"),this.letters.item(s).set("padding",0),this.letters.item(s).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(s).set("selectable",!1);else if("smallToLarge"===this.effect){var f=parseInt(this.smallFont),g=(y=parseInt(this.largeFont))-f,m=Math.ceil(this.text.length/2),v=f+s*(w=g/this.text.length);this.letters.item(s).set("fontSize",v),this.letters.item(s).set("left",c),c+=this.letters.item(s).get("width"),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1),this.letters.item(s).set("top",-1*this.letters.item(s).get("fontSize")+s)}else if("largeToSmallTop"===this.effect){f=parseInt(this.largeFont),g=(y=parseInt(this.smallFont))-f,m=Math.ceil(this.text.length/2),v=f+s*(w=g/this.text.length);this.letters.item(s).set("fontSize",v),this.letters.item(s).set("left",c),c+=this.letters.item(s).get("width"),this.letters.item(s).set("padding",0),this.letters.item(s).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1),this.letters.item(s).top=-1*this.letters.item(s).get("fontSize")+s/this.text.length}else if("largeToSmallBottom"===this.effect){f=parseInt(this.largeFont),g=(y=parseInt(this.smallFont))-f,m=Math.ceil(this.text.length/2),v=f+s*(w=g/this.text.length);this.letters.item(s).set("fontSize",v),this.letters.item(s).set("left",c),c+=this.letters.item(s).get("width"),this.letters.item(s).set("padding",0),this.letters.item(s).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1),this.letters.item(s).top=-1*this.letters.item(s).get("fontSize")-s}else if("bulge"===this.effect){f=parseInt(this.smallFont),g=(y=parseInt(this.largeFont))-f,m=Math.ceil(this.text.length/2);var y,w=g/(this.text.length-m);if(m>s)v=f+s*w;else v=y-(s-m+1)*w;this.letters.item(s).set("fontSize",v),this.letters.item(s).set("left",c),c+=this.letters.item(s).get("width"),this.letters.item(s).set("padding",0),this.letters.item(s).set("selectable",!1),this.letters.item(s).set("top",-1*this.letters.item(s).get("height")/2)}}var b=this.letters.get("scaleX"),x=this.letters.get("scaleY"),C=this.letters.get("angle");this.letters.set("scaleX",1),this.letters.set("scaleY",1),this.letters.set("angle",0),this.letters._calcBounds(),this.letters._updateObjectsCoords(),this.letters.set("scaleX",b),this.letters.set("scaleY",x),this.letters.set("angle",C),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-this.letters.width/2,this.letters.top=-this.letters.height/2}},_renderOld:function(){if(this.letters){var t=0,e=0,n=0,i=0;this.reverse&&(i=.5),"center"===this.get("textAlign")||"justify"===this.get("textAlign")?n=this.spacing/2*(this.text.length-i):"right"===this.get("textAlign")&&(n=this.spacing*(this.text.length-i));for(var o=this.reverse?1:-1,r=0,a=this.text.length;a>r;r++){for(var s in e=(t=o*(-r*parseInt(this.spacing,10)+n))*(Math.PI/180),this.delegatedProperties)this.letters.item(r).set(s,this.get(s));this.letters.item(r).set("top",o-Math.cos(e)*this.radius),this.letters.item(r).set("left",o+Math.sin(e)*this.radius),this.letters.item(r).setAngle(t),this.letters.item(r).set("padding",0),this.letters.item(r).set("selectable",!1)}this.letters._calcBounds(),this.letters.top=this.reverse?this.letters.top-2.5*this.height:0,this.letters.left=this.letters.left-this.width/2,this.letters.saveCoords(),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-this.letters.width/2,this.letters.top=-this.letters.height/2}},render:function(t){if(this.visible&&this.letters){t.save(),this.transform(t),Math.max(this.scaleX,this.scaleY),this.clipTo&&e.util.clipContext(this,t);for(var n=0,i=this.letters.size();i>n;n++){var o=this.letters.item(n);o.borderScaleFactor,o.hasRotatingPoint,o.visible&&o.render(t)}this.clipTo&&t.restore(),t.restore(),this.setCoords()}},_set:function(t,e){this.callSuper("_set",t,e),this.letters&&(this.letters.set(t,e),t in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords()))},toObject:function(t){var e=n(this.callSuper("toObject",t),{radius:this.radius,spacing:this.spacing,reverse:this.reverse,effect:this.effect,range:this.range,smallFont:this.smallFont,largeFont:this.largeFont});return this.includeDefaultValues||this._removeDefaultValues(e),e},toString:function(){return"#<fabric.CurvedText ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'", "radius": "'+this.radius+'", "spacing": "'+this.spacing+'", "reverse": "'+this.reverse+'" }>'},toSVG:function(t){var e=["<g ",'transform="',this.getSvgTransform(),'">'];if(this.letters)for(var n=0,i=this.letters.size();i>n;n++)e.push(this.letters.item(n).toSVG(t));return e.push("</g>"),t?t(e.join("")):e.join("")}}),e.CurvedText.fromObject=function(t){return new e.CurvedText(t.text,i(t))},e.util.createAccessors(e.CurvedText),e.CurvedText.async=!1}}("undefined"!=typeof exports?exports:this),this.JpegMeta)throw Error("Library included multiple times");var QRCode,JpegMeta={stringIsClean:function(t){for(var e=0;e<t.length;e++)if(t.charCodeAt(e)<32)return!1;return!0},parseNum:function(t,e,n,i){var o,r,a=">"===t;for(void 0===n&&(n=0),void 0===i&&(i=e.length-n),o=a?n:n+i-1;a?n+i>o:o>=n;a?o++:o--)r<<=8,r+=e.charCodeAt(o);return r},parseSnum:function(t,e,n,i){var o,r,a,s=">"===t;for(void 0===n&&(n=0),void 0===i&&(i=e.length-n),o=s?n:n+i-1;s?n+i>o:o>=n;s?o++:o--)void 0===a&&(a=128==(128&e.charCodeAt(o))),r<<=8,r+=a?255&~e.charCodeAt(o):e.charCodeAt(o);return a&&(r+=1,r*=-1),r},Rational:function(t,e){return this.num=t,this.den=e||1,this}};JpegMeta.Rational.prototype.toString=function(){return 0===this.num?""+this.num:1===this.den?""+this.num:1===this.num?this.num+" / "+this.den:this.num/this.den},JpegMeta.Rational.prototype.asFloat=function(){return this.num/this.den},JpegMeta.MetaGroup=function(t,e){return this.fieldName=t,this.description=e,this.metaProps={},this},JpegMeta.MetaGroup.prototype._addProperty=function(t,e,n){var i=new JpegMeta.MetaProp(t,e,n);this[i.fieldName]=i,this.metaProps[i.fieldName]=i},JpegMeta.MetaGroup.prototype.toString=function(){return"[MetaGroup "+this.description+"]"},JpegMeta.MetaProp=function(t,e,n){return this.fieldName=t,this.description=e,this.value=n,this},JpegMeta.MetaProp.prototype.toString=function(){return""+this.value},this.JpegMeta.JpegFile=function(t,e){var n=this._SOS;this.metaGroups={},this._binary_data=t,this.filename=e;var i,o,r,a,s=0,l=0;if(this._binary_data.slice(0,2)!==this._SOI_MARKER)throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".");for(s+=2;s<this._binary_data.length&&(i=this._binary_data.charCodeAt(s++),o=this._binary_data.charCodeAt(s++),l=s,i==this._DELIM)&&o!==n;){for(s+=JpegMeta.parseNum(">",this._binary_data,s,2);s<this._binary_data.length;)if((i=this._binary_data.charCodeAt(s++))==this._DELIM&&0!=this._binary_data.charCodeAt(s++)){s-=2;break}r=s-l,this._markers[o]?(this._markers[o][0],a=this._markers[o][1]):("UNKN",a=void 0),a&&this[a](o,l+2,r-2)}if(void 0===this.general)throw Error("Invalid JPEG file.");return this},this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"},this.JpegMeta.JpegFile.prototype._SOI_MARKER="",this.JpegMeta.JpegFile.prototype._DELIM=255,this.JpegMeta.JpegFile.prototype._EOI=217,this.JpegMeta.JpegFile.prototype._SOS=218,this.JpegMeta.JpegFile.prototype._sofHandler=function(t,e){if(void 0!==this.general)throw Error("Unexpected multiple-frame image");this._addMetaGroup("general","General"),this.general._addProperty("depth","Depth",JpegMeta.parseNum(">",this._binary_data,e,1)),this.general._addProperty("pixelHeight","Pixel Height",JpegMeta.parseNum(">",this._binary_data,e+1,2)),this.general._addProperty("pixelWidth","Pixel Width",JpegMeta.parseNum(">",this._binary_data,e+3,2)),this.general._addProperty("type","Type",this._markers[t][2])},this.JpegMeta.JpegFile.prototype._commentHandler=function(t,e,n){var i,o;for(n--,i=++e,o="";e+n>i;)o+=String.fromCharCode(this._binary_data.charCodeAt(i)),i++;this._addMetaGroup("comment","Comment"),this.comment._addProperty("comment","Comment",o)},this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\0",this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\0",this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\0",this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]},this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]},this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41989:["Focal length in 35 mm film","FocalLengthIn35mmFilm"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]},this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]},this.JpegMeta.JpegFile.prototype._iptctags={0:["Record Version","recordVersion"],3:["Object Type Reference","objectType"],4:["Object Attribute Reference","objectAttribute"],5:["Object Name","objectName"],7:["Edit Status","editStatus"],8:["Editorial Update","editorialUpdate"],10:["Urgency","urgency"],12:["Subject Reference","subjectRef"],15:["Category","category"],20:["Supplemental Category","supplCategory"],22:["Fixture Identifier","fixtureID"],25:["Keywords","keywords"],26:["Content Location Code","contentLocCode"],27:["Content Location Name","contentLocName"],30:["Release Date","releaseDate"],35:["Release Time","releaseTime"],37:["Expiration Date","expirationDate"],38:["Expiration Time","expirationTime"],40:["Special Instructions","specialInstructions"],42:["Action Advised","actionAdvised"],45:["Reference Service","refService"],47:["Reference Date","refDate"],50:["Reference Number","refNumber"],55:["Date Created","dateCreated"],60:["Time Created","timeCreated"],62:["Digital Creation Date","digitalCreationDate"],63:["Digital Creation Time","digitalCreationTime"],65:["Originating Program","originatingProgram"],70:["Program Version","programVersion"],75:["Object Cycle","objectCycle"],80:["By-line","byline"],85:["By-line Title","bylineTitle"],90:["City","city"],92:["Sub-location","sublocation"],95:["Province/State","state"],100:["Country Code","countryCode"],101:["Country Name","countryName"],103:["Original Transmission Reference","origTransRef"],105:["Headline","headline"],110:["Credit","credit"],115:["Source","source"],116:["Copyright Notice","copyrightNotice"],118:["Contact","contact"],120:["Caption/Abstract","caption"],122:["Writer/Editor","writerEditor"],125:["Rasterized Caption","rasterizedCaption"],130:["Image Type","imageType"],131:["Image Orientation","imageOrientation"],135:["Language Identifier","languageID"],150:["Audio Type","audioType"],151:["Audio Sampling Rate","audioSamplingRate"],152:["Audio Sampling Resolution","audioSamplingRes"],153:["Audio Duration","audioDuration"],154:["Audio Outcue","audioOutcue"],200:["Preview File Format","previewFileFormat"],201:["Preview File Format Version","previewFileFormatVer"],202:["Preview Data","previewData"]},this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count 0"],209:["RST1",null,"Restart with modulo 8 count 1"],210:["RST2",null,"Restart with modulo 8 count 2"],211:["RST3",null,"Restart with modulo 8 count 3"],212:["RST4",null,"Restart with modulo 8 count 4"],213:["RST5",null,"Restart with modulo 8 count 5"],214:["RST6",null,"Restart with modulo 8 count 6"],215:["RST7",null,"Restart with modulo 8 count 7"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["IPTC","_iptcHandler","IPTC Photo Metadata"],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM","_commentHandler","Comment"],1:["JPG13",null]},this.JpegMeta.JpegFile.prototype._addMetaGroup=function(t,e){var n=new JpegMeta.MetaGroup(t,e);return this[n.fieldName]=n,this.metaGroups[n.fieldName]=n,n},this.JpegMeta.JpegFile.prototype._parseIfd=function(t,e,n,i,o,r,a){var s,l,c,u,d,h,p,f,g,m,v,y=JpegMeta.parseNum(t,e,n+i,2);v=this._addMetaGroup(r,a);for(var w=0;y>w;w++)if(s=n+i+2+12*w,l=JpegMeta.parseNum(t,e,s,2),u=JpegMeta.parseNum(t,e,s+2,2),h=JpegMeta.parseNum(t,e,s+4,4),p=JpegMeta.parseNum(t,e,s+8,4),void 0!==this._types[u]){if(c=this._types[u][0],p=4>=(d=this._types[u][1])*h?s+8:n+p,"UNDEFINED"==c)f=void 0;else if("ASCII"==c)f=(f=e.slice(p,p+h)).split("\0")[0],JpegMeta.stringIsClean(f)||(f="");else{f=new Array;for(var b=0;h>b;b++,p+=d)("BYTE"==c||"SHORT"==c||"LONG"==c)&&f.push(JpegMeta.parseNum(t,e,p,d)),("SBYTE"==c||"SSHORT"==c||"SLONG"==c)&&f.push(JpegMeta.parseSnum(t,e,p,d)),"RATIONAL"==c&&(g=JpegMeta.parseNum(t,e,p,4),m=JpegMeta.parseNum(t,e,p+4,4),f.push(new JpegMeta.Rational(g,m))),"SRATIONAL"==c&&(g=JpegMeta.parseSnum(t,e,p,4),m=JpegMeta.parseSnum(t,e,p+4,4),f.push(new JpegMeta.Rational(g,m))),f.push();1===h&&(f=f[0])}o.hasOwnProperty(l)?v._addProperty(o[l][1],o[l][0],f):console.log("WARNING(jpegmeta.js): Unknown tag: ",l)}},this.JpegMeta.JpegFile.prototype._jfifHandler=function(t,e){if(void 0!==this.jfif)throw Error("Multiple JFIF segments found");this._addMetaGroup("jfif","JFIF"),this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(e+5)),this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(e+6)),this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value),this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(e+7)),this.jfif._addProperty("Xdensity","X density",JpegMeta.parseNum(">",this._binary_data,e+8,2)),this.jfif._addProperty("Ydensity","Y Density",JpegMeta.parseNum(">",this._binary_data,e+10,2)),this.jfif._addProperty("Xthumbnail","X Thumbnail",JpegMeta.parseNum(">",this._binary_data,e+12,1)),this.jfif._addProperty("Ythumbnail","Y Thumbnail",JpegMeta.parseNum(">",this._binary_data,e+13,1))},this.JpegMeta.JpegFile.prototype._app0Handler=function(t,e){var n=this._binary_data.slice(e,e+5);n==this._JFIF_IDENT?this._jfifHandler(t,e):this._JFXX_IDENT},this.JpegMeta.JpegFile.prototype._app1Handler=function(t,e){this._binary_data.slice(e,e+5)==this._EXIF_IDENT&&this._exifHandler(t,e+6)},JpegMeta.JpegFile.prototype._exifHandler=function(t,e){if(void 0!==this.exif)throw new Error("Multiple JFIF segments found");var n,i,o,r=this._binary_data.slice(e,e+2);if("II"===r)n="<";else{if("MM"!==r)throw new Error("Malformed TIFF meta-data. Unknown endianess: "+r);n=">"}if(42!==(i=JpegMeta.parseNum(n,this._binary_data,e+2,2)))throw new Error("Malformed TIFF meta-data. Bad magic: "+i);if(o=JpegMeta.parseNum(n,this._binary_data,e+4,4),this._parseIfd(n,this._binary_data,e,o,this._tifftags,"tiff","TIFF"),this.tiff.ExifIfdPointer&&this._parseIfd(n,this._binary_data,e,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif"),this.tiff.GPSInfoIfdPointer){var a,s;if(this._parseIfd(n,this._binary_data,e,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS"),this.gps.GPSLatitude)a=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat(),"S"===this.gps.GPSLatitudeRef.value&&(a=-a),this.gps._addProperty("latitude","Dec. Latitude",a);if(this.gps.GPSLongitude)s=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat(),"W"===this.gps.GPSLongitudeRef.value&&(s=-s),this.gps._addProperty("longitude","Dec. Longitude",s)}},this.JpegMeta.JpegFile.prototype._iptcHandler=function(t,e,n){this._addMetaGroup("iptc","IPTC");for(var i,o,r,a,s="<",l=JpegMeta.parseNum(s,this._binary_data,e+4,1),c=0;n>c;c++)if(o=e+c,2==JpegMeta.parseNum(s,this._binary_data,o,1)){if(a=JpegMeta.parseNum(s,this._binary_data,o+1,1),tag_desc=this._iptctags[a],!tag_desc)continue;for(l=0,i=2;n>i&&28!=JpegMeta.parseNum(s,this._binary_data,o+i,1)&&2!=JpegMeta.parseNum(s,this._binary_data,o+i+1,1);)i++,l++;if(!l)continue;r=(r=this._binary_data.slice(e+c+2,e+c+2+l)).replace("\0","").trim(),this.iptc._addProperty(tag_desc[1],tag_desc[0],r),c+=l-1}},"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t){var e={init:function(e,n){var i=this;i.elem=n,i.$elem=t(n),i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src"),i.options=t.extend({},t.fn.elevateZoom.options,e),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),t("#"+i.options.gallery+" a").click(function(e){return i.options.galleryActiveClass&&(t("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),t(this).addClass(i.options.galleryActiveClass)),e.preventDefault(),i.zoomImagePre=t(this).data(t(this).data("zoom-image")?"zoom-image":"image"),i.swaptheimage(t(this).data("image"),i.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,n=new Image;n.onload=function(){e.largeWidth=n.width,e.largeHeight=n.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},n.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var n=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(n)+";margin-top: "+String(n)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(lensHeight=e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.nzHeight:String(e.options.zoomWindowHeight/e.heightRatio),lensWidth=e.largeWidth<e.options.zoomWindowWidth?e.nzWidth:e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),t("body").append(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),e.zoomWindow=isNaN(e.options.zoomWindowPosition)?t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchend",function(){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomLens.bind("touchend",function(){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),(e.lastX!==t.clientX||e.lastY!==t.clientY)&&(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),(e.lastX!==t.clientX||e.lastY!==t.clientY)&&(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){(e.lastX!==t.clientX||e.lastY!==t.clientY)&&(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){(e.lastX!==t.clientX||e.lastY!==t.clientY)&&(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){(e.lastX!==t.clientX||e.lastY!==t.clientY)&&(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.zoomLevel,e.minZoomLevel=e.options.minZoomLevel?e.options.minZoomLevel:2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(n){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var i=n.originalEvent.wheelDelta||-1*n.originalEvent.detail;return n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),i/120>0?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){var e=this;return!!e.options.zoomEnabled&&("show"==t&&e.isWindowSet&&("inner"==e.options.zoomType&&e.showHideWindow("show"),"window"==e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&e.showHideLens("show"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("show")),void("hide"==t&&("window"==e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.showHideTint("hide"))))},setPosition:function(t){var e=this;return!!e.options.zoomEnabled&&(e.nzHeight=e.$elem.height(),e.nzWidth=e.$elem.width(),e.nzOffset=e.$elem.offset(),e.options.tint&&"inner"!=e.options.zoomType&&(e.zoomTint.css({top:0}),e.zoomTint.css({left:0})),e.options.responsive&&!e.options.scrollZoom&&e.options.showLens&&(lensHeight=e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.nzHeight:String(e.options.zoomWindowHeight/e.heightRatio),lensWidth=e.largeWidth<e.options.zoomWindowWidth?e.nzWidth:e.options.zoomWindowWidth/e.widthRatio,e.widthRatio=e.largeWidth/e.nzWidth,e.heightRatio=e.largeHeight/e.nzHeight,"lens"!=e.options.zoomType&&(lensHeight=e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.nzHeight:String(e.options.zoomWindowHeight/e.heightRatio),lensWidth=e.nzWidth<e.options.zoomWindowHeight/e.heightRatio?e.nzWidth:String(e.options.zoomWindowWidth/e.widthRatio),e.zoomLens.css("width",lensWidth),e.zoomLens.css("height",lensHeight),e.options.tint&&(e.zoomTintImage.css("width",e.nzWidth),e.zoomTintImage.css("height",e.nzHeight))),"lens"==e.options.zoomType&&e.zoomLens.css({width:String(e.options.lensSize)+"px",height:String(e.options.lensSize)+"px"})),e.zoomContainer.css({top:e.nzOffset.top}),e.zoomContainer.css({left:e.nzOffset.left}),e.mouseLeft=parseInt(t.pageX-e.nzOffset.left),e.mouseTop=parseInt(t.pageY-e.nzOffset.top),"window"==e.options.zoomType&&(e.Etoppos=e.mouseTop<e.zoomLens.height()/2,e.Eboppos=e.mouseTop>e.nzHeight-e.zoomLens.height()/2-2*e.options.lensBorderSize,e.Eloppos=e.mouseLeft<0+e.zoomLens.width()/2,e.Eroppos=e.mouseLeft>e.nzWidth-e.zoomLens.width()/2-2*e.options.lensBorderSize),"inner"==e.options.zoomType&&(e.Etoppos=e.mouseTop<e.nzHeight/2/e.heightRatio,e.Eboppos=e.mouseTop>e.nzHeight-e.nzHeight/2/e.heightRatio,e.Eloppos=e.mouseLeft<0+e.nzWidth/2/e.widthRatio,e.Eroppos=e.mouseLeft>e.nzWidth-e.nzWidth/2/e.widthRatio-2*e.options.lensBorderSize),e.mouseLeft<0||e.mouseTop<0||e.mouseLeft>e.nzWidth||e.mouseTop>e.nzHeight?void e.setElements("hide"):(e.options.showLens&&(e.lensLeftPos=String(Math.floor(e.mouseLeft-e.zoomLens.width()/2)),e.lensTopPos=String(Math.floor(e.mouseTop-e.zoomLens.height()/2))),e.Etoppos&&(e.lensTopPos=0),e.Eloppos&&(e.windowLeftPos=0,e.lensLeftPos=0,e.tintpos=0),"window"==e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-e.zoomLens.height()-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.zoomLens.width()-2*e.options.lensBorderSize)),"inner"==e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.nzWidth-2*e.options.lensBorderSize)),"lens"==e.options.zoomType&&(e.windowLeftPos=String(-1*((t.pageX-e.nzOffset.left)*e.widthRatio-e.zoomLens.width()/2)),e.windowTopPos=String(-1*((t.pageY-e.nzOffset.top)*e.heightRatio-e.zoomLens.height()/2)),e.zoomLens.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"}),e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"==e.options.zoomType&&e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"}),e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})):("lens"==e.options.zoomType&&e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"}),e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})),e.changeBgSize=!1),e.setWindowPostition(t)),e.options.tint&&"inner"!=e.options.zoomType&&e.setTintPosition(t),"window"==e.options.zoomType&&e.setWindowPostition(t),"inner"==e.options.zoomType&&e.setWindowPostition(t),void(e.options.showLens&&(e.fullwidth&&"lens"!=e.options.zoomType&&(e.lensLeftPos=0),e.zoomLens.css({left:e.lensLeftPos+"px",top:e.lensTopPos+"px"})))))},showHideWindow:function(t){var e=this;"show"==t&&(e.isWindowActive||(e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0)),"hide"==t&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(t){var e=this;"show"==t&&(e.isLensActive||(e.options.lensFadeIn?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show(),e.isLensActive=!0)),"hide"==t&&e.isLensActive&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide(),e.isLensActive=!1)},showHideTint:function(t){var e=this;"show"==t&&(e.isTintActive||(e.options.zoomTintFadeIn?e.zoomTint.css({opacity:e.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css({opacity:e.options.tintOpacity}).animate(),e.zoomTint.show()),e.isTintActive=!0)),"hide"==t&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPostition:function(){},setWindowPostition:function(e){var n=this;if(isNaN(n.options.zoomWindowPosition))n.externalContainer=t("#"+n.options.zoomWindowPosition),n.externalContainerWidth=n.externalContainer.width(),n.externalContainerHeight=n.externalContainer.height(),n.externalContainerOffset=n.externalContainer.offset(),n.windowOffsetTop=n.externalContainerOffset.top,n.windowOffsetLeft=n.externalContainerOffset.left;else switch(n.options.zoomWindowPosition){case 1:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=+n.nzWidth;break;case 2:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=n.nzWidth);break;case 3:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=n.nzWidth;break;case 4:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth;break;case 5:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 6:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 7:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=0;break;case 8:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 9:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 10:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize));break;case 11:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 12:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 13:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=0;break;case 14:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 15:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 16:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth;break;default:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=n.nzWidth}n.isWindowSet=!0,n.windowOffsetTop=n.windowOffsetTop+n.options.zoomWindowOffety,n.windowOffsetLeft=n.windowOffsetLeft+n.options.zoomWindowOffetx,n.zoomWindow.css({top:n.windowOffsetTop}),n.zoomWindow.css({left:n.windowOffsetLeft}),"inner"==n.options.zoomType&&(n.zoomWindow.css({top:0}),n.zoomWindow.css({left:0})),n.windowLeftPos=String(-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2)),n.windowTopPos=String(-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2)),n.Etoppos&&(n.windowTopPos=0),n.Eloppos&&(n.windowLeftPos=0),n.Eboppos&&(n.windowTopPos=-1*(n.largeHeight/n.currentZoomLevel-n.zoomWindow.height())),n.Eroppos&&(n.windowLeftPos=-1*(n.largeWidth/n.currentZoomLevel-n.zoomWindow.width())),n.fullheight&&(n.windowTopPos=0),n.fullwidth&&(n.windowLeftPos=0),("window"==n.options.zoomType||"inner"==n.options.zoomType)&&(1==n.zoomLock&&(n.widthRatio<=1&&(n.windowLeftPos=0),n.heightRatio<=1&&(n.windowTopPos=0)),"window"==n.options.zoomType&&(n.largeHeight<n.options.zoomWindowHeight&&(n.windowTopPos=0),n.largeWidth<n.options.zoomWindowWidth&&(n.windowLeftPos=0)),n.options.easing?(n.xp||(n.xp=0),n.yp||(n.yp=0),n.loop||(n.loop=setInterval(function(){n.xp+=(n.windowLeftPos-n.xp)/n.options.easingAmount,n.yp+=(n.windowTopPos-n.yp)/n.options.easingAmount,n.scrollingLock?(clearInterval(n.loop),n.xp=n.windowLeftPos,n.yp=n.windowTopPos,n.xp=-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2),n.yp=-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2),n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.scrollingLock=!1,n.loop=!1):Math.round(Math.abs(n.xp-n.windowLeftPos)+Math.abs(n.yp-n.windowTopPos))<1?(clearInterval(n.loop),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.loop=!1):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.xp+"px "+n.yp+"px"}))},16))):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.zoomWindow.css(n.largeHeight/n.newvaluewidth<n.options.zoomWindowHeight?{"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}:{"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"})))},setTintPosition:function(t){var e=this;e.nzOffset=e.$elem.offset(),e.tintpos=String(-1*(t.pageX-e.nzOffset.left-e.zoomLens.width()/2)),e.tintposy=String(-1*(t.pageY-e.nzOffset.top-e.zoomLens.height()/2)),e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=-1*(e.nzHeight-e.zoomLens.height()-2*e.options.lensBorderSize)),e.Eroppos&&(e.tintpos=-1*(e.nzWidth-e.zoomLens.width()-2*e.options.lensBorderSize)),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos+"px"}),e.zoomTintImage.css({top:e.tintposy+"px"}))},swaptheimage:function(e,n){var i=this,o=new Image;i.options.loadingIcon&&(i.spinner=t("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),o.onload=function(){i.largeWidth=o.width,i.largeHeight=o.height,i.zoomImage=n,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(e,n)},o.src=n},swapAction:function(e,n){var i=this,o=new Image;if(o.onload=function(){i.nzHeight=o.height,i.nzWidth=o.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},o.src=e,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+n+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),i.currentImage=n,i.options.imageCrossfade){var r=i.$elem,a=r.clone();if(i.$elem.attr("src",e),i.$elem.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),r.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var s=i.zoomTintImage,l=s.clone();i.zoomTintImage.attr("src",n),i.zoomTintImage.after(l),l.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),s.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"==i.options.zoomType&&(i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",e),i.options.tint&&(i.zoomTintImage.attr("src",n),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){var t=this;t.options.loadingIcon&&t.spinner.hide(),t.nzOffset=t.$elem.offset(),t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.currentZoomLevel=t.options.zoomLevel,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,"window"==t.options.zoomType&&(lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),lensWidth=t.options.zoomWindowWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.zoomLens&&(t.zoomLens.css("width",lensWidth),t.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var n="";t(this).data("zoom-image")?n=t(this).data("zoom-image"):t(this).data("image")&&(n=t(this).data("image")),n==e.zoomImage?e.gallerylist.unshift({href:""+n,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+n,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){var e=this;e.scrollingLock=!0,e.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),maxwidthtnewvalue=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth),"inner"!=e.options.zoomType&&(maxheightnewvalue<=newvalue?(e.heightRatio=e.largeHeight/maxheightnewvalue/e.nzHeight,e.newvalueheight=maxheightnewvalue,e.fullheight=!0):(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,e.newvalueheight=newvalue,e.fullheight=!1),maxwidthtnewvalue<=newvalue?(e.widthRatio=e.largeWidth/maxwidthtnewvalue/e.nzWidth,e.newvaluewidth=maxwidthtnewvalue,e.fullwidth=!0):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1),"lens"==e.options.zoomType&&(maxheightnewvalue<=newvalue?(e.fullwidth=!0,e.newvaluewidth=maxheightnewvalue):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1))),"inner"==e.options.zoomType&&(maxheightnewvalue=parseFloat(e.largeHeight/e.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(e.largeWidth/e.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,e.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,e.fullheight=!0):(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,e.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,e.fullheight=!1),maxwidthtnewvalue<=newvalue?(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,e.fullwidth=!0):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1)),scrcontinue=!1,"inner"==e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,e.fullheight=!0,e.fullwidth=!0)),e.nzHeight>e.nzWidth&&(e.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,e.fullheight=!0,e.fullwidth=!0))),"inner"!=e.options.zoomType&&(scrcontinue=!0),scrcontinue&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({height:String(e.options.zoomWindowHeight/e.heightRatio)+"px"})),("lens"==e.options.zoomType||"inner"==e.options.zoomType)&&(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!=e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({width:String(e.options.zoomWindowWidth/e.widthRatio)+"px"})),("lens"==e.options.zoomType||"inner"==e.options.zoomType)&&(e.changeBgSize=!0)),"inner"==e.options.zoomType&&(e.changeBgSize=!0,e.nzWidth>e.nzHeight&&(e.currentZoomLevel=e.newvaluewidth),e.nzHeight>e.nzWidth&&(e.currentZoomLevel=e.newvaluewidth))),e.setPosition(e.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(n){return this.each(function(){var i=Object.create(e);i.init(n,this),t.data(this,"elevateZoom",i)})},t.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){var e,n,i;e="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",e||(n?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var e,n="mCustomScrollbar",i="mCS",o=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(e){var e=t.extend(!0,{},r,e),n=h.call(this);if(e.live){var l=e.liveSelector||this.selector||o,c=t(l);if("off"===e.live)return void f(l);s[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":g(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=m(e.scrollButtons.scrollType),p(e),t(n).each(function(){var n=t(this);if(!n.data(i)){n.data(i,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data(i),r=o.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(r.axis=s),l&&(r.scrollbarPosition=l),c&&(r.theme=c,p(r)),v.call(this),o&&r.callbacks.onCreate&&"function"==typeof r.callbacks.onCreate&&r.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+u[2]+")").addClass(u[2]),d.update.call(null,n)}})},update:function(e,n){var o=e||h.call(this);return t(o).each(function(){var e=t(this);if(e.data(i)){var o=e.data(i),r=o.opt,a=t("#mCSB_"+o.idx+"_container"),s=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&Y(e),n&&o&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this),e.hasClass(u[3])&&e.removeClass(u[3]),e.hasClass(u[4])&&e.removeClass(u[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),w.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",y(a)),o.overflowed=D.call(this),I.call(this),r.autoDraggerLength&&x.call(this),C.call(this),P.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==r.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?S.call(this):(J(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(S.call(this),"y"===r.axis?F.call(this):"yx"===r.axis&&o.overflowed[1]&&J(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?S.call(this):(J(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(S.call(this),"x"===r.axis?F.call(this):"yx"===r.axis&&o.overflowed[0]&&J(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),G.call(this)}})},scrollTo:function(e,n){if(void 0!==e&&null!=e){var o=h.call(this);return t(o).each(function(){var o=t(this);if(o.data(i)){var r=o.data(i),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},s,n),c=q.call(this,e),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=V.call(this,c[0],"y"),c[1]=V.call(this,c[1],"x"),l.moveDragger&&(c[0]*=r.scrollRatio.y,c[1]*=r.scrollRatio.x),l.dur=it()?0:u,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&r.overflowed[0]&&(l.dir="y",l.overwrite="all",J(o,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&r.overflowed[1]&&(l.dir="x",l.overwrite="none",J(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=h.call(this);return t(e).each(function(){var e=t(this);e.data(i)&&Y(e)})},disable:function(e){var n=h.call(this);return t(n).each(function(){var n=t(this);n.data(i)&&(n.data(i),G.call(this,"remove"),F.call(this),e&&S.call(this),I.call(this,!0),n.addClass(u[3]))})},destroy:function(){var e=h.call(this);return t(e).each(function(){var o=t(this);if(o.data(i)){var r=o.data(i),a=r.opt,s=t("#mCSB_"+r.idx),l=t("#mCSB_"+r.idx+"_container"),c=t(".mCSB_"+r.idx+"_scrollbar");a.live&&f(a.liveSelector||t(e).selector),G.call(this,"remove"),F.call(this),S.call(this),o.removeData(i),K(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),s.replaceWith(l.contents()),o.removeClass(n+" _"+i+"_"+r.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},h=function(){return"object"!=typeof t(this)||t(this).length<1?o:this},p=function(e){e.autoDraggerLength=!(t.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,["minimal","minimal-dark"])>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,["minimal","minimal-dark"])>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,["minimal","minimal-dark"])>-1?"outside":e.scrollbarPosition},f=function(t){s[t]&&(clearTimeout(s[t]),K(s,t))},g=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},m=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),o=e.data(i),r=o.opt,a=r.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],d="yx"===r.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=r.autoHideScrollbar?" "+u[6]:"",p="x"!==r.axis&&"rtl"===o.langDir?" "+u[7]:"";r.setWidth&&e.css("width",r.setWidth),r.setHeight&&e.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===o.langDir?"989999px":r.setLeft,e.addClass(n+" _"+i+"_"+o.idx+h+p).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+o.langDir+"' /></div>");var f=t("#mCSB_"+o.idx),g=t("#mCSB_"+o.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||g.css("width",y(g)),"outside"===r.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),g.wrap(d)),b.call(this);var m=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},y=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],i=e.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},w=function(){var e=t(this),n=e.data(i),o=n.opt,r=t("#mCSB_"+n.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(r[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&a>r.parent().width()?r.css({width:a,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var e=t(this),n=e.data(i),o=n.opt,r=t(".mCSB_"+n.idx+"_scrollbar:first"),a=et(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' "+a+" />","<a href='#' class='"+u[14]+"' "+a+" />","<a href='#' class='"+u[15]+"' "+a+" />","<a href='#' class='"+u[16]+"' "+a+" />"],l=["x"===o.axis?s[2]:s[0],"x"===o.axis?s[3]:s[1],s[2],s[3]];o.scrollButtons.enable&&r.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},x=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.height()/r.outerHeight(!1),o.width()/r.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],d=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:u,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:d,"max-width":a[1].parent().width()-10})},C=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.outerHeight(!1)-o.height(),r.outerWidth(!1)-o.width()],l=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:l[0],x:l[1]}},A=function(t,e,n){var i=n?u[0]+"_expanded":"",o=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(u[0]+" "+i),o.toggleClass(u[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(u[0]),o.removeClass(u[1])):(t.addClass(u[0]),o.addClass(u[1])))},D=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?r.height():r.outerHeight(!1),s=null==n.overflowed?r.width():r.outerWidth(!1),l=r[0].scrollHeight,c=r[0].scrollWidth;return l>a&&(a=l),c>s&&(s=c),[a>o.height(),s>o.width()]},S=function(){var e=t(this),n=e.data(i),o=n.opt,r=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(e),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),J(e,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=r.width()-a.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),a.css("left",l),s[1].css("left",dx),J(e,"_resetX")}},P=function(){var e,n=t(this),o=n.data(i),r=o.opt;o.bindEvents||(L.call(this),r.contentTouchScroll&&E.call(this),N.call(this),r.mouseWheel.enable&&function i(){e=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(e),_.call(n[0])):i()},100)}(),z.call(this),R.call(this),r.advanced.autoScrollOnFocus&&j.call(this),r.scrollButtons.enable&&U.call(this),r.keyboard.enable&&H.call(this),o.bindEvents=!0)},F=function(){var e=t(this),n=e.data(i),o=n.opt,r=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=t("#mCSB_"+n.idx+"_container");o.advanced.releaseDraggableSelectors&&s.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&s.add(t(o.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!O()||top.document)).unbind("."+r),s.each(function(){t(this).unbind("."+r)}),clearTimeout(e[0]._focusTimeout),K(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),K(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),K(l[0],"onCompleteTimeout"),n.bindEvents=!1)},I=function(e){var n=t(this),o=n.data(i),r=o.opt,a=t("#mCSB_"+o.idx+"_container_wrapper"),s=a.length?a:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==r.axis&&(o.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(u[10])):(l[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==r.axis&&(o.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(u[11])):(l[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},k=function(e){var n=e.type,i=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=O()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[e.originalEvent.pageY-i[0]+o[0],e.originalEvent.pageX-i[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[r.screenY,r.screenX,a>1]:[r.pageY,r.pageX,a>1];default:return i?[e.pageY-i[0]+o[0],e.pageX-i[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},L=function(){function e(t,e,i,o){if(p[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var r="x",l=(n[0].offsetLeft-e+o)*s.scrollRatio.x;else var r="y",l=(n[0].offsetTop-t+i)*s.scrollRatio.y;J(a,l.toString(),{dir:r,drag:!0})}var n,o,r,a=t(this),s=a.data(i),u=s.opt,d=i+"_"+s.idx,h=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],p=t("#mCSB_"+s.idx+"_container"),f=t("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?f.add(t(u.advanced.releaseDraggableSelectors)):f,m=u.advanced.extraDraggableSelectors?t(!O()||top.document).add(t(u.advanced.extraDraggableSelectors)):t(!O()||top.document);f.bind("contextmenu."+d,function(t){t.preventDefault()}).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),$(e)){c=!0,l&&(document.onselectstart=function(){return!1}),B.call(p,!1),Y(a);var i=(n=t(this)).offset(),s=k(e)[0]-i.top,d=k(e)[1]-i.left,h=n.height()+i.top,f=n.width()+i.left;h>s&&s>0&&f>d&&d>0&&(o=s,r=d),A(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+d,function(t){t.stopImmediatePropagation(),t.preventDefault();var i=n.offset(),a=k(t)[0]-i.top,s=k(t)[1]-i.left;e(o,r,a,s)}),t(document).add(m).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(t){if(n){var i=n.offset(),a=k(t)[0]-i.top,s=k(t)[1]-i.left;if(o===a&&r===s)return;e(o,r,a,s)}}).add(g).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){n&&(A(n,"active",u.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),B.call(p,!0)})},E=function(){function n(t){if(!tt(t)||c||k(t)[2])e=0;else{e=1,C=0,A=0,u=1,D.removeClass("mCS_touch_action");var n=L.offset();d=k(t)[0]-n.top,h=k(t)[1]-n.left,M=[k(t)[0],k(t)[1]]}}function o(t){if(tt(t)&&!c&&!k(t)[2]&&(P.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!A||C)&&u)){m=X();var e=I.offset(),n=k(t)[0]-e.top,i=k(t)[1]-e.left,o="mcsLinearOut";if(N.push(n),_.push(i),M[2]=Math.abs(k(t)[0]-M[0]),M[3]=Math.abs(k(t)[1]-M[1]),S.overflowed[0])var r=E[0].parent().height()-E[0].height(),a=d-n>0&&n-d>-r*S.scrollRatio.y&&(2*M[3]<M[2]||"yx"===P.axis);if(S.overflowed[1])var s=E[1].parent().width()-E[1].width(),p=h-i>0&&i-h>-s*S.scrollRatio.x&&(2*M[2]<M[3]||"yx"===P.axis);a||p?(R||t.preventDefault(),C=1):(A=1,D.addClass("mCS_touch_action")),R&&t.preventDefault(),b="yx"===P.axis?[d-n,h-i]:"x"===P.axis?[null,h-i]:[d-n,null],L[0].idleTimer=250,S.overflowed[0]&&l(b[0],T,o,"y","all",!0),S.overflowed[1]&&l(b[1],T,o,"x",B,!0)}}function r(t){if(!tt(t)||c||k(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),Y(D),g=X();var n=I.offset();p=k(t)[0]-n.top,f=k(t)[1]-n.left,N=[],_=[]}}function a(t){if(tt(t)&&!c&&!k(t)[2]){u=0,t.stopImmediatePropagation(),C=0,A=0,v=X();var e=I.offset(),n=k(t)[0]-e.top,i=k(t)[1]-e.left;if(!(v-m>30)){var o="mcsEaseOut",r=2.5>(w=1e3/(v-g)),a=r?[N[N.length-2],_[_.length-2]]:[0,0];y=r?[n-a[0],i-a[1]]:[n-p,i-f];var d=[Math.abs(y[0]),Math.abs(y[1])];w=r?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[w,w];var h=[Math.abs(L[0].offsetTop)-y[0]*s(d[0]/w[0],w[0]),Math.abs(L[0].offsetLeft)-y[1]*s(d[1]/w[1],w[1])];b="yx"===P.axis?[h[0],h[1]]:"x"===P.axis?[null,h[1]]:[h[0],null],x=[4*d[0]+P.scrollInertia,4*d[1]+P.scrollInertia];var D=parseInt(P.contentTouchScroll)||0;b[0]=d[0]>D?b[0]:0,b[1]=d[1]>D?b[1]:0,S.overflowed[0]&&l(b[0],x[0],o,"y",B,!1),S.overflowed[1]&&l(b[1],x[1],o,"x",B,!1)}}}function s(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function l(t,e,n,i,o,r){t&&J(D,t.toString(),{dur:e,scrollEasing:n,dir:i,overwrite:o,drag:r})}var u,d,h,p,f,g,m,v,y,w,b,x,C,A,D=t(this),S=D.data(i),P=S.opt,F=i+"_"+S.idx,I=t("#mCSB_"+S.idx),L=t("#mCSB_"+S.idx+"_container"),E=[t("#mCSB_"+S.idx+"_dragger_vertical"),t("#mCSB_"+S.idx+"_dragger_horizontal")],N=[],_=[],T=0,B="yx"===P.axis?"none":"all",M=[],z=L.find("iframe"),j=["touchstart."+F+" pointerdown."+F+" MSPointerDown."+F,"touchmove."+F+" pointermove."+F+" MSPointerMove."+F,"touchend."+F+" pointerup."+F+" MSPointerUp."+F],R=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;L.bind(j[0],function(t){n(t)}).bind(j[1],function(t){o(t)}),I.bind(j[0],function(t){r(t)}).bind(j[2],function(t){a(t)}),z.length&&z.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(j[0],function(t){n(t),r(t)}).bind(j[1],function(t){o(t)}).bind(j[2],function(t){a(t)})})})},N=function(){function n(t,e,n){l.type=n&&o?"stepped":"stepless",l.scrollAmount=10,W(r,t,e,"mcsLinearOut",n?60:null)}var o,r=t(this),a=r.data(i),s=a.opt,l=a.sequential,u=i+"_"+a.idx,d=t("#mCSB_"+a.idx+"_container"),h=d.parent();d.bind("mousedown."+u,function(){e||o||(o=1,c=!0)}).add(document).bind("mousemove."+u,function(t){if(!e&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var i=d.offset(),r=k(t)[0]-i.top+d[0].offsetTop,c=k(t)[1]-i.left+d[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?l.step&&n("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&a.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){e||(o&&(o=0,n("off",null)),c=!1)})},_=function(){function e(e,i){if(Y(n),!M(n,e.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,u=r.scrollInertia;if("x"===r.axis||"x"===r.mouseWheel.axis)var d="x",h=[Math.round(a*o.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.width()?.9*s.width():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetLeft),g=c[1][0].offsetLeft,m=c[1].parent().width()-c[1].width(),v="y"===r.mouseWheel.axis?e.deltaY||i:e.deltaX;else var d="y",h=[Math.round(a*o.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.height()?.9*s.height():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetTop),g=c[0][0].offsetTop,m=c[0].parent().height()-c[0].height(),v=e.deltaY||i;"y"===d&&!o.overflowed[0]||"x"===d&&!o.overflowed[1]||((r.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),r.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==g||0>v&&g!==m||r.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!r.mouseWheel.normalizeDelta&&(p=e.deltaFactor,u=17),J(n,(f-v*p).toString(),{dir:d,dur:u}))}}if(t(this).data(i)){var n=t(this),o=n.data(i),r=o.opt,a=i+"_"+o.idx,s=t("#mCSB_"+o.idx),c=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")],u=t("#mCSB_"+o.idx+"_container").find("iframe");u.length&&u.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,n){e(t,n)})})}),s.bind("mousewheel."+a,function(t,n){e(t,n)})}},T=new Object,O=function(e){var n=!1,i=!1,o=null;if(void 0===e?i="#empty":void 0!==t(e).attr("id")&&(i=t(e).attr("id")),!1!==i&&void 0!==T[i])return T[i];if(e){try{var r=e.contentDocument||e.contentWindow.document;o=r.body.innerHTML}catch(t){}n=null!==o}else{try{var r=top.document;o=r.body.innerHTML}catch(t){}n=null!==o}return!1!==i&&(T[i]=n),n},B=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},M=function(e,n){var o=n.nodeName.toLowerCase(),r=e.data(i).opt.mouseWheel.disableOver;return t.inArray(o,r)>-1&&!(t.inArray(o,["select","textarea"])>-1&&!t(n).is(":focus"))},z=function(){var e,n=t(this),o=n.data(i),r=i+"_"+o.idx,a=t("#mCSB_"+o.idx+"_container"),s=a.parent(),l=t(".mCSB_"+o.idx+"_scrollbar ."+u[12]);l.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(n){c=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){c=!1}).bind("click."+r,function(i){if(e&&(e=0,t(i.target).hasClass(u[12])||t(i.target).hasClass("mCSB_draggerRail"))){Y(n);var r=t(this),l=r.find(".mCSB_dragger");if(r.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",d=i.pageX>l.offset().left?-1:1,h=Math.abs(a[0].offsetLeft)-.9*d*s.width()}else{if(!o.overflowed[0])return;var c="y",d=i.pageY>l.offset().top?-1:1,h=Math.abs(a[0].offsetTop)-.9*d*s.height()}J(n,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},j=function(){var e=t(this),n=e.data(i),o=n.opt,r=i+"_"+n.idx,a=t("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+r,function(){var n=t(document.activeElement),i=a.find(".mCustomScrollBox").length;n.is(o.advanced.autoScrollOnFocus)&&(Y(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=i?17*i:0,e[0]._focusTimeout=setTimeout(function(){var t=[nt(n)[0],nt(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],r=[i[0]+t[0]>=0&&i[0]+t[0]<s.height()-n.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<s.width()-n.outerWidth(!1)],l="yx"!==o.axis||r[0]||r[1]?"all":"none";"x"===o.axis||r[0]||J(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===o.axis||r[1]||J(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},e[0]._focusTimer))})},R=function(){var e=t(this),n=e.data(i),o=i+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+o,function(){(0!==r.scrollTop()||0!==r.scrollLeft())&&t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var e=t(this),n=e.data(i),o=n.opt,r=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=t(s+">a");l.bind("contextmenu."+a,function(t){t.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(i){function a(t,n){r.scrollAmount=o.scrollButtons.scrollAmount,W(e,t,n)}if(i.preventDefault(),$(i)){var s=t(this).attr("class");switch(r.type=o.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;c=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;c=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}})},H=function(){function e(e){function i(t,e){a.type=r.keyboard.scrollType,a.scrollAmount=r.keyboard.scrollAmount,"stepped"===a.type&&o.tweenRunning||W(n,t,e)}switch(e.type){case"blur":o.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,l="on";if("x"!==r.axis&&(38===s||40===s)||"y"!==r.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(d)||(e.preventDefault(),e.stopImmediatePropagation(),i(l,s))}else if(33===s||34===s){if((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){Y(n);var h=34===s?-1:1;if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-.9*h*u.width();else var p="y",f=Math.abs(c[0].offsetTop)-.9*h*u.height();J(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!t(document.activeElement).is(d)&&((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else var p="y",f=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;J(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var n=t(this),o=n.data(i),r=o.opt,a=o.sequential,s=i+"_"+o.idx,l=t("#mCSB_"+o.idx),c=t("#mCSB_"+o.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),p=["blur."+s+" keydown."+s+" keyup."+s];h.length&&h.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},W=function(e,n,o,r,a){function s(t){c.snapAmount&&(d.scrollAmount=c.snapAmount instanceof Array?"x"===d.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==d.type,i=a||(t?n?f/1.5:g:1e3/60),o=t?n?7.5:40:2.5,u=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],p=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],m="x"===d.dir[0]?u[1]+d.dir[1]*p[1]*o:u[0]+d.dir[1]*p[0]*o,v="x"===d.dir[0]?u[1]+d.dir[1]*parseInt(d.scrollAmount):u[0]+d.dir[1]*parseInt(d.scrollAmount),y="auto"!==d.scrollAmount?v:m,w=r||(t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),b=!!t;return t&&17>i&&(y="x"===d.dir[0]?u[1]:u[0]),J(e,y.toString(),{dir:d.dir[0],scrollEasing:w,dur:i,onComplete:b}),t?void(d.dir=!1):(clearTimeout(d.step),void(d.step=setTimeout(function(){s()},i)))}var l=e.data(i),c=l.opt,d=l.sequential,h=t("#mCSB_"+l.idx+"_container"),p="stepped"===d.type,f=c.scrollInertia<26?26:c.scrollInertia,g=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(d.dir=[o===u[16]||o===u[15]||39===o||37===o?"x":"y",o===u[13]||o===u[15]||38===o||37===o?-1:1],Y(e),et(o)&&"stepped"===d.type)return;s(p);break;case"off":clearTimeout(d.step),K(d,"step"),Y(e),(p||l.tweenRunning&&d.dir)&&s(!0)}},q=function(e){var n=t(this).data(i).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===n.axis?null:e,o[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},V=function(e,n){if(null!=e&&void 0!==e){var o=t(this),r=o.data(i),a=r.opt,s=t("#mCSB_"+r.idx+"_container"),l=s.parent(),c=typeof e;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),h="x"===n?s[0].offsetLeft:s[0].offsetTop,p="x"===n?"left":"top";switch(c){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===n?nt(f)[1]:nt(f)[0];case"string":case"number":if(et(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var g=h+parseInt(e.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==e.indexOf("px")&&et(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-s.outerHeight(!1));if("right"===e)return Math.abs(l.width()-s.outerWidth(!1));if("first"===e||"last"===e){var f=s.find(":"+e);return"x"===n?nt(f)[1]:nt(f)[0]}return t(e).length?"x"===n?nt(t(e))[1]:nt(t(e))[0]:(s.css(p,e),void d.update.call(null,o[0]))}}},G=function(e){function n(t){clearTimeout(s[0].autoUpdate),d.update.call(null,o[0],t)}var o=t(this),r=o.data(i),a=r.opt,s=t("#mCSB_"+r.idx+"_container");return e?(clearTimeout(s[0].autoUpdate),void K(s[0],"autoUpdate")):void function e(){return clearTimeout(s[0].autoUpdate),0===o.parents("html").length?void(o=null):void(s[0].autoUpdate=setTimeout(function(){return a.advanced.updateOnSelectorChange&&(r.poll.change.n=function(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var t=0,e=s.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}(),r.poll.change.n!==r.poll.change.o)?(r.poll.change.o=r.poll.change.n,void n(3)):a.advanced.updateOnContentResize&&(r.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+s[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,r.poll.size.n!==r.poll.size.o)?(r.poll.size.o=r.poll.size.n,void n(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(r.poll.img.n=s.find("img").length,r.poll.img.n===r.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&e()):(r.poll.img.o=r.poll.img.n,void s.find("img").each(function(){!function(e){if(t(e).hasClass(u[2]))n();else{var i=new Image;i.onload=function(t,e){return function(){return e.apply(t,arguments)}}(i,function(){this.onload=null,t(e).addClass(u[2]),n(2)}),i.src=e.src}}(this)}))},a.advanced.autoUpdateTimeout))}()},Y=function(e){var n=e.data(i),o=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");o.each(function(){Q.call(this)})},J=function(e,n,o){function r(t){return s&&l.callbacks[t]&&"function"==typeof l.callbacks[t]}function a(){var t=[h[0].offsetTop,h[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],i=[h.outerHeight(!1),h.outerWidth(!1)],r=[d.height(),d.width()];e[0].mcs={content:h,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-r[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-r[1])),direction:o.dir}}var s=e.data(i),l=s.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=t.extend(c,o),u=[o.dur,o.drag?0:o.dur],d=t("#mCSB_"+s.idx),h=t("#mCSB_"+s.idx+"_container"),p=h.parent(),f=l.callbacks.onTotalScrollOffset?q.call(e,l.callbacks.onTotalScrollOffset):[0,0],g=l.callbacks.onTotalScrollBackOffset?q.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=o.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(t(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||s.contentReset.y||(r("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),s.contentReset.y=1),"_resetX"!==n||s.contentReset.x||(r("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),s.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!s.contentReset.y&&e[0].mcs||!s.overflowed[0]||(r("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),s.contentReset.x=null),!s.contentReset.x&&e[0].mcs||!s.overflowed[1]||(r("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),s.contentReset.x=null),l.snapAmount){var m=l.snapAmount instanceof Array?"x"===o.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount;n=function(t,e,n){return Math.round(t/e)*e-n}(n,m,l.snapOffset)}switch(o.dir){case"x":var v=t("#mCSB_"+s.idx+"_dragger_horizontal"),y="left",w=h[0].offsetLeft,b=[d.width()-h.outerWidth(!1),v.parent().width()-v.width()],x=[n,0===n?0:n/s.scrollRatio.x],C=f[1],D=g[1],S=C>0?C/s.scrollRatio.x:0,P=D>0?D/s.scrollRatio.x:0;break;case"y":var v=t("#mCSB_"+s.idx+"_dragger_vertical"),y="top",w=h[0].offsetTop,b=[d.height()-h.outerHeight(!1),v.parent().height()-v.height()],x=[n,0===n?0:n/s.scrollRatio.y],C=f[0],D=g[0],S=C>0?C/s.scrollRatio.y:0,P=D>0?D/s.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=b[1]?x=[b[0],b[1]]:x[0]=-x[0],e[0].mcs||(a(),r("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(h[0].onCompleteTimeout),Z(v[0],y,Math.round(x[1]),u[1],o.scrollEasing),(s.tweenRunning||!(0===w&&x[0]>=0||w===b[0]&&x[0]<=b[0]))&&Z(h[0],y,Math.round(x[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!s.tweenRunning&&(r("onScrollStart")&&(a(),l.callbacks.onScrollStart.call(e[0])),s.tweenRunning=!0,A(v),s.cbOffsets=[l.callbacks.alwaysTriggerOffsets||w>=b[0]+C,l.callbacks.alwaysTriggerOffsets||-D>=w])},onUpdate:function(){o.callbacks&&o.onUpdate&&r("whileScrolling")&&(a(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===l.axis&&clearTimeout(h[0].onCompleteTimeout);var t=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(a(),l.callbacks.onScroll.call(e[0])),r("onTotalScroll")&&x[1]>=b[1]-S&&s.cbOffsets[0]&&(a(),l.callbacks.onTotalScroll.call(e[0])),r("onTotalScrollBack")&&x[1]<=P&&s.cbOffsets[1]&&(a(),l.callbacks.onTotalScrollBack.call(e[0])),s.tweenRunning=!1,h[0].idleTimer=0,A(v,"hide")},t)}}})}},Z=function(t,e,n,i,o,r,a){function s(){y.stop||(g||d.call(),g=X()-f,l(),g>=y.time&&(y.time=g>y.time?g+c-(g-y.time):g+c-1,y.time<g+1&&(y.time=g+1)),y.time<i?y.id=u(s):p.call())}function l(){i>0?(y.currVal=function(t,e,n,i,o){switch(o){case"linear":case"mcsLinear":return n*t/i+e;case"mcsLinearOut":return t/=i,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return 1>(t/=i/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return 1>(t/=i/2)?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return 1>(t/=i/2)?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=i,-n*(--t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/i))+e;case"easeOut":case"mcsEaseOut":default:var r=(t/=i)*t,a=r*t;return e+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*t)}}(y.time,m,w,i,o),v[e]=Math.round(y.currVal)+"px"):v[e]=n+"px",h.call()}t._mTween||(t._mTween={top:{},left:{}});var c,u,a=a||{},d=a.onStart||function(){},h=a.onUpdate||function(){},p=a.onComplete||function(){},f=X(),g=0,m=t.offsetTop,v=t.style,y=t._mTween[e];"left"===e&&(m=t.offsetLeft);var w=n-m;y.stop=0,"none"!==r&&null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),c=1e3/60,y.time=g+c,u=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},y.id=u(s)},X=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Q=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var i=e[n];t._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[i].id):clearTimeout(t._mTween[i].id),t._mTween[i].id=null,t._mTween[i].stop=1)}},K=function(t,e){try{delete t[e]}catch(n){t[e]=null}},$=function(t){return!(t.which&&1!==t.which)},tt=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},et=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},nt=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},it=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]};t.fn[n]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[n]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[n].defaults=r,window[n]=!0,t(window).bind("load",function(){t(o)[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,i,o=t(e),r=o.parents(".mCSB_container");if(r.length)return n=r.parent(),(i=[r[0].offsetTop,r[0].offsetLeft])[0]+nt(o)[0]>=0&&i[0]+nt(o)[0]<n.height()-o.outerHeight(!1)&&i[1]+nt(o)[1]>=0&&i[1]+nt(o)[1]<n.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,i){var o,r,a,s,l=t(e),c=l.parents(".mCSB_container"),u="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],a=[c[0].offsetTop+nt(l)[0],c[0].offsetLeft+nt(l)[1]],r=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a[0]-r[0]*(s=[o[0]<r[0]?u[0]:u[1],o[1]<r[1]?u[0]:u[1]])[0][0]<0&&a[0]+o[0]-r[0]*s[0][1]>=0&&a[1]-r[1]*s[1][0]<0&&a[1]+o[1]-r[1]*s[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}),function(t,e,n){function i(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},s,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function o(e,n){var i=!0;return t.each(e,function(t){return void 0===n[t]||e[t]!==n[t]?(i=!1,!1):void 0}),i}function r(){return!c&&l}function a(){var t=(n.body||n.documentElement).style,e="transition";if("string"==typeof t[e])return!0;v=["Moz","Webkit","Khtml","O","ms"],e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof t[v[i]+e])return!0;return!1}var s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;void 0===e.$el.data("tooltipster-initialTitle")&&(void 0===(i=e.$el.attr("title"))&&(i=null),e.$el.data("tooltipster-initialTitle",i)),e._content_set(null!==e.options.content?e.options.content:i);var o=e.options.functionInit.call(e.$el,e.$el,e.Content);void 0!==o&&e._content_set(o),e.$el.removeAttr("title").addClass("tooltipstered"),!l&&e.options.iconDesktop||l&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.$elProxy=e.options.iconCloning?e.options.icon.clone(!0):e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){(!r()||e.options.touchDevices)&&(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){(!r()||e.options.touchDevices)&&(e.mouseIsOverProxy=!1)}),l&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){(!r()||e.options.touchDevices)&&e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(e,n){var i=t(n),o=i.data("tooltipster-ns");t.each(o,function(t,e){var n=i.data(e),o=n.status(),r=n.option("autoClose");"hidden"!==o&&"disappearing"!==o&&r&&n.hide()})});var o=function(){i.Status="shown",t.each(i.callbacks.show,function(t,e){e.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var r=0;"disappearing"===i.Status?(i.Status="appearing",a()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeIn(o)):"shown"===i.Status&&o()}else{i.Status="appearing";r=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var s="tooltipster-"+i.options.animation,c="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",u=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",d=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",h=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+u+" "+d+" "+h+" "+c+'"><div class="tooltipster-content"></div></div>'),a()&&i.$tooltip.addClass(s),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),a()?(i.$tooltip.addClass(s+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.css("display","none").fadeIn(i.options.speed,o),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(l&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){l&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var p=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(p)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+r))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)("shown"==e.Status||"appearing"==e.Status)&&e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;o(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?o(n.position,e.elProxyPosition.position)&&(i=!0):o(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(a()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var i=this;n&&i.callbacks.hide.push(n),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var o=function(){t.each(i.callbacks.hide,function(t,e){e.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var r=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(e).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),o()};a()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeOut(i.options.speed,r)}else"hidden"==i.Status&&o();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();0>I-n&&(r=I-n,I=n),I+l-n>a&&(r=I-(a+n-l),I=a+n-l)}function i(n,i){s.offset.top-t(e).scrollTop()-c-E-12<0&&i.indexOf("top")>-1&&(_=n),s.offset.top+s.dimension.height+c+12+E>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(_=n,L=s.offset.top-c-E-12)}var o=this;if(0!==t("body").find(o.$tooltip).length){o.$tooltip.css("width",""),o.elProxyPosition=o._repositionInfo(o.$elProxy);var r=null,a=t(e).width(),s=o.elProxyPosition,l=o.$tooltip.outerWidth(!1),c=(o.$tooltip.innerWidth(),o.$tooltip.outerHeight(!1));if(o.$elProxy.is("area")){var u=o.$elProxy.attr("shape"),d=o.$elProxy.parent().attr("name"),h=t('img[usemap="#'+d+'"]'),p=h.offset().left,f=h.offset().top,g=void 0!==o.$elProxy.attr("coords")?o.$elProxy.attr("coords").split(","):void 0;if("circle"==u){var m=parseInt(g[0]),v=parseInt(g[1]),y=parseInt(g[2]);s.dimension.height=2*y,s.dimension.width=2*y,s.offset.top=f+v-y,s.offset.left=p+m-y}else if("rect"==u){m=parseInt(g[0]),v=parseInt(g[1]);var w=parseInt(g[2]),b=parseInt(g[3]);s.dimension.height=b-v,s.dimension.width=w-m,s.offset.top=f+v,s.offset.left=p+m}else if("poly"==u){for(var x=0,C=0,A=0,D=0,S="even",P=0;P<g.length;P++){var F=parseInt(g[P]);"even"==S?(F>A&&(A=F,0===P&&(x=A)),x>F&&(x=F),S="odd"):(F>D&&(D=F,1==P&&(C=D)),C>F&&(C=F),S="even")}s.dimension.height=D-C,s.dimension.width=A-x,s.offset.top=f+C,s.offset.left=p+x}else s.dimension.height=h.outerHeight(!1),s.dimension.width=h.outerWidth(!1),s.offset.top=f,s.offset.left=p}var I=0,k=0,L=0,E=parseInt(o.options.offsetY),N=parseInt(o.options.offsetX),_=o.options.position;if("top"==_){var T=s.offset.left+l-(s.offset.left+s.dimension.width);I=s.offset.left+N-T/2,L=s.offset.top-c-E-12,n(),i("bottom","top")}if("top-left"==_&&(I=s.offset.left+N,L=s.offset.top-c-E-12,n(),i("bottom-left","top-left")),"top-right"==_&&(I=s.offset.left+s.dimension.width+N-l,L=s.offset.top-c-E-12,n(),i("bottom-right","top-right")),"bottom"==_){T=s.offset.left+l-(s.offset.left+s.dimension.width);I=s.offset.left-T/2+N,L=s.offset.top+s.dimension.height+E+12,n(),i("top","bottom")}if("bottom-left"==_&&(I=s.offset.left+N,L=s.offset.top+s.dimension.height+E+12,n(),i("top-left","bottom-left")),"bottom-right"==_&&(I=s.offset.left+s.dimension.width+N-l,L=s.offset.top+s.dimension.height+E+12,n(),i("top-right","bottom-right")),"left"==_){I=s.offset.left-N-l-12,k=s.offset.left+N+s.dimension.width+12;var O=s.offset.top+c-(s.offset.top+s.dimension.height);if(L=s.offset.top-O/2-E,0>I&&k+l>a){var B=2*parseFloat(o.$tooltip.css("border-width")),M=l+I-B;o.$tooltip.css("width",M+"px"),c=o.$tooltip.outerHeight(!1),I=s.offset.left-N-M-12-B,O=s.offset.top+c-(s.offset.top+s.dimension.height),L=s.offset.top-O/2-E}else 0>I&&(I=s.offset.left+N+s.dimension.width+12,r="left")}if("right"==_){I=s.offset.left+N+s.dimension.width+12,k=s.offset.left-N-l-12;O=s.offset.top+c-(s.offset.top+s.dimension.height);if(L=s.offset.top-O/2-E,I+l>a&&0>k){B=2*parseFloat(o.$tooltip.css("border-width")),M=a-I-B;o.$tooltip.css("width",M+"px"),c=o.$tooltip.outerHeight(!1),O=s.offset.top+c-(s.offset.top+s.dimension.height),L=s.offset.top-O/2-E}else I+l>a&&(I=s.offset.left-N-l-12,r="right")}if(o.options.arrow){var z="tooltipster-arrow-"+_;if(o.options.arrowColor.length<1)var j=o.$tooltip.css("background-color");else j=o.options.arrowColor;if(r?"left"==r?(z="tooltipster-arrow-right",r=""):"right"==r?(z="tooltipster-arrow-left",r=""):r="left:"+Math.round(r)+"px;":r="","top"==_||"top-left"==_||"top-right"==_)var R=parseFloat(o.$tooltip.css("border-bottom-width")),U=o.$tooltip.css("border-bottom-color");else if("bottom"==_||"bottom-left"==_||"bottom-right"==_)R=parseFloat(o.$tooltip.css("border-top-width")),U=o.$tooltip.css("border-top-color");else if("left"==_)R=parseFloat(o.$tooltip.css("border-right-width")),U=o.$tooltip.css("border-right-color");else if("right"==_)R=parseFloat(o.$tooltip.css("border-left-width")),U=o.$tooltip.css("border-left-color");else R=parseFloat(o.$tooltip.css("border-bottom-width")),U=o.$tooltip.css("border-bottom-color");R>1&&R++;var H="";if(0!==R){var W="",q="border-color: "+U+";";-1!==z.indexOf("bottom")?W="margin-top: -"+Math.round(R)+"px;":-1!==z.indexOf("top")?W="margin-bottom: -"+Math.round(R)+"px;":-1!==z.indexOf("left")?W="margin-right: -"+Math.round(R)+"px;":-1!==z.indexOf("right")&&(W="margin-left: -"+Math.round(R)+"px;"),H='<span class="tooltipster-arrow-border" style="'+W+" "+q+';"></span>'}o.$tooltip.find(".tooltipster-arrow").remove();var V='<div class="'+z+' tooltipster-arrow" style="'+r+'">'+H+'<span style="border-color:'+j+';"></span></div>';o.$tooltip.append(V)}o.$tooltip.css({top:Math.round(L)+"px",left:Math.round(I)+"px"})}return o},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn.tooltipster=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(s,e[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof e[0]){var o="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),i=n?t(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var r=i[e[0]](e[1],e[2]);return r!==i?(o=r,!1):void 0}),"#*$~&"!==o?o:this}var r=[],a=e[0]&&void 0!==e[0].multiple,l=a&&e[0].multiple||!a&&s.multiple,c=e[0]&&void 0!==e[0].debug,u=c&&e[0].debug||!c&&s.debug;return this.each(function(){var n=!1,o=t(this).data("tooltipster-ns"),a=null;o?l?n=!0:u&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(a=new i(this,e[0]),o||(o=[]),o.push(a.namespace),t(this).data("tooltipster-ns",o),t(this).data(a.namespace,a)),r.push(a)}),l?r:this};var l=!!("ontouchstart"in e),c=!1;t("body").one("mousemove",function(){c=!0})}(jQuery,window,document),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,o=i._mouseInit,r=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var i=t[e++]|t[e++]<<8,o=t[e++]|t[e++]<<8,r=t[e++],a=r>>7,s=1<<(7&r)+1;t[e++],t[e++];var l=null;a&&(l=e,e+=3*s);var c=!0,u=[],d=0,h=null,p=0,f=null;for(this.width=i,this.height=o;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,f=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(0===(S=t[e++]))break;e+=S}break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var g=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],0==(1&g)&&(h=null),p=g>>2&7,e++;break;case 254:for(;;){if(0===(S=t[e++]))break;e+=S}break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++],x=b>>6&1,C=l,A=!1;if(b>>7){A=!0;C=e,e+=3*(1<<(7&b)+1)}var D=e;for(e++;;){var S;if(0===(S=t[e++]))break;e+=S}u.push({x:m,y:v,width:y,height:w,has_local_palette:A,palette_offset:C,data_offset:D,data_length:e-D,transparent_index:h,interlaced:!!x,delay:d,disposal:p});break;case 59:c=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(t){if(0>t||t>=u.length)throw"Frame index out of range.";return u[t]},this.decodeAndBlitFrameBGRA=function(e,o){var r=this.frameInfo(e),a=r.width*r.height,s=new Uint8Array(a);n(t,r.data_offset,s,a);var l=r.palette_offset,c=r.transparent_index;null===c&&(c=256);var u=r.width,d=i-u,h=u,p=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),g=p,m=4*d;!0===r.interlaced&&(m+=4*(u+d)*7);for(var v=8,y=0,w=s.length;w>y;++y){var b=s[y];if(0===h&&(h=u,(g+=m)>=f&&(m=d+4*(u+d)*(v-1),g=p+(u+d)*(v<<1),v>>=1)),b===c)g+=4;else{var x=t[l+3*b],C=t[l+3*b+1],A=t[l+3*b+2];o[g++]=A,o[g++]=C,o[g++]=x,o[g++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,o){var r=this.frameInfo(e),a=r.width*r.height,s=new Uint8Array(a);n(t,r.data_offset,s,a);var l=r.palette_offset,c=r.transparent_index;null===c&&(c=256);var u=r.width,d=i-u,h=u,p=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),g=p,m=4*d;!0===r.interlaced&&(m+=4*(u+d)*7);for(var v=8,y=0,w=s.length;w>y;++y){var b=s[y];if(0===h&&(h=u,(g+=m)>=f&&(m=d+4*(u+d)*(v-1),g=p+(u+d)*(v<<1),v>>=1)),b===c)g+=4;else{var x=t[l+3*b],C=t[l+3*b+1],A=t[l+3*b+2];o[g++]=x,o[g++]=C,o[g++]=A,o[g++]=255}--h}}}function n(t,e,n,i){for(var o=t[e++],r=1<<o,a=r+1,s=a+1,l=o+1,c=(1<<l)-1,u=0,d=0,h=0,p=t[e++],f=new Int32Array(4096),g=null;;){for(;16>u&&0!==p;)d|=t[e++]<<u,u+=8,1===p?p=t[e++]:--p;if(l>u)break;var m=d&c;if(d>>=l,u-=l,m!==r){if(m===a)break;for(var v=s>m?m:g,y=0,w=v;w>r;)w=f[w]>>8,++y;var b=w;if(h+y+(v!==m?1:0)>i)return void console.log("Warning, gif stream longer than expected.");n[h++]=b;var x=h+=y;for(v!==m&&(n[h++]=b),w=v;y--;)w=f[w],n[--x]=255&w,w>>=8;null!==g&&4096>s&&(f[s++]=g<<8|b,s>=c+1&&12>l&&(++l,c=c<<1|1)),g=m}else s=a+1,c=(1<<(l=o+1))-1,g=null}return h!==i&&console.log("Warning, gif stream shorter than expected."),n}function i(t){function e(t,e){for(var n=0,i=0,o=new Array,r=1;16>=r;r++){for(var a=1;a<=t[r];a++)o[e[i]]=[],o[e[i]][0]=n,o[e[i]][1]=r,i++,n++;n*=2}return o}function n(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(F|=1<<I),n--,0>--I&&(255==F?(i(255),i(0)):i(F),I=7,F=0)}function i(t){P.push(t)}function o(t){i(t>>8&255),i(255&t)}function r(){o(65504),o(16),i(74),i(70),i(73),i(70),i(0),i(1),i(1),i(0),o(1),o(1),i(0),i(0)}function a(t,e){o(65472),o(17),i(8),o(e),o(t),i(3),i(1),i(17),i(0),i(2),i(17),i(1),i(3),i(17),i(1)}function s(){o(65499),o(132),i(0);for(var t=0;64>t;t++)i(y[t]);i(1);for(var e=0;64>e;e++)i(w[e])}function l(){o(65476),o(418),i(0);for(var t=0;16>t;t++)i(O[t+1]);for(var e=0;11>=e;e++)i(B[e]);i(16);for(var n=0;16>n;n++)i(M[n+1]);for(var r=0;161>=r;r++)i(z[r]);i(1);for(var a=0;16>a;a++)i(j[a+1]);for(var s=0;11>=s;s++)i(R[s]);i(17);for(var l=0;16>l;l++)i(U[l+1]);for(var c=0;161>=c;c++)i(H[c])}function c(){o(65498),o(12),i(3),i(1),i(0),i(2),i(17),i(3),i(17),i(0),i(63),i(0)}function u(t,e,i,o,r){for(var a,s=r[0],l=r[240],c=function(t,e){var n,i,o,r,a,s,l,c,u,d,h=0;for(u=0;8>u;++u){n=t[h],i=t[h+1],o=t[h+2],r=t[h+3],a=t[h+4],s=t[h+5],l=t[h+6];var p=n+(c=t[h+7]),f=n-c,g=i+l,m=i-l,v=o+s,y=o-s,w=r+a,b=r-a,x=p+w,C=p-w,A=g+v,S=g-v;t[h]=x+A,t[h+4]=x-A;var P=.707106781*(S+C);t[h+2]=C+P,t[h+6]=C-P;var F=.382683433*((x=b+y)-(S=m+f)),I=.5411961*x+F,k=1.306562965*S+F,L=.707106781*(A=y+m),E=f+L,N=f-L;t[h+5]=N+I,t[h+3]=N-I,t[h+1]=E+k,t[h+7]=E-k,h+=8}for(h=0,u=0;8>u;++u){n=t[h],i=t[h+8],o=t[h+16],r=t[h+24],a=t[h+32],s=t[h+40],l=t[h+48];var _=n+(c=t[h+56]),T=n-c,O=i+l,B=i-l,M=o+s,z=o-s,j=r+a,R=r-a,U=_+j,H=_-j,W=O+M,q=O-M;t[h]=U+W,t[h+32]=U-W;var V=.707106781*(q+H);t[h+16]=H+V,t[h+48]=H-V;var G=.382683433*((U=R+z)-(q=B+T)),Y=.5411961*U+G,J=1.306562965*q+G,Z=.707106781*(W=z+B),X=T+Z,Q=T-Z;t[h+40]=Q+Y,t[h+24]=Q-Y,t[h+8]=X+J,t[h+56]=X-J,h++}for(u=0;64>u;++u)d=t[u]*e[u],D[u]=d>0?d+.5|0:d-.5|0;return D}(t,e),u=0;64>u;++u)S[T[u]]=c[u];var d=S[0]-i;i=S[0],0==d?n(o[0]):(n(o[A[a=32767+d]]),n(C[a]));for(var h=63;h>0&&0==S[h];h--);if(0==h)return n(s),i;for(var p,f=1;h>=f;){for(var g=f;0==S[f]&&h>=f;++f);var m=f-g;if(m>=16){p=m>>4;for(var v=1;p>=v;++v)n(l);m&=15}a=32767+S[f],n(r[(m<<4)+A[a]]),n(C[a]),f++}return 63!=h&&n(s),i}function d(t){if(0>=t&&(t=1),t>100&&(t=100),m!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;64>n;n++){var i=v((e[n]*t+50)/100);1>i?i=1:i>255&&(i=255),y[T[n]]=i}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;64>r;r++){var a=v((o[r]*t+50)/100);1>a?a=1:a>255&&(a=255),w[T[r]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;8>c;c++)for(var u=0;8>u;u++)b[l]=1/(y[T[l]]*s[c]*s[u]*8),x[l]=1/(w[T[l]]*s[c]*s[u]*8),l++})(Math.floor(50>t?5e3/t:200-2*t)),m=t}}var h,p,f,g,m,v=Math.floor,y=new Array(64),w=new Array(64),b=new Array(64),x=new Array(64),C=new Array(65535),A=new Array(65535),D=new Array(64),S=new Array(64),P=[],F=0,I=7,k=new Array(64),L=new Array(64),E=new Array(64),N=new Array(256),_=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,e){(new Date).getTime(),e&&d(e),P=new Array,F=0,I=7,o(65496),r(),s(),a(t.width,t.height),l(),c();var i=0,m=0,v=0;F=0,I=7,this.encode.displayName="_encode_";for(var y,w,C,A,D,S,N,T,O,B=t.data,M=t.width,z=t.height,j=4*M,R=0;z>R;){for(y=0;j>y;){for(S=D=j*R+y,N=-1,T=0,O=0;64>O;O++)S=D+(T=O>>3)*j+(N=4*(7&O)),R+T>=z&&(S-=j*(R+1+T-z)),y+N>=j&&(S-=y+N-j+4),w=B[S++],C=B[S++],A=B[S++],k[O]=(_[w]+_[C+256>>0]+_[A+512>>0]>>16)-128,L[O]=(_[w+768>>0]+_[C+1024>>0]+_[A+1280>>0]>>16)-128,E[O]=(_[w+1280>>0]+_[C+1536>>0]+_[A+1792>>0]>>16)-128;i=u(k,b,i,h,f),m=u(L,x,m,p,g),v=u(E,x,v,p,g),y+=32}R+=8}if(I>=0){var U=[];U[1]=I+1,U[0]=(1<<I+1)-1,n(U)}return o(65497),new Uint8Array(P)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;256>e;e++)N[e]=t(e)}(),h=e(O,B),p=e(j,R),f=e(M,z),g=e(U,H),function(){for(var t=1,e=2,n=1;15>=n;n++){for(var i=t;e>i;i++)A[32767+i]=n,C[32767+i]=[],C[32767+i][1]=n,C[32767+i][0]=i;for(var o=-(e-1);-t>=o;o++)A[32767+o]=n,C[32767+o]=[],C[32767+o][1]=n,C[32767+o][0]=e-1+o;t<<=1,e<<=1}}(),function(){for(var t=0;256>t;t++)_[t]=19595*t,_[t+256>>0]=38470*t,_[t+512>>0]=7471*t+32768,_[t+768>>0]=-11059*t,_[t+1024>>0]=-21709*t,_[t+1280>>0]=32768*t+8421375,_[t+1536>>0]=-27439*t,_[t+1792>>0]=-5329*t}(),d(t),(new Date).getTime()}function o(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}!function(e){if("object"!==t(e.console)){e.console={};for(var n,i,o=e.console,r=function(){},a=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");n=a.pop();)o[n]||(o[n]={});for(;i=s.pop();)o[i]||(o[i]=r)}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(t){var e,n,i,o,r,a=0,s=0,c="",u=[];if(!t)return t;do{e=(r=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=r>>12&63,i=r>>6&63,o=63&r,u[s++]=l.charAt(e)+l.charAt(n)+l.charAt(i)+l.charAt(o)}while(a<t.length);c=u.join("");var d=t.length%3;return(d?c.slice(0,d-3):c)+"===".slice(d||3)}),void 0===e.atob&&(e.atob=function(t){var e,n,i,o,r,a,s=0,c=0,u=[];if(!t)return t;t+="";do{e=(a=l.indexOf(t.charAt(s++))<<18|l.indexOf(t.charAt(s++))<<12|(o=l.indexOf(t.charAt(s++)))<<6|(r=l.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,i=255&a,u[c++]=64==o?String.fromCharCode(e):64==r?String.fromCharCode(e,n):String.fromCharCode(e,n,i)}while(s<t.length);return u.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,i=new Array(n),o=arguments.length>1?arguments[1]:void 0,r=0;n>r;r++)r in e&&(i[r]=t.call(o,e[r],r,e));return i}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),i=n.length>>>0,o=0;i>o;o++)o in n&&t.call(e,n[o],o,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;n>o;){var r=e[o];if(t.call(i,r,o,e))return r;o++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length;return function(r){if("object"!==t(r)&&("function"!=typeof r||null===r))throw new TypeError;var a,s,l=[];for(a in r)e.call(r,a)&&l.push(a);if(n)for(s=0;o>s;s++)e.call(r,i[s])&&l.push(i[s]);return l}}()),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var r=function(e){function n(n){if("object"!==t(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(t,e,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(t)||(i[t]={});var o=Math.random().toString(35);return i[t][o]=[e,!!n],o},this.unsubscribe=function(t){for(var e in i)if(i[e][t])return delete i[e][t],0===Object.keys(i[e]).length&&delete i[e],!0;return!1},this.publish=function(t){if(i.hasOwnProperty(t)){var o=Array.prototype.slice.call(arguments,1),r=[];for(var a in i[t]){var s=i[t][a];try{s[0].apply(n,o)}catch(t){e.console&&console.error("jsPDF PubSub Error",t.message,t)}s[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function i(o,r,s,l){var c={},u=[],d=1;"object"===t(o)&&(o=(c=o).orientation,r=c.unit||r,s=c.format||s,l=c.compress||c.compressPdf||l,u=c.filters||(!0===l?["FlateEncode"]:u),d="number"==typeof c.userUnit?Math.abs(c.userUnit):1),r=r||"mm",o=(""+(o||"P")).toLowerCase();var h=c.putOnlyUsedFonts||!0,p={},f={internal:{},__private__:{}};f.__private__.PubSub=n;var g="1.3",m=f.__private__.getPdfVersion=function(){return g},v=(f.__private__.setPdfVersion=function(t){g=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),y=(f.__private__.getPageFormats=function(){return v},f.__private__.getPageFormat=function(t){return v[t]});"string"==typeof s&&(s=y(s)),s=s||y("a4");var w=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},b=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},x="00000000000000000000000000000000",C=f.__private__.getFileId=function(){return x},A=f.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x=t};f.setFileId=function(t){return A(t),this},f.getFileId=function(){return C()};var D,S=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=0>e?"+":"-",i=Math.floor(Math.abs(e/60)),o=Math.abs(e%60),r=[n,B(i),"'",B(o),"'"].join("");return["D:",t.getFullYear(),B(t.getMonth()+1),B(t.getDate()),B(t.getHours()),B(t.getMinutes()),B(t.getSeconds()),r].join("")},P=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,i=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),r=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,n,i,o,r,a,0)},F=f.__private__.setCreationDate=function(e){var n;if(void 0===e&&(e=new Date),"object"===t(e)&&"[object Date]"===Object.prototype.toString.call(e))n=S(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");n=e}return D=n},I=f.__private__.getCreationDate=function(t){var e=D;return"jsDate"===t&&(e=P(D)),e};f.setCreationDate=function(t){return F(t),this},f.getCreationDate=function(t){return I(t)};var k,L,E,N,_,T,O,B=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},M=!1,z=[],j=[],R=0,U=(f.__private__.setCustomOutputDestination=function(t){L=t},f.__private__.resetCustomOutputDestination=function(){L=void 0},f.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===L?M?z[k]:j:L).push(t),M||(R+=t.length+1),e}),H=f.__private__.write=function(t){return U(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},W=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n);e--;)i[e]=t.charCodeAt(e);return n},q=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],V=(f.__private__.getStandardFonts=function(){return q},c.fontSize||16),G=(f.__private__.setFontSize=f.setFontSize=function(t){return V=t,this},f.__private__.getFontSize=f.getFontSize=function(){return V}),Y=c.R2L||!1,J=(f.__private__.setR2L=f.setR2L=function(t){return Y=t,this},f.__private__.getR2L=f.getR2L=function(){return Y},f.__private__.setZoomMode=function(t){if(/^\d*\.?\d*\%$/.test(t))E=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');E=t}else E=parseInt(t,10)}),Z=(f.__private__.getZoomMode=function(){return E},f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');N=t}),X=(f.__private__.getPageMode=function(){return N},f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');_=t}),Q=(f.__private__.getLayoutMode=function(){return _},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return J(t),X(e),Z(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),K=(f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Q[t]},f.__private__.getDocumentProperties=function(){return Q},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in Q)Q.hasOwnProperty(e)&&t[e]&&(Q[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Q[t]=e},0),$=[],tt={},et={},nt=0,it=[],ot=[],rt=new n(f),at=c.hotfixes||[],st=f.__private__.newObject=function(){var t=lt();return ct(t,!0),t},lt=f.__private__.newObjectDeferred=function(){return $[++K]=function(){return R},K},ct=function(t,e){return e="boolean"==typeof e&&e,$[t]=R,e&&U(t+" 0 obj"),t},ut=f.__private__.newAdditionalObject=function(){var t={objId:lt(),content:""};return ot.push(t),t},dt=lt(),ht=lt(),pt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var i="#",o=0;3>o;o++)i+=("0"+Math.floor(255*parseFloat(e[o])).toString(16)).slice(-2);return i},ft=f.__private__.encodeColorString=function(e){var n;"string"==typeof e&&(e={ch1:e});var i=e.ch1,o=e.ch2,r=e.ch3,a=e.ch4,s=(e.precision,"draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof i&&"#"!==i.charAt(0)){var l=new RGBColor(i);if(l.ok)i=l.toHex();else if(!/^\d*\.?\d*$/.test(i))throw new Error('Invalid color "'+i+'" passed to jsPDF.encodeColorString.')}if("string"==typeof i&&/^#[0-9A-Fa-f]{3}$/.test(i)&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),"string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i)){var c=parseInt(i.substr(1),16);i=c>>16&255,o=c>>8&255,r=255&c}if(void 0===o||void 0===a&&i===o&&o===r)if("string"==typeof i)n=i+" "+s[0];else switch(e.precision){case 2:n=w(i/255)+" "+s[0];break;case 3:default:n=b(i/255)+" "+s[0]}else if(void 0===a||"object"===t(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.000","1.000","1.000",s[1]].join(" ");if("string"==typeof i)n=[i,o,r,s[1]].join(" ");else switch(e.precision){case 2:n=[w(i/255),w(o/255),w(r/255),s[1]].join(" ");break;default:case 3:n=[b(i/255),b(o/255),b(r/255),s[1]].join(" ")}}else if("string"==typeof i)n=[i,o,r,a,s[2]].join(" ");else switch(e.precision){case 2:n=[w(i/255),w(o/255),w(r/255),w(a/255),s[2]].join(" ");break;case 3:default:n=[b(i/255),b(o/255),b(r/255),b(a/255),s[2]].join(" ")}return n},gt=f.__private__.getFilters=function(){return u},mt=f.__private__.putStream=function(t){var e,n=(t=t||{}).data||"",o=t.filters||gt(),r=t.alreadyAppliedFilters||[],a=t.addLength1||!1,s=n.length;!0===o&&(o=["FlateEncode"]);var l=t.additionalKeyValues||[],c=(e=void 0!==i.API.processDataByFilters?i.API.processDataByFilters(n,o):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());0!==e.data.length&&(l.push({key:"Length",value:e.data.length}),!0===a&&l.push({key:"Length1",value:s})),0!=c.length&&l.push(c.split("/").length-1==1?{key:"Filter",value:c}:{key:"Filter",value:"["+c+"]"}),U("<<");for(var u=0;u<l.length;u++)U("/"+l[u].key+" "+l[u].value);U(">>"),0!==e.data.length&&(U("stream"),U(e.data),U("endstream"))},vt=f.__private__.putPage=function(t){var e=(t.mediaBox,t.number),n=t.data,i=t.objId,o=t.contentsObjId;ct(i,!0),it[k].mediaBox.topRightX,it[k].mediaBox.bottomLeftX,it[k].mediaBox.topRightY,it[k].mediaBox.bottomLeftY,U("<</Type /Page"),U("/Parent "+t.rootDictionaryObjId+" 0 R"),U("/Resources "+t.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(w(t.mediaBox.bottomLeftX))+" "+parseFloat(w(t.mediaBox.bottomLeftY))+" "+w(t.mediaBox.topRightX)+" "+w(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&U("/CropBox ["+w(t.cropBox.bottomLeftX)+" "+w(t.cropBox.bottomLeftY)+" "+w(t.cropBox.topRightX)+" "+w(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&U("/BleedBox ["+w(t.bleedBox.bottomLeftX)+" "+w(t.bleedBox.bottomLeftY)+" "+w(t.bleedBox.topRightX)+" "+w(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&U("/TrimBox ["+w(t.trimBox.bottomLeftX)+" "+w(t.trimBox.bottomLeftY)+" "+w(t.trimBox.topRightX)+" "+w(t.trimBox.topRightY)+"]"),null!==t.artBox&&U("/ArtBox ["+w(t.artBox.bottomLeftX)+" "+w(t.artBox.bottomLeftY)+" "+w(t.artBox.topRightX)+" "+w(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&U("/UserUnit "+t.userUnit),rt.publish("putPage",{objId:i,pageContext:it[e],pageNumber:e,page:n}),U("/Contents "+o+" 0 R"),U(">>"),U("endobj");var r=n.join("\n");return ct(o,!0),mt({data:r,filters:gt()}),U("endobj"),i},yt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;nt>=t;t++)it[t].objId=lt(),it[t].contentsObjId=lt();for(t=1;nt>=t;t++)n.push(vt({number:t,data:z[t],objId:it[t].objId,contentsObjId:it[t].contentsObjId,mediaBox:it[t].mediaBox,cropBox:it[t].cropBox,bleedBox:it[t].bleedBox,trimBox:it[t].trimBox,artBox:it[t].artBox,userUnit:it[t].userUnit,rootDictionaryObjId:dt,resourceDictionaryObjId:ht}));ct(dt,!0),U("<</Type /Pages");var i="/Kids [";for(e=0;nt>e;e++)i+=n[e]+" 0 R ";U(i+"]"),U("/Count "+nt),U(">>"),U("endobj"),rt.publish("postPutPages")},wt=function(t){rt.publish("putFont",{font:t,out:U,newObject:st,putStream:mt}),!0!==t.isAlreadyPutted&&(t.objectNumber=st(),U("<<"),U("/Type /Font"),U("/BaseFont /"+t.postScriptName),U("/Subtype /Type1"),"string"==typeof t.encoding&&U("/Encoding /"+t.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},bt=function(){(function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===h||!0===h&&p.hasOwnProperty(t))&&wt(tt[t])})(),rt.publish("putResources"),ct(ht,!0),U("<<"),function(){for(var t in U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),U("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===h||!0===h&&p.hasOwnProperty(t))&&U("/"+t+" "+tt[t].objectNumber+" 0 R");U(">>"),U("/XObject <<"),rt.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj"),rt.publish("postPutResources")},xt=function(t,e,n){et.hasOwnProperty(e)||(et[e]={}),et[e][n]=t},Ct=function(t,e,n,i,o){o=o||!1;var r="F"+(Object.keys(tt).length+1).toString(10),a={id:r,postScriptName:t,fontName:e,fontStyle:n,encoding:i,isStandardFont:o,metadata:{}};return rt.publish("addFont",{font:a,instance:this}),void 0!==r&&(tt[r]=a,xt(r,e,n)),r},At=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var n,i,o,r,a,s,l,c,u;if(o=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&tt[T].metadata&&tt[T].metadata[o]&&tt[T].metadata[o].encoding&&(r=tt[T].metadata[o].encoding,!a&&tt[T].encoding&&(a=tt[T].encoding),!a&&r.codePages&&(a=r.codePages[0]),"string"==typeof a&&(a=r[a]),a)){for(l=!1,s=[],n=0,i=t.length;i>n;n++)c=a[t.charCodeAt(n)],s.push(c?String.fromCharCode(c):t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,i=t.length;i>n;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dt=f.__private__.beginPage=function(t,e){var n,i="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(n=y(t.toLowerCase()))&&(t=n[0],e=n[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=s[0],e=s[1]),i){switch(i.substr(0,1)){case"l":e>t&&(i="s");break;case"p":t>e&&(i="s")}"s"===i&&(n=t,t=e,e=n)}(t>14400||e>14400)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),s=[t,e],M=!0,z[++nt]=[],it[nt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},Pt(nt)},St=function(){Dt.apply(this,arguments),Vt(qt),U($t),0!==re&&U(re+" J"),0!==se&&U(se+" j"),rt.publish("addPage",{pageNumber:nt})},Pt=function(t){t>0&&nt>=t&&(k=t)},Ft=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return z.length-1},It=function(t,e,n){var i,o=void 0;return n=n||{},t=void 0!==t?t:tt[T].fontName,e=void 0!==e?e:tt[T].fontStyle,i=t.toLowerCase(),void 0!==et[i]&&void 0!==et[i][e]?o=et[i][e]:void 0!==et[t]&&void 0!==et[t][e]?o=et[t][e]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),o||n.noFallback||null==(o=et.times[e])&&(o=et.times.normal),o},kt=f.__private__.putInfo=function(){for(var t in st(),U("<<"),U("/Producer (jsPDF "+i.version+")"),Q)Q.hasOwnProperty(t)&&Q[t]&&U("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+At(Q[t])+")");U("/CreationDate ("+D+")"),U(">>"),U("endobj")},Lt=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||dt;switch(st(),U("<<"),U("/Type /Catalog"),U("/Pages "+e+" 0 R"),E||(E="fullwidth"),E){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+E;"%"===n.substr(n.length-1)&&(E=parseInt(E)/100),"number"==typeof E&&U("/OpenAction [3 0 R /XYZ null null "+w(E)+"]")}switch(_||(_="continuous"),_){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}N&&U("/PageMode /"+N),rt.publish("putCatalog"),U(">>"),U("endobj")},Et=f.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(K+1)),U("/Root "+K+" 0 R"),U("/Info "+(K-1)+" 0 R"),U("/ID [ <"+x+"> <"+x+"> ]"),U(">>")},Nt=f.__private__.putHeader=function(){U("%PDF-"+g),U("%")},_t=f.__private__.putXRef=function(){var t=1,e="0000000000";for(U("xref"),U("0 "+(K+1)),U("0000000000 65535 f "),t=1;K>=t;t++){var n=$[t];U("function"==typeof n?(e+$[t]()).slice(-10)+" 00000 n ":void 0!==$[t]?(e+$[t]).slice(-10)+" 00000 n ":"0000000000 00000 n ")}},Tt=f.__private__.buildDocument=function(){M=!1,K=0,R=0,j=[],$=[],ot=[],dt=lt(),ht=lt(),rt.publish("buildDocument"),Nt(),yt(),function(){rt.publish("putAdditionalObjects");for(var t=0;t<ot.length;t++){var e=ot[t];ct(e.objId,!0),U(e.content),U("endobj")}rt.publish("postPutAdditionalObjects")}(),bt(),kt(),Lt();var t=R;return _t(),Et(),U("startxref"),U(""+t),U("%%EOF"),M=!0,j.join("\n")},Ot=f.__private__.getBlob=function(t){return new Blob([W(t)],{type:"application/pdf"})},Bt=f.output=f.__private__.output=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(t){var n=t.stack||"";~n.indexOf(" at ")&&(n=n.split(" at ")[1]);var i="Error in function "+n.split("\n")[0].split("<")[0]+": "+t.message;if(!e.console)throw new Error(i);e.console.error(i,t),e.alert&&alert(i)}},t.foo.bar=t,t.foo}(function(t,n){n=n||{};var i=Tt();switch("string"==typeof n?n={filename:n}:n.filename=n.filename||"generated.pdf",t){case void 0:return i;case"save":f.save(n.filename);break;case"arraybuffer":return W(i);case"blob":return Ot(i);case"bloburi":case"bloburl":if(void 0!==e.URL&&"function"==typeof e.URL.createObjectURL)return e.URL&&e.URL.createObjectURL(Ot(i))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+n.filename+";base64,"+btoa(i);case"dataurlnewwindow":var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',r=e.open();if(null!==r&&r.document.write(o),r||"undefined"==typeof safari)return r;case"datauri":case"dataurl":return e.document.location.href="data:application/pdf;filename="+n.filename+";base64,"+btoa(i);default:return null}}),Mt=function(t){return!0===Array.isArray(at)&&at.indexOf(t)>-1};switch(r){case"pt":O=1;break;case"mm":O=72/25.4;break;case"cm":O=72/2.54;break;case"in":O=72;break;case"px":O=1==Mt("px_scaling")?.75:96/72;break;case"pc":case"em":O=12;break;case"ex":O=6;break;default:throw new Error("Invalid unit: "+r)}F(),A();var zt=f.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[t].objId,pageNumber:t,pageContext:it[t]}},jt=f.__private__.getPageInfoByObjId=function(t){for(var e in it)if(it[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return zt(e)},Rt=f.__private__.getCurrentPageInfo=function(){return{objId:it[k].objId,pageNumber:k,pageContext:it[k]}};f.addPage=function(){return St.apply(this,arguments),this},f.setPage=function(){return Pt.apply(this,arguments),this},f.insertPage=function(t){return this.addPage(),this.movePage(k,t),this},f.movePage=function(t,e){if(t>e){for(var n=z[t],i=it[t],o=t;o>e;o--)z[o]=z[o-1],it[o]=it[o-1];z[e]=n,it[e]=i,this.setPage(e)}else if(e>t){for(n=z[t],i=it[t],o=t;e>o;o++)z[o]=z[o+1],it[o]=it[o+1];z[e]=n,it[e]=i,this.setPage(e)}return this},f.deletePage=function(){return function(t){t>0&&nt>=t&&(z.splice(t,1),k>--nt&&(k=nt),this.setPage(k))}.apply(this,arguments),this};var Ut=(f.__private__.text=f.text=function(e,n,i,o){function r(t){return t=t.split("\t").join(Array(o.TabLen||9).join(" ")),At(t,c)}function a(t){for(var e,n=t.concat(),i=[],o=n.length;o--;)e=n.shift(),i.push("string"==typeof e?e:Array.isArray(t)&&1===e.length?e[0]:[e[0],e[1],e[2]]);return i}function s(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var i,o,r=t.concat(),a=[],s=r.length;s--;)"string"==typeof(i=r.shift())?a.push(e(i)[0]):Array.isArray(i)&&"string"===i[0]&&(o=e(i[0],i[1],i[2]),a.push([o[0],o[1],o[2]]));n=a}return n}var l;"number"!=typeof e||"number"!=typeof n||"string"!=typeof i&&!Array.isArray(i)||(l=i,i=n,n=e,e=l);var c=arguments[3],u=arguments[4],d=arguments[5];if(("object"!==t(c)||null===c)&&("string"==typeof u&&(d=u,u=null),"string"==typeof c&&(d=c,c=null),"number"==typeof c&&(u=c,c=null),o={flags:c,angle:u,align:d}),(c=c||{}).noBOM=c.noBOM||!0,c.autoencode=c.autoencode||!0,isNaN(n)||isNaN(i)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var h,f="",g="number"==typeof o.lineHeightFactor?o.lineHeightFactor:Wt,m=o.scope||this,v=!1,y=!0;if("string"==typeof e)v=!0;else if(Array.isArray(e)){for(var x,C=e.concat(),A=[],D=C.length;D--;)("string"!=typeof(x=C.shift())||Array.isArray(x)&&"string"!=typeof x[0])&&(y=!1);v=y}if(!1===v)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');var S=tt[T].encoding;("WinAnsiEncoding"===S||"StandardEncoding"===S)&&(e=s(e,function(t,e,n){return[r(t),e,n]})),"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var P=V/m.internal.scaleFactor,F=P*(Wt-1);switch(o.baseline){case"bottom":i-=F;break;case"top":i+=P-F;break;case"hanging":i+=P-2*F;break;case"middle":i+=P/2-F}(W=o.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,W):"[object Array]"===Object.prototype.toString.call(e)&&(e=m.splitTextToSize(e.join(" "),W)));var I={text:e,x:n,y:i,options:o,mutex:{pdfEscape:At,activeFontKey:T,fonts:tt,activeFontSize:V}};rt.publish("preProcessText",I),e=I.text;u=(o=I.options).angle;var k=m.internal.scaleFactor,L=[];if(u){u*=Math.PI/180;var E=Math.cos(u),N=Math.sin(u);L=[w(E),w(N),w(-1*N),w(E)]}void 0!==(H=o.charSpace)&&(f+=b(H*k)+" Tc\n");var _=(o.lang,-1),O=void 0!==o.renderingMode?o.renderingMode:o.stroke,B=m.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":_=0;break;case 1:case!0:case"stroke":_=1;break;case 2:case"fillThenStroke":_=2;break;case 3:case"invisible":_=3;break;case 4:case"fillAndAddForClipping":_=4;break;case 5:case"strokeAndAddPathForClipping":_=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_=6;break;case 7:case"addToPathForClipping":_=7}var M=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==_?f+=_+" Tr\n":-1!==M&&(f+="0 Tr\n"),-1!==_&&(B.usedRenderingMode=_);d=o.align||"left";var z=V*g,j=m.internal.pageSize.getWidth(),R=(k=m.internal.scaleFactor,tt[T]),H=o.charSpace||ie,W=o.maxWidth||0,q=(c={},[]);if("[object Array]"===Object.prototype.toString.call(e)){var G,J;A=a(e);"left"!==d&&(J=A.map(function(t){return m.getStringUnitWidth(t,{font:R,charSpace:H,fontSize:V})*V/k}));var Z,X=Math.max.apply(Math,J),Q=0;if("right"===d){n-=J[0],e=[];var K=0;for(D=A.length;D>K;K++)X-J[K],0===K?(Z=Zt(n),G=Xt(i)):(Z=(Q-J[K])*k,G=-z),e.push([A[K],Z,G]),Q=J[K]}else if("center"===d){n-=J[0]/2,e=[];for(K=0,D=A.length;D>K;K++)(X-J[K])/2,0===K?(Z=Zt(n),G=Xt(i)):(Z=(Q-J[K])/2*k,G=-z),e.push([A[K],Z,G]),Q=J[K]}else if("left"===d){e=[];for(K=0,D=A.length;D>K;K++)G=0===K?Xt(i):-z,Z=0===K?Zt(n):0,e.push(A[K])}else{if("justify"!==d)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[];for(W=0!==W?W:j,K=0,D=A.length;D>K;K++)G=0===K?Xt(i):-z,Z=0===K?Zt(n):0,D-1>K&&q.push(((W-J[K])/(A[K].split(" ").length-1)*k).toFixed(2)),e.push([A[K],Z,G])}}!0===("boolean"==typeof o.R2L?o.R2L:Y)&&(e=s(e,function(t,e,n){return[t.split("").reverse().join(""),e,n]}));I={text:e,x:n,y:i,options:o,mutex:{pdfEscape:At,activeFontKey:T,fonts:tt,activeFontSize:V}};rt.publish("postProcessText",I),e=I.text,h=I.mutex.isHex;A=a(e);e=[];var $,et,nt,it=0,ot=(D=A.length,"");for(K=0;D>K;K++)ot="",Array.isArray(A[K])?($=parseFloat(A[K][1]),et=parseFloat(A[K][2]),nt=(h?"<":"(")+A[K][0]+(h?">":")"),it=1):($=Zt(n),et=Xt(i),nt=(h?"<":"(")+A[K]+(h?">":")")),void 0!==q&&void 0!==q[K]&&(ot=q[K]+" Tw\n"),e.push(0!==L.length&&0===K?ot+L.join(" ")+" "+$.toFixed(2)+" "+et.toFixed(2)+" Tm\n"+nt:1===it||0===it&&0===K?ot+$.toFixed(2)+" "+et.toFixed(2)+" Td\n"+nt:ot+nt);e=e.join(0===it?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var at="BT\n/"+T+" "+V+" Tf\n"+(V*g).toFixed(2)+" TL\n"+ee+"\n";return at+=f,at+=e,U(at+="ET"),p[T]=!0,m},f.__private__.lstext=f.lstext=function(t,e,n,i){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,n,{charSpace:i})},f.__private__.clip=f.clip=function(t){U("evenodd"===t?"W*":"W"),U("n")},f.__private__.clip_fixed=f.clip_fixed=function(t){console.log("clip_fixed is deprecated"),f.clip(t)},f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e}),Ht=f.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":("f"===t||"f*"===t||"B"===t||"B*"===t)&&(e=t),e};f.__private__.line=f.line=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-t,i-e]],t,e)},f.__private__.lines=f.lines=function(t,e,n,i,o,r){var a,s,l,c,u,d,h,p,f,g,m,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),i=i||[1,1],r=r||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(i)||!Ut(o)||"boolean"!=typeof r)throw new Error("Invalid arguments passed to jsPDF.lines");for(U(b(Zt(e))+" "+b(Xt(n))+" m "),a=i[0],s=i[1],c=t.length,g=e,m=n,l=0;c>l;l++)2===(u=t[l]).length?(g=u[0]*a+g,m=u[1]*s+m,U(b(Zt(g))+" "+b(Xt(m))+" l")):(d=u[0]*a+g,h=u[1]*s+m,p=u[2]*a+g,f=u[3]*s+m,g=u[4]*a+g,m=u[5]*s+m,U(b(Zt(d))+" "+b(Xt(h))+" "+b(Zt(p))+" "+b(Xt(f))+" "+b(Zt(g))+" "+b(Xt(m))+" c"));return r&&U(" h"),null!==o&&U(Ht(o)),this},f.__private__.rect=f.rect=function(t,e,n,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||!Ut(o))throw new Error("Invalid arguments passed to jsPDF.rect");return U([w(Zt(t)),w(Xt(e)),w(n*O),w(-i*O),"re"].join(" ")),null!==o&&U(Ht(o)),this},f.__private__.triangle=f.triangle=function(t,e,n,i,o,r,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r)||!Ut(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,i-e],[o-n,r-i],[t-o,e-r]],t,e,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,i,o,r,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r)||!Ut(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*o,0],[o*s,0,o,r-r*s,o,r],[0,i-2*r],[0,r*s,-o*s,r,-o,r],[2*o-n,0],[-o*s,0,-o,-r*s,-o,-r],[0,2*r-i],[0,-r*s,o*s,-r,o,-r]],t+o,e,[1,1],a),this},f.__private__.ellipse=f.ellipse=function(t,e,n,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||!Ut(o))throw new Error("Invalid arguments passed to jsPDF.ellipse");var r=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*i;return U([w(Zt(t+n)),w(Xt(e)),"m",w(Zt(t+n)),w(Xt(e-a)),w(Zt(t+r)),w(Xt(e-i)),w(Zt(t)),w(Xt(e-i)),"c"].join(" ")),U([w(Zt(t-r)),w(Xt(e-i)),w(Zt(t-n)),w(Xt(e-a)),w(Zt(t-n)),w(Xt(e)),"c"].join(" ")),U([w(Zt(t-n)),w(Xt(e+a)),w(Zt(t-r)),w(Xt(e+i)),w(Zt(t)),w(Xt(e+i)),"c"].join(" ")),U([w(Zt(t+r)),w(Xt(e+i)),w(Zt(t+n)),w(Xt(e+a)),w(Zt(t+n)),w(Xt(e)),"c"].join(" ")),null!==o&&U(Ht(o)),this},f.__private__.circle=f.circle=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ut(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,i)},f.setFont=function(t,e){return T=It(t,e,{disableWarning:!1}),this},f.setFontStyle=f.setFontType=function(t){return T=It(void 0,t),this},f.__private__.getFontList=f.getFontList=function(){var t,e,n,i={};for(t in et)if(et.hasOwnProperty(t))for(e in i[t]=n=[],et[t])et[t].hasOwnProperty(e)&&n.push(e);return i},f.addFont=function(t,e,n,i){Ct.call(this,t,e,n,i=i||"Identity-H")};var Wt,qt=c.lineWidth||.200025,Vt=f.__private__.setLineWidth=f.setLineWidth=function(t){return U((t*O).toFixed(2)+" w"),this},Gt=(f.__private__.setLineDash=i.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return(t*O).toFixed(3)}).join(" "),e=parseFloat((e*O).toFixed(3)),U("["+t+"] "+e+" d"),this},f.__private__.getLineHeight=f.getLineHeight=function(){return V*Wt}),Yt=(Gt=f.__private__.getLineHeight=f.getLineHeight=function(){return V*Wt},f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Wt=t),this}),Jt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Wt};Yt(c.lineHeight);var Zt=f.__private__.getHorizontalCoordinate=function(t){return t*O},Xt=f.__private__.getVerticalCoordinate=function(t){return it[k].mediaBox.topRightY-it[k].mediaBox.bottomLeftY-t*O},Qt=f.__private__.getHorizontalCoordinateString=function(t){return w(t*O)},Kt=f.__private__.getVerticalCoordinateString=function(t){return w(it[k].mediaBox.topRightY-it[k].mediaBox.bottomLeftY-t*O)},$t=c.strokeColor||"0 G",te=(f.__private__.getStrokeColor=f.getDrawColor=function(){return pt($t)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,i){return $t=ft({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),U($t),this},c.fillColor||"0 g"),ee=(f.__private__.getFillColor=f.getFillColor=function(){return pt(te)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,i){return te=ft({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),U(te),this},c.textColor||"0 g"),ne=f.__private__.getTextColor=f.getTextColor=function(){return pt(ee)},ie=(f.__private__.setTextColor=f.setTextColor=function(t,e,n,i){return ee=ft({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this},c.charSpace||0),oe=f.__private__.getCharSpace=f.getCharSpace=function(){return ie},re=(f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ie=t,this},0);f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};var ae,se=(f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return re=e,U(e+" J"),this},0);for(var le in f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return se=e,U(e+" j"),this},f.__private__.setMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return ae=parseFloat(w(t*O)),U(ae+" M"),this},f.save=function(t,n){return t=t||"generated.pdf",(n=n||{}).returnPromise=n.returnPromise||!1,!1!==n.returnPromise?new Promise(function(n,i){try{var o=a(Ot(Tt()),t);"function"==typeof a.unload&&e.setTimeout&&setTimeout(a.unload,911),n(o)}catch(t){i(t.message)}}):(a(Ot(Tt()),t),void("function"==typeof a.unload&&e.setTimeout&&setTimeout(a.unload,911)))},i.API)i.API.hasOwnProperty(le)&&("events"===le&&i.API.events.length?function(t,e){var n,i,o;for(o=e.length-1;-1!==o;o--)n=e[o][0],i=e[o][1],t.subscribe.apply(t,[n].concat("function"==typeof i?[i]:i))}(rt,i.API.events):f[le]=i.API[le]);return f.internal={pdfEscape:At,getStyle:Ht,getFont:function(){return tt[It.apply(f,arguments)]},getFontSize:G,getCharSpace:oe,getTextColor:ne,getLineHeight:Gt,getLineHeightFactor:Jt,write:H,getHorizontalCoordinate:Zt,getVerticalCoordinate:Xt,getCoordinateString:Qt,getVerticalCoordinateString:Kt,collections:{},newObject:st,newAdditionalObject:ut,newObjectDeferred:lt,newObjectDeferredBegin:ct,getFilters:gt,putStream:mt,events:rt,scaleFactor:O,pageSize:{getWidth:function(){return(it[k].mediaBox.topRightX-it[k].mediaBox.bottomLeftX)/O},setWidth:function(t){it[k].mediaBox.topRightX=t*O+it[k].mediaBox.bottomLeftX},getHeight:function(){return(it[k].mediaBox.topRightY-it[k].mediaBox.bottomLeftY)/O},setHeight:function(t){it[k].mediaBox.topRightY=t*O+it[k].mediaBox.bottomLeftY}},output:Bt,getNumberOfPages:Ft,pages:z,out:U,f2:w,f3:b,getPageInfo:zt,getPageInfoByObjId:jt,getCurrentPageInfo:Rt,getPDFVersion:m,hasHotfix:Mt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return(it[k].mediaBox.topRightX-it[k].mediaBox.bottomLeftX)/O},set:function(t){it[k].mediaBox.topRightX=t*O+it[k].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return(it[k].mediaBox.topRightY-it[k].mediaBox.bottomLeftY)/O},set:function(t){it[k].mediaBox.topRightY=t*O+it[k].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=q.length;n>e;e++){var i=Ct(t[e][0],t[e][1],t[e][2],q[e][3],!0);p[i]=!0;var o=t[e][0].split("-");xt(i,o[0],o[1]||"")}rt.publish("addFonts",{fonts:tt,dictionary:et})}(q),T="F1",St(s,o),rt.publish("initialized"),f}return i.API={events:[]},i.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?(module.exports=i,module.exports.jsPDF=i):e.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());window.tmp=r,function(e,n){var i,o=1,r=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},a=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},s=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},l=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};e.__acroform__={};var c=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},u=function(t){return t*o},d=function(t){return t/o},h=function(t){var e=new T,n=J.internal.getHeight(t)||0,i=J.internal.getWidth(t)||0;return e.BBox=[0,0,Number(s(i)),Number(s(n))],e},p=e.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},f=e.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=e.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},m=e.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},v=e.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(t,e-1)},y=e.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return f(t,e-1)},w=e.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,i=t[0],o=t[1],r=t[2],a=t[3],l={};return l.lowerLeft_X=e(i)||0,l.lowerLeft_Y=n(o+a)||0,l.upperRight_X=e(i+r)||0,l.upperRight_Y=n(o)||0,[Number(s(l.lowerLeft_X)),Number(s(l.lowerLeft_Y)),Number(s(l.upperRight_X)),Number(s(l.upperRight_Y))]},b=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t.V||t.DV,o=x(t,n),r=i.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.__private__.encodeColorString(t.color)),e.push("/"+r+" "+s(o.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=new h(t);return a.stream=e.join("\n"),a}},x=function(t,e){var n=t.maxFontSize||12,o=(t.fontName,{text:"",fontSize:""}),a=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),l=(i.__private__.encodeColorString(t.color),n),c=J.internal.getHeight(t)||0;c=0>c?-c:c;var u=J.internal.getWidth(t)||0;u=0>u?-u:u;var d=function(e,n,i){if(e+1<a.length){var o=n+" "+a[e+1],r=C(o,t,i).width;return u-4>=r}return!1};l++;t:for(;;){e="";var h=C("3",t,--l).height,p=t.multiline?c-l:(c-h)/2,f=-2,g=p+=2,m=0,v=0,y=0;if(0>=l){e="(...) Tj\n",e+="% Width of Text: "+C(e,t,l=12).width+", FieldWidth:"+u+"\n";break}y=C(a[0]+" ",t,l).width;var w="",b=0;for(var x in a)if(a.hasOwnProperty(x)){w=" "==(w+=a[x]+" ").substr(w.length-1)?w.substr(0,w.length-1):w;var A=parseInt(x);y=C(w+" ",t,l).width;var D=d(A,w,l),S=x>=a.length-1;if(D&&!S){w+=" ";continue}if(D||S){if(S)v=A;else if(t.multiline&&(h+2)*(b+2)+2>c)continue t}else{if(!t.multiline)continue t;if((h+2)*(b+2)+2>c)continue t;v=A}for(var P="",F=m;v>=F;F++)P+=a[F]+" ";switch(P=" "==P.substr(P.length-1)?P.substr(0,P.length-1):P,y=C(P,t,l).width,t.textAlign){case"right":f=u-y-2;break;case"center":f=(u-y)/2;break;case"left":default:f=2}e+=s(f)+" "+s(g)+" Td\n",e+="("+r(P)+") Tj\n",e+=-s(f)+" 0 Td\n",g=-(l+2),y=0,m=v+1,b++,w=""}break}return o.text=e,o.fontSize=l,o},C=function(t,e,n){var o=i.internal.getFont(e.fontName,e.fontStyle),r=i.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:i.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},A={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D=function(){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.objId=void 0,n.hasAnnotation&&S.call(i,n)}},S=function(t){var e={type:"reference",object:t};void 0===i.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&i.internal.getPageInfo(t.page).pageContext.annotations.push(e)},P=function(){if(void 0===i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},F=function(){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0},I=function(e){var n=!e;e||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream());e=e||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],a=[],s=r.Rect;if(r.Rect&&(r.Rect=w.call(this,r.Rect)),i.internal.newObjectDeferredBegin(r.objId,!0),r.DA=J.createDefaultAppearanceStream(r),"object"===t(r)&&"function"==typeof r.getKeyValueListForStream&&(a=r.getKeyValueListForStream()),r.Rect=s,r.hasAppearanceStream&&!r.appearanceStreamContent){var l=b.call(this,r);a.push({key:"AP",value:"<</N "+l+">>"}),i.internal.acroformPlugin.xForms.push(l)}if(r.appearanceStreamContent){var c="";for(var u in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(u)){var d=r.appearanceStreamContent[u];if(c+="/"+u+" ",c+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var h;"function"==typeof(h=d[o])&&(h=h.call(this,r)),c+="/"+o+" "+h+" ",i.internal.acroformPlugin.xForms.indexOf(h)>=0||i.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=d)&&(h=h.call(this,r)),c+="/"+o+" "+h,i.internal.acroformPlugin.xForms.indexOf(h)>=0||i.internal.acroformPlugin.xForms.push(h);c+=">>"}a.push({key:"AP",value:"<<\n"+c+">>"})}i.internal.putStream({additionalKeyValues:a}),i.internal.out("endobj")}n&&k.call(this,i.internal.acroformPlugin.xForms)},k=function(e){for(var n in e)if(e.hasOwnProperty(n)){var o=n,r=e[n];i.internal.newObjectDeferredBegin(r&&r.objId,!0),"object"===t(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[o]}},L=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(i=this,B.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(A)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new O,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",F),i.internal.events.subscribe("buildDocument",D),i.internal.events.subscribe("putCatalog",P),i.internal.events.subscribe("postPutPages",I),i.internal.acroformPlugin.isInitialized=!0}},E=e.__acroform__.arrayToPdfArray=function(e){if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(0!==i&&(n+=" "),t(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":n+="/"!==e[i].substr(0,1)?"("+r(e[i].toString())+")":e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N=function(t){return(t=t||"").toString(),"("+r(t)+")"},_=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=i.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};_.prototype.toString=function(){return this.objId+" 0 R"},_.prototype.putStream=function(){var t=this.getKeyValueListForStream();i.internal.putStream({data:this.stream,additionalKeyValues:t}),i.internal.out("endobj")},_.prototype.getKeyValueListForStream=function(){return function(t){var e=[],n=Object.getOwnPropertyNames(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var i in n)if(!1===Object.getOwnPropertyDescriptor(t,n[i]).configurable){var o=n[i],r=t[o];r&&(Array.isArray(r)?e.push({key:o,value:E(r)}):r instanceof _?e.push({key:o,value:r.objId+" 0 R"}):"function"!=typeof r&&e.push({key:o,value:r}))}return e}(this)};var T=function(){_.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};c(T,_);var O=function(){_.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){return t?"("+t+")":void 0},set:function(e){t=e}})};c(O,_);var B=function t(){_.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(e,3))},set:function(t){this.F=!0===Boolean(t)?v(e,3):y(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){return 0!==i.length?i:void 0},set:function(t){i=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:d(i[0])},set:function(t){i[0]=u(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:d(i[1])},set:function(t){i[1]=u(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:d(i[2])},set:function(t){i[2]=u(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:d(i[3])},set:function(t){i[3]=u(t)}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof q)return;s="FieldObject"+t.FieldNum++}return"("+r(s)+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){c=t}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d(h)},set:function(t){h=u(t)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d(p)},set:function(t){p=u(t)}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(t){f=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){return!g||this instanceof q||this instanceof G?void 0:N(g)},set:function(t){t=t.toString(),g=t}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){return w?this instanceof U==0?N(w):w:void 0},set:function(t){t=t.toString(),w=this instanceof U==0?a("("===t.substr(0,1)?t.substr(1,t.length-2):t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(w.substr(1,w.length-1)):w},set:function(t){t=t.toString(),w=this instanceof U==1?"/"+t:t}});var b=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){return b?this instanceof U==0?N(b):b:void 0},set:function(t){t=t.toString(),b=this instanceof U==0?a("("===t.substr(0,1)?t.substr(1,t.length-2):t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof U==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return C},set:function(t){t=Boolean(t),C=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return x||void 0},set:function(t){x=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,1))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,1):y(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,2))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,2):y(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,3))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,3):y(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){return null!==A?A:void 0},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');A=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(A){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};c(B,_);var M=function(){B.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E(e)},set:function(t){e=function(t){var e=[];return"string"==typeof t&&(e=function(t,e,n){n||(n=1);for(var i,o=[];i=e.exec(t);)o.push(i[n]);return o}(t,/\((.*?)\)/g)),e}(t)}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,18):y(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?v(this.Ff,19):y(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=v(this.Ff,20),e.sort()):this.Ff=y(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,22):y(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,27):y(this.Ff,27)}}),this.hasAppearanceStream=!1};c(M,B);var z=function(){M.call(this),this.fontName="helvetica",this.combo=!1};c(z,M);var j=function(){z.call(this),this.combo=!0};c(j,z);var R=function(){j.call(this),this.edit=!0};c(R,j);var U=function(){B.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,15):y(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,16):y(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,17):y(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(n).length){var t,e=[];for(t in e.push("<<"),n)e.push("/"+t+" ("+n[t]+")");return e.push(">>"),e.join("\n")}},set:function(e){"object"===t(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){"string"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};c(U,B);var H=function(){U.call(this),this.pushButton=!0};c(H,U);var W=function(){U.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};c(W,U);var q=function(){var e,n;B.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t}});var i,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),o)e.push("/"+t+" ("+o[t]+")");return e.push(">>"),e.join("\n")},set:function(e){"object"===t(e)&&(o=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(t){"string"==typeof t&&(o.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=J.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};c(q,B),W.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},W.prototype.createOption=function(t){var e=(this.Kids.length,new q);return e.Parent=this,e.optionName=t,this.Kids.push(e),Z.call(this,e),e};var V=function(){U.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=J.CheckBox.createAppearanceStream()};c(V,U);var G=function(){B.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,13):y(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,21):y(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,24):y(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,25):y(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};c(G,B);var Y=function(){G.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,14):y(this.Ff,14)}}),this.password=!0};c(Y,G);var J={CheckBox:{createAppearanceStream:function(){return{N:{On:J.CheckBox.YesNormal},D:{On:J.CheckBox.YesPushDown,Off:J.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=h(t),n=[],o=i.internal.getFont(t.fontName,t.fontStyle).id,r=i.__private__.encodeColorString(t.color),a=x(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+s(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=h(t),n=i.internal.getFont(t.fontName,t.fontStyle).id,o=i.__private__.encodeColorString(t.color),r=[],a=J.internal.getHeight(t),l=J.internal.getWidth(t),c=x(t,t.caption);return r.push("1 g"),r.push("0 0 "+s(l)+" "+s(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+s(l-1)+" "+s(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+s(c.fontSize)+" Tf "+o),r.push(c.text),r.push("ET"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:J.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=J.RadioButton.Circle.YesNormal,e.D[t]=J.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=h(t),n=[],i=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=J.internal.Bezier_C,r=Number((i*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+l(J.internal.getWidth(t)/2)+" "+l(J.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=h(t),n=[],i=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4,o=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),r=Number((o*J.internal.Bezier_C).toFixed(5)),a=Number((i*J.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+l(J.internal.getWidth(t)/2)+" "+l(J.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),n.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),n.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),n.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+l(J.internal.getWidth(t)/2)+" "+l(J.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[],i=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4,o=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),r=Number((o*J.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+l(J.internal.getWidth(t)/2)+" "+l(J.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),n.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),n.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),n.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:J.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=J.RadioButton.Cross.YesNormal,e.D[t]=J.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=h(t),n=[],i=J.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+s(J.internal.getWidth(t)-2)+" "+s(J.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(s(i.x1.x)+" "+s(i.x1.y)+" m"),n.push(s(i.x2.x)+" "+s(i.x2.y)+" l"),n.push(s(i.x4.x)+" "+s(i.x4.y)+" m"),n.push(s(i.x3.x)+" "+s(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=h(t),n=J.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+s(J.internal.getWidth(t)-2)+" "+s(J.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(s(n.x1.x)+" "+s(n.x1.y)+" m"),i.push(s(n.x2.x)+" "+s(n.x2.y)+" l"),i.push(s(n.x4.x)+" "+s(n.x4.y)+" m"),i.push(s(n.x3.x)+" "+s(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=i.internal.getFont(t.fontName,t.fontStyle).id,n=i.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};J.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=J.internal.getWidth(t),n=J.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},J.internal.getWidth=function(e){var n=0;return"object"===t(e)&&(n=u(e.Rect[2])),n},J.internal.getHeight=function(e){var n=0;return"object"===t(e)&&(n=u(e.Rect[3])),n};var Z=e.addField=function(t){if(L.call(this),!(t instanceof B))throw new Error("Invalid argument passed to jsPDF.addField.");return function(t){i.internal.acroformPlugin.printedOut&&(i.internal.acroformPlugin.printedOut=!1,i.internal.acroformPlugin.acroFormDictionaryRoot=null),i.internal.acroformPlugin.acroFormDictionaryRoot||L.call(i),i.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=i.internal.getCurrentPageInfo().pageNumber,this};e.addButton=function(t){if(t instanceof U==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return Z.call(this,t)},e.addTextField=function(t){if(t instanceof G==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return Z.call(this,t)},e.addChoiceField=function(t){if(t instanceof M==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return Z.call(this,t)},"object"==t(n)&&void 0===n.ChoiceField&&void 0===n.ListBox&&void 0===n.ComboBox&&void 0===n.EditBox&&void 0===n.Button&&void 0===n.PushButton&&void 0===n.RadioButton&&void 0===n.CheckBox&&void 0===n.TextField&&void 0===n.PasswordField?(n.ChoiceField=M,n.ListBox=z,n.ComboBox=j,n.EditBox=R,n.Button=U,n.PushButton=H,n.RadioButton=W,n.CheckBox=V,n.TextField=G,n.PasswordField=Y,n.AcroForm={Appearance:J}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),e.AcroFormChoiceField=M,e.AcroFormListBox=z,e.AcroFormComboBox=j,e.AcroFormEditBox=R,e.AcroFormButton=U,e.AcroFormPushButton=H,e.AcroFormRadioButton=W,e.AcroFormCheckBox=V,e.AcroFormTextField=G,e.AcroFormPasswordField=Y,e.AcroFormAppearance=J,e.AcroForm={ChoiceField:M,ListBox:z,ComboBox:j,EditBox:R,Button:U,PushButton:H,RadioButton:W,CheckBox:V,TextField:G,PasswordField:Y,Appearance:J}}(r.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(e){var n="addImage_",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.getImageFileTypeByImageData=function(t,n){n=n||"UNKNOWN";var o,r,a,s,l,c="UNKNOWN";for(l in e.isArrayBufferView(t)&&(t=e.arrayBufferToBinaryString(t)),i)for(a=i[l],o=0;o<a.length;o+=1){for(s=!0,r=0;r<a[o].length;r+=1)if(void 0!==a[o][r]&&a[o][r]!==t.charCodeAt(r)){s=!1;break}if(!0===s){c=l;break}}return"UNKNOWN"===c&&"UNKNOWN"!==n&&(console.warn('FileType of Image not recognized. Processing image as "'+n+'".'),c=n),c},r=function t(e){for(var n=this.internal.newObject(),i=this.internal.write,o=this.internal.putStream,r=(0,this.internal.getFilters)();-1!==r.indexOf("FlateEncode");)r.splice(r.indexOf("FlateEncode"),1);e.n=n;var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.w}),a.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?n+2:n+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&a.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var s="",l=0,c=e.trns.length;c>l;l++)s+=e.trns[l]+" "+e.trns[l]+" ";a.push({key:"Mask",value:"["+s+"]"})}"smask"in e&&a.push({key:"SMask",value:n+1+" 0 R"});var u=void 0!==e.f?["/"+e.f]:void 0;if(o({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u}),i("endobj"),"smask"in e){var d="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,h={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:d,data:e.smask};"f"in e&&(h.f=e.f),t.call(this,h)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),o({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),i("endobj"))},a=function(){var t=this.internal.collections[n+"images"];for(var e in t)r.call(this,t[e])},s=function(){var t,e=this.internal.collections[n+"images"],i=this.internal.write;for(var o in e)i("/I"+(t=e[o]).i,t.n,"0","R")},l=function(){var t=this.internal.collections[n+"images"];return t||(this.internal.collections[n+"images"]=t={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s)),t},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===t(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return unescape(i);var o=e.loadFile(i);if(void 0!==o)return btoa(o)}if("CANVAS"===t.nodeName){var r=t;return t.toDataURL("image/jpeg",1)}(r=document.createElement("canvas")).width=t.clientWidth||t.width,r.height=t.clientHeight||t.height;var a=r.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";return a.drawImage(t,0,0,r.width,r.height),r.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},h=function(t,e){var n;if(e)for(var i in e)if(t===e[i].alias){n=e[i];break}return n};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){var e,n=0;if(0===(t=t||"").length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},e.isString=function(t){return"string"==typeof t},e.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},e.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var i=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(i)&&(n={mimeType:i[1],charset:i[2],data:e[1]})}return n},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array))},e.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),i=0;e>i;i++)n[i]=t.charCodeAt(i);return n},e.arrayBufferToBinaryString=function(t){return"function"==typeof atob?atob(this.arrayBufferToBase64(t)):void 0},e.arrayBufferToBase64=function(t){for(var e,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(t),r=o.byteLength,a=r%3,s=r-a,l=0;s>l;l+=3)n+=i[(16515072&(e=o[l]<<16|o[l+1]<<8|o[l+2]))>>18]+i[(258048&e)>>12]+i[(4032&e)>>6]+i[63&e];return 1==a?n+=i[(252&(e=o[s]))>>2]+i[(3&e)<<4]+"==":2==a&&(n+=i[(64512&(e=o[s]<<8|o[s+1]))>>10]+i[(1008&e)>>4]+i[(15&e)<<2]+"="),n},e.createImageInfo=function(t,e,n,i,o,r,a,s,l,c,u,d,h){var p={alias:s,w:e,h:n,cs:i,bpc:o,i:a,data:t};return r&&(p.f=r),l&&(p.dp=l),c&&(p.trns=c),u&&(p.pal=u),d&&(p.smask=d),h&&(p.p=h),p},e.addImage=function(n,i,o,r,a,s,p,f,g){var m="";if("string"!=typeof i){var v=s;s=a,a=r,r=o,o=i,i=v}if("object"===t(n)&&!u(n)&&"imageData"in n){var y=n;n=y.imageData,i=y.format||i||"UNKNOWN",o=y.x||o||0,r=y.y||r||0,a=y.w||a,s=y.h||s,p=y.alias||p,f=y.compression||f,g=y.rotation||y.angle||g}var w=this.internal.getFilters();if(void 0===f&&-1!==w.indexOf("FlateEncode")&&(f="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(o)||isNaN(r))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var b,x,C=l.call(this);if(!((b=h(n,C))||(u(n)&&(n=d(n,i)),function(t){return null==t||0===t.length}(p)&&(p=function(t){return"string"==typeof t?e.sHashCode(t):e.isArrayBufferView(t)?e.sHashCode(e.arrayBufferToBinaryString(t)):null}(n)),b=h(p,C)))){if(this.isString(n)&&(""!==(m=this.convertStringToImageData(n))?n=m:void 0!==(m=e.loadFile(n))&&(n=m)),i=this.getImageFileTypeByImageData(n,i),!c(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(x=n,n=this.binaryStringToUint8Array(n))),!(b=this["process"+i.toUpperCase()](n,function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(t)),e}(C),p,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE}(f),x)))throw new Error("An unknown error occurred whilst processing the image")}return function(t,e,n,i,o,r,a,s){var l=function(t,e,n){return t||e||(t=-96,e=-96),0>t&&(t=-1*n.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]}.call(this,n,i,o),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(n=l[0],i=l[1],a[r]=o,s){s*=Math.PI/180;var d=Math.cos(s),h=Math.sin(s),p=function(t){return t.toFixed(4)},f=[p(d),p(h),p(-1*h),p(d),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,c(t),u(e+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([c(n),"0","0",c(i),"0","0","cm"].join(" "))):this.internal.write([c(n),"0","0",c(i),c(t),u(e+i),"cm"].join(" ")),this.internal.write("/I"+o.i+" Do"),this.internal.write("Q")}.call(this,o,r,a,s,b,b.i,C,g),this},e.convertStringToImageData=function(t){var n,i="";if(this.isString(t)){var o;n=null!==(o=this.extractImageFromDataUrl(t))?o.data:t;try{i=atob(n)}catch(t){throw new Error(e.validateStringAsBase64(n)?"atob-Error in jsPDF.convertStringToImageData "+t.message:"Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return i};var p=function(t){var e;if("JPEG"!==o(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),i=4,r=t.length;r>i;){if(i+=n,255!==t.charCodeAt(i))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(i+1)||193===t.charCodeAt(i+1)||194===t.charCodeAt(i+1)||195===t.charCodeAt(i+1)||196===t.charCodeAt(i+1)||197===t.charCodeAt(i+1)||198===t.charCodeAt(i+1)||199===t.charCodeAt(i+1))return e=256*t.charCodeAt(i+5)+t.charCodeAt(i+6),[256*t.charCodeAt(i+7)+t.charCodeAt(i+8),e,t.charCodeAt(i+9)];i+=2,n=256*t.charCodeAt(i)+t.charCodeAt(i+1)}},f=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,n,i,o,r){var a,s=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(a=p(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(a=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,n=t.length,i=(t[4]<<8)+t[5],o=4;n>o;){if(i=((e=f(t,o+=i))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&i>7)return{width:((e=f(t,o+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};o+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=o||this.arrayBufferToBinaryString(t)),void 0===r)switch(a.numcomponents){case 1:r=this.color_spaces.DEVICE_GRAY;break;case 4:r=this.color_spaces.DEVICE_CMYK;break;default:case 3:r=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,a.width,a.height,r,8,s,e,n)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)},e.getImageProperties=function(t){var n,i,o="";if(u(t)&&(t=d(t)),this.isString(t)&&(""!==(o=this.convertStringToImageData(t))?t=o:void 0!==(o=e.loadFile(t))&&(t=o)),i=this.getImageFileTypeByImageData(t),!c(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(n=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:i,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(r.API),function(t){r.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),n=t.pageContext.annotations,i=function(t){return void 0!==t&&""!=t||void 0},o=!1,r=0;r<n.length&&!o;r++){switch((l=n[r]).type){case"link":if(i(l.options.url)||i(l.options.pageNumber)){o=!0;break}case"reference":case"text":case"freetext":o=!0}}if(0!=o){this.internal.write("/Annots [");var a=(this.internal.pageSize.height,this.internal.getCoordinateString),s=this.internal.getVerticalCoordinateString;for(r=0;r<n.length;r++){var l;switch((l=n[r]).type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var c=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),d=l.title||"Note";m="<</Type /Annot /Subtype /Text "+(p="/Rect ["+a(l.bounds.x)+" "+s(l.bounds.y+l.bounds.h)+" "+a(l.bounds.x+l.bounds.w)+" "+s(l.bounds.y)+"] ")+"/Contents ("+l.contents+")",m+=" /Popup "+u.objId+" 0 R",m+=" /P "+e.objId+" 0 R",m+=" /T ("+d+") >>",c.content=m;var h=c.objId+" 0 R";m="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+a(l.bounds.x+30)+" "+s(l.bounds.y+l.bounds.h)+" "+a(l.bounds.x+l.bounds.w+30)+" "+s(l.bounds.y)+"] ")+" /Parent "+h,l.open&&(m+=" /Open true"),m+=" >>",u.content=m,this.internal.write(c.objId,"0 R",u.objId,"0 R");break;case"freetext":var p="/Rect ["+a(l.bounds.x)+" "+s(l.bounds.y)+" "+a(l.bounds.x+l.bounds.w)+" "+s(l.bounds.y+l.bounds.h)+"] ",f=l.color||"#000000";m="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+l.contents+")",m+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+f+")",m+=" /Border [0 0 0]",m+=" >>",this.internal.write(m);break;case"link":if(l.options.name){var g=this.annotations._nameMap[l.options.name];l.options.pageNumber=g.page,l.options.top=g.y}else l.options.top||(l.options.top=0);p="/Rect ["+a(l.x)+" "+s(l.y)+" "+a(l.x+l.w)+" "+s(l.y+l.h)+"] ";var m="";if(l.options.url)m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+l.options.url+") >>";else if(l.options.pageNumber){switch(m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":m+=" /Fit]";break;case"FitH":m+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,m+=" /FitV "+l.options.left+"]";break;case"XYZ":default:var v=s(l.options.top);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),m+=" /XYZ "+l.options.left+" "+v+" "+l.options.zoom+"]"}}""!=m&&(m+=" >>",this.internal.write(m))}}this.internal.write("]")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,i,o){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:n,h:i,options:o,type:"link"})},t.textWithLink=function(t,e,n,i){var o=this.getTextWidth(t),r=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*r,this.link(e,n-r,o,r,i),o},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(r.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&r(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&o.indexOf(t.charCodeAt(0))>=0},c=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&r(t)&&e[t.charCodeAt(0)].length>=1},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&r(t)&&e[t.charCodeAt(0)].length>=2}),u=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&r(t)&&e[t.charCodeAt(0)].length>=3},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&r(t)&&4==e[t.charCodeAt(0)].length}),d=t.__arabicParser__.resolveLigatures=function(t){var e=0,i=n,o=0,r="",a=0;for(e=0;e<t.length;e+=1)void 0!==i[t.charCodeAt(e)]?(a++,"number"==typeof(i=i[t.charCodeAt(e)])&&(o=-1!==(o=h(t.charAt(e),t.charAt(e-a),t.charAt(e+1)))?o:0,r+=String.fromCharCode(i),i=n,a=0),e===t.length-1&&(i=n,r+=t.charAt(e-(a-1)),e-=a-1,a=0)):(i=n,r+=t.charAt(e-a),e-=a,a=0);return r},h=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==i[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===r(t)?-1:!c(t)||!a(e)&&!a(n)||!a(n)&&s(e)||s(t)&&!a(e)||s(t)&&l(e)||s(t)&&s(e)?0:u(t)&&a(e)&&!s(e)&&a(n)&&c(n)?3:s(t)||!a(n)?1:2:-1}),p=t.__arabicParser__.processArabic=t.processArabic=function(t){var n=0,i=0,o=0,r="",s="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),i=0;i<c[n].length;i+=1)r=c[n][i],s=c[n][i-1],l=c[n][i+1],a(r)?(o=h(r,s,l),u[n]+=-1!==o?String.fromCharCode(e[r.charCodeAt(0)][o]):r):u[n]+=r;u[n]=d(u[n])}return u.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),i=(t.mutex,n.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var o=0;for(i=[],o=0;o<e.length;o+=1)i.push("[object Array]"===Object.prototype.toString.call(e[o])?[p(e[o][0]),e[o][1],e[o][2]]:[p(e[o])]);t.text=i}else t.text=p(e)}])}(r.API),r.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||0>t?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||0>t?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(t){i=t}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(r.API),function(t){var e,n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,o=function(t,e,i,o,r){n={x:t,y:e,w:i,h:o,ln:r}},r=function(){return n},a={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){e=t},t.getTextDimensions=function(t,e){var n=this.table_font_size||this.internal.getFontSize();this.internal.getFont().fontStyle;var i=(e=e||{}).scaleFactor||this.internal.scaleFactor,o=0,r=0,a=0;if("string"==typeof t)0!==(o=this.getStringUnitWidth(t)*n)&&(r=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var s=0;s<t.length;s++)(a=this.getStringUnitWidth(t[s])*n)>o&&(o=a);0!==o&&(r=t.length)}return{w:o/=i,h:Math.max((r*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},t.cellAddPage=function(){var t=this.margins||a;this.addPage(),o(t.left,t.top,void 0,void 0),i+=1},t.cellInitialize=function(){n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1},t.cell=function(t,e,n,i,s,l,c){var u=r(),d=!1;if(void 0!==u.ln)if(u.ln===l)t=u.x+u.w,e=u.y;else{var h=this.margins||a;u.y+u.h+i+13>=this.internal.pageSize.getHeight()-h.bottom&&(this.cellAddPage(),d=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(l,!0)),e=r().y+r().h,d&&(e=23)}if(void 0!==s[0])if(this.printingHeaderRow?this.rect(t,e,n,i,"FD"):this.rect(t,e,n,i),"right"===c){s instanceof Array||(s=[s]);for(var p=0;p<s.length;p++){var f=s[p],g=this.getStringUnitWidth(f)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(f,t+n-g-3,e+this.internal.getLineHeight()*(p+1))}}else this.text(s,t+3,e+this.internal.getLineHeight());return o(t,e,n,i,l),this},t.arrayMax=function(t,e){var n,i,o,r=t[0];for(n=0,i=t.length;i>n;n+=1)o=t[n],e?-1===e(r,o)&&(r=o):o>r&&(r=o);return r},t.table=function(e,o,r,s,l){if(!r)throw"No data for PDF table";var c,u,d,h,p,f,g,m,v,y,w=[],b=[],x={},C={},A=[],D=[],S=!1,P=!0,F=12,I=a;if(I.width=this.internal.pageSize.getWidth(),l&&(!0===l.autoSize&&(S=!0),!1===l.printHeaders&&(P=!1),l.fontSize&&(F=l.fontSize),l.css&&void 0!==l.css["font-size"]&&(F=16*l.css["font-size"]),l.margins&&(I=l.margins)),this.lnMod=0,n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,this.printHeaders=P,this.margins=I,this.setFontSize(F),this.table_font_size=F,null==s)w=Object.keys(r[0]);else if(s[0]&&"string"!=typeof s[0]){for(u=0,d=s.length;d>u;u+=1)c=s[u],w.push(c.name),b.push(c.prompt),C[c.name]=c.width*(19.049976/25.4)}else w=s;if(S)for(y=function(t){return t[c]},u=0,d=w.length;d>u;u+=1){for(x[c=w[u]]=r.map(y),A.push(this.getTextDimensions(b[u]||c,{scaleFactor:1}).w),g=0,h=(f=x[c]).length;h>g;g+=1)p=f[g],A.push(this.getTextDimensions(p,{scaleFactor:1}).w);C[c]=t.arrayMax(A),A=[]}if(P){var k=this.calculateLineHeight(w,C,b.length?b:w);for(u=0,d=w.length;d>u;u+=1)c=w[u],D.push([e,o,C[c],k,String(b.length?b[u]:c)]);this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}for(u=0,d=r.length;d>u;u+=1){for(m=r[u],k=this.calculateLineHeight(w,C,m),g=0,v=w.length;v>g;g+=1)c=w[g],this.cell(e,o,C[c],k,m[c],u+2,c.align)}return this.lastCellPos=n,this.table_x=e,this.table_y=o,this},t.calculateLineHeight=function(t,e,n){for(var i,o=0,r=0;r<t.length;r++){n[i=t[r]]=this.splitTextToSize(String(n[i]),e[i]-3);var a=this.internal.getLineHeight()*n[i].length+3;a>o&&(o=a)}return o},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,n){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var r,a,s,l;if(this.printingHeaderRow=!0,void 0!==e){var c=e(this,i);o(c[0],c[1],c[2],c[3],-1)}this.setFontStyle("bold");var u=[];for(s=0,l=this.tableHeaderRow.length;l>s;s+=1)this.setFillColor(200,200,200),r=this.tableHeaderRow[s],n&&(this.margins.top=13,r[1]=this.margins&&this.margins.top||0,u.push(r)),a=[].concat(r),this.cell.apply(this,a.concat(t));u.length>0&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(r.API),function(e){var n,i,o,r,a,s=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new T,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new N,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new N,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new l(this),n=this.internal.f2,this.internal.f3,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate}]);var l=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(t){isNaN(t)||(o=t)}});var r=!1;Object.defineProperty(this,"autoPaging",{get:function(){return r},set:function(t){r=Boolean(t)}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}});var u=new s;Object.defineProperty(this,"ctx",{get:function(){return u},set:function(t){t instanceof s&&(u=t)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(t){u.path=t}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(t){d=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=c(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=c(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],i=(e[2],e[3]),o=e[4],r=e[5],a=e[6];o=Math.floor("px"===r?parseFloat(o):"em"===r?parseFloat(o)*this.pdf.getFontSize():parseFloat(o)),this.pdf.setFontSize(o);var s="";("bold"===i||parseInt(i,10)>=700||"bold"===n)&&(s="bold"),"italic"===n&&(s+="italic"),0===s.length&&(s="normal");for(var l="",c=a.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<c.length;d++){if(void 0!==this.pdf.internal.getFont(c[d],s,{noFallback:!0,disableWarning:!0})){l=c[d];break}if("bolditalic"===s&&void 0!==this.pdf.internal.getFont(c[d],"bold",{noFallback:!0,disableWarning:!0}))l=c[d],s="bold";else if(void 0!==this.pdf.internal.getFont(c[d],"normal",{noFallback:!0,disableWarning:!0})){l=c[d],s="normal";break}}if(""===l)for(d=0;d<c.length;d++)if(u[c[d]]){l=u[c[d]];break}l=""===l?"Times":l,this.pdf.setFont(l,s)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};l.prototype.fill=function(){g.call(this,"fill",!1)},l.prototype.stroke=function(){g.call(this,"stroke",!1)},l.prototype.beginPath=function(){this.path=[{type:"begin"}]},l.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new N(t,e)},l.prototype.closePath=function(){var e=new N(0,0),n=0;for(n=this.path.length-1;-1!==n;n--)if("begin"===this.path[n].type&&"object"===t(this.path[n+1])&&"number"==typeof this.path[n+1].x){e=new N(this.path[n+1].x,this.path[n+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"===t(this.path[n+2])&&"number"==typeof this.path[n+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[n+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new N(e.x,e.y)},l.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new N(n.x,n.y)},l.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),g.call(this,null,!0)},l.prototype.quadraticCurveTo=function(t,e,n,i){if(isNaN(n)||isNaN(i)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var o=this.ctx.transform.applyToPoint(new N(n,i)),r=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"qct",x1:r.x,y1:r.y,x:o.x,y:o.y}),this.ctx.lastPoint=new N(o.x,o.y)},l.prototype.bezierCurveTo=function(t,e,n,i,o,r){if(isNaN(o)||isNaN(r)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new N(o,r)),s=this.ctx.transform.applyToPoint(new N(t,e)),l=this.ctx.transform.applyToPoint(new N(n,i));this.path.push({type:"bct",x1:s.x,y1:s.y,x2:l.x,y2:l.y,x:a.x,y:a.y}),this.ctx.lastPoint=new N(a.x,a.y)},l.prototype.arc=function(t,e,n,i,o,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(r=Boolean(r),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new N(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new N(0,n)),l=this.ctx.transform.applyToPoint(new N(0,0));n=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}Math.abs(o-i)>=2*Math.PI&&(i=0,o=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:i,endAngle:o,counterclockwise:r})},l.prototype.arcTo=function(){throw new Error("arcTo not implemented.")},l.prototype.rect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},l.prototype.fillRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var o={};"butt"!==this.lineCap&&(o.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(o.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,i),this.fill(),o.hasOwnProperty("lineCap")&&(this.lineCap=o.lineCap),o.hasOwnProperty("lineJoin")&&(this.lineJoin=o.lineJoin)}},l.prototype.strokeRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(t,e,n,i),this.stroke())},l.prototype.clearRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,i))},l.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new s(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},l.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},l.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var c=function(t){var e,n,i,o;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,i=0,o=0;else{var r=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==r)e=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),o=1;else if(null!==(r=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),o=parseFloat(r[4]);else{if(o=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,i=t.substring(3,4),i+=i):(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:e,g:n,b:i,a:o,style:t}},u=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};l.prototype.fillText=function(t,e,n,i){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!u.call(this)){n=v.call(this,n);var o=I(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;C.call(this,{text:t,x:e,y:n,scale:r,angle:o,align:this.textAlign,maxWidth:i})}},l.prototype.strokeText=function(t,e,n,i){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){i=isNaN(i)?void 0:i,n=v.call(this,n);var o=I(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;C.call(this,{text:t,x:e,y:n,scale:r,renderingMode:"stroke",angle:o,align:this.textAlign,maxWidth:i})}},l.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,i=e.internal.getFontSize(),o=e.getStringUnitWidth(t)*i/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:o*=Math.round(96*n/72*1e4)/1e4})},l.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new T(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new T(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},l.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new T(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.transform=function(t,e,n,i,o,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new T(t,e,n,i,o,r);this.ctx.transform=this.ctx.transform.multiply(a)},l.prototype.setTransform=function(t,e,n,i,o,r){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,i=isNaN(i)?1:i,o=isNaN(o)?0:o,r=isNaN(r)?0:r,this.ctx.transform=new T(t,e,n,i,o,r)},l.prototype.drawImage=function(t,e,n,i,o,r,a,s,l){var c=this.pdf.getImageProperties(t),u=1,d=1,p=1,g=1;void 0!==i&&void 0!==s&&(p=s/i,g=l/o,u=c.width/i*s/i,d=c.height/o*l/o),void 0===r&&(r=e,a=n,e=0,n=0),void 0!==i&&void 0===s&&(s=i,l=o),void 0===i&&void 0===s&&(s=c.width,l=c.height);var v=this.ctx.transform.decompose(),y=I(v.rotate.shx);v.scale.sx,v.scale.sy;for(var w,b=new T,x=((b=(b=(b=b.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToPoint(new N(s,l)),b.applyToRectangle(new _(r-e*p,a-n*g,i*u,o*d))),C=h.call(this,x),A=[],D=0;D<C.length;D+=1)-1===A.indexOf(C[D])&&A.push(C[D]);if(A.sort(),this.autoPaging)for(var S=A[0],P=A[A.length-1],F=S;P+1>F;F++){if(this.pdf.setPage(F),0!==this.ctx.clip_path.length){var k=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(w,this.posX,-1*this.pdf.internal.pageSize.height*(F-1)+this.posY),m.call(this,"fill",!0),this.path=k}var L=JSON.parse(JSON.stringify(x));L=f([L],this.posX,-1*this.pdf.internal.pageSize.height*(F-1)+this.posY)[0],this.pdf.addImage(t,"jpg",L.x,L.y,L.w,L.h,null,null,y)}else this.pdf.addImage(t,"jpg",x.x,x.y,x.w,x.h,null,null,y)};var h=function(t,e,n){var i=[];switch(e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":i.push(Math.floor((t.y+this.posY)/n)+1);break;case"arc":i.push(Math.floor((t.y+this.posY-t.radius)/n)+1),i.push(Math.floor((t.y+this.posY+t.radius)/n)+1);break;case"qct":var o=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);i.push(Math.floor(o.y/n)+1),i.push(Math.floor((o.y+o.h)/n)+1);break;case"bct":var r=E(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);i.push(Math.floor(r.y/n)+1),i.push(Math.floor((r.y+r.h)/n)+1);break;case"rect":i.push(Math.floor((t.y+this.posY)/n)+1),i.push(Math.floor((t.y+t.h+this.posY)/n)+1)}for(var a=0;a<i.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<i[a];)p.call(this);return i},p=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,i=this.lineCap,o=this.lineWidth,r=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=i,this.lineWidth=o,this.lineJoin=r},f=function(t,e,n){for(var i=0;i<t.length;i++)switch(t[i].type){case"bct":t[i].x2+=e,t[i].y2+=n;case"qct":t[i].x1+=e,t[i].y1+=n;case"mt":case"lt":case"arc":default:t[i].x+=e,t[i].y+=n}return t},g=function(t,e){for(var n,i,o=this.fillStyle,r=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,l=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],g=0;g<u.length;g++)if(void 0!==u[g].x)for(var v=h.call(this,u[g]),y=0;y<v.length;y+=1)-1===d.indexOf(v[y])&&d.push(v[y]);for(g=0;g<d.length;g++)for(;this.pdf.internal.getNumberOfPages()<d[g];)p.call(this);if(d.sort(),this.autoPaging){var w=d[0],b=d[d.length-1];for(g=w;b+1>g;g++){if(this.pdf.setPage(g),this.fillStyle=o,this.strokeStyle=r,this.lineCap=a,this.lineWidth=s,this.lineJoin=l,0!==this.ctx.clip_path.length){var x=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(n,this.posX,-1*this.pdf.internal.pageSize.height*(g-1)+this.posY),m.call(this,t,!0),this.path=x}i=JSON.parse(JSON.stringify(c)),this.path=f(i,this.posX,-1*this.pdf.internal.pageSize.height*(g-1)+this.posY),(!1===e||0===g)&&m.call(this,t,e)}}else m.call(this,t,e);this.path=c},m=function(t,e){if(!("stroke"===t&&!e&&d.call(this)||"stroke"!==t&&!e&&u.call(this))){var n,i=[];this.ctx.globalAlpha;this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var o=this.path,r=0;r<o.length;r++){var a=o[r];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var s=i.length;if(!isNaN(o[r-1].x)){var l=[a.x-o[r-1].x,a.y-o[r-1].y];if(s>0)for(;s>=0;s--)if(!0!==i[s-1].close&&!0!==i[s-1].begin){i[s-1].deltas.push(l),i[s-1].abs.push(a);break}}break;case"bct":l=[a.x1-o[r-1].x,a.y1-o[r-1].y,a.x2-o[r-1].x,a.y2-o[r-1].y,a.x-o[r-1].x,a.y-o[r-1].y];i[i.length-1].deltas.push(l);break;case"qct":var c=o[r-1].x+2/3*(a.x1-o[r-1].x),h=o[r-1].y+2/3*(a.y1-o[r-1].y),p=a.x+2/3*(a.x1-a.x),f=a.y+2/3*(a.y1-a.y),g=a.x,m=a.y;l=[c-o[r-1].x,h-o[r-1].y,p-o[r-1].x,f-o[r-1].y,g-o[r-1].x,m-o[r-1].y];i[i.length-1].deltas.push(l);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}n=e?null:"stroke"===t?"stroke":"fill";for(r=0;r<i.length;r++){if(i[r].arc)for(var v=i[r].abs,x=0;x<v.length;x++){var C=v[x];if(void 0!==C.startAngle){var S=I(C.startAngle),P=I(C.endAngle),F=C.x,k=C.y;y.call(this,F,k,C.radius,S,P,C.counterclockwise,n,e)}else A.call(this,C.x,C.y)}if(!i[r].arc&&!0!==i[r].close&&!0!==i[r].begin){F=i[r].start.x,k=i[r].start.y;D.call(this,i[r].deltas,F,k,null,null)}}n&&w.call(this,n),e&&b.call(this)}},v=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}};l.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},l.prototype.createPattern=function(){return this.createLinearGradient()},l.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(t,e,n,i,o,r,a,s){for(var l=(this.pdf.internal.scaleFactor,k(i)),c=k(o),u=P.call(this,n,l,c,r),d=0;d<u.length;d++){var h=u[d];0===d&&x.call(this,h.x1+t,h.y1+e),S.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?b.call(this):w.call(this,a)},w=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},b=function(){this.pdf.clip()},x=function(t,e){this.pdf.internal.out(i(t)+" "+o(e)+" m")},C=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n,i=this.ctx.transform.applyToPoint(new N(t.x,t.y)),o=this.ctx.transform.decompose(),r=new T;r=(r=(r=r.multiply(o.translate)).multiply(o.skew)).multiply(o.scale);for(var a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new _(t.x,t.y,a.w,a.h)),l=r.applyToRectangle(new _(t.x,t.y-a.h,a.w,a.h)),c=h.call(this,l),u=[],d=0;d<c.length;d+=1)-1===u.indexOf(c[d])&&u.push(c[d]);if(u.sort(),!0===this.autoPaging)for(var p=u[0],g=u[u.length-1],v=p;g+1>v;v++){if(this.pdf.setPage(v),0!==this.ctx.clip_path.length){var y=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(n,this.posX,-1*this.pdf.internal.pageSize.height*(v-1)+this.posY),m.call(this,"fill",!0),this.path=y}var w=JSON.parse(JSON.stringify(s));if(w=f([w],this.posX,-1*this.pdf.internal.pageSize.height*(v-1)+this.posY)[0],t.scale>=.01){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,w.x,w.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&this.pdf.setFontSize(b)}else{if(t.scale>=.01){b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&this.pdf.setFontSize(b)}},A=function(t,e,n,r){n=n||0,r=r||0,this.pdf.internal.out(i(t+n)+" "+o(e+r)+" l")},D=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},S=function(t,e,i,o,s,l,c,u){this.pdf.internal.out([n(r(i+t)),n(a(o+e)),n(r(s+t)),n(a(l+e)),n(r(c+t)),n(a(u+e)),"c"].join(" "))},P=function(t,e,n,i){var o=2*Math.PI,r=e;(o>r||r>o)&&(r%=o);var a=n;(o>a||a>o)&&(a%=o);for(var s=[],l=Math.PI/2,c=i?-1:1,u=e,d=Math.min(o,Math.abs(a-r));d>1e-5;){var h=u+c*Math.min(d,l);s.push(F.call(this,t,u,h)),d-=Math.abs(h-u),u=h}return s},F=function(t,e,n){var i=(n-e)/2,o=t*Math.cos(i),r=t*Math.sin(i),a=o,s=-r,l=a*a+s*s,c=l+a*o+s*r,u=4/3*(Math.sqrt(2*l*c)-c)/(a*r-s*o),d=a-u*s,h=s+u*a,p=d,f=-h,g=i+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:d*m-h*v,y2:d*v+h*m,x3:p*m-f*v,y3:p*v+f*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},I=function(t){return 180*t/Math.PI},k=function(t){return t*Math.PI/180},L=function(t,e,n,i,o,r){var a=t+.5*(n-t),s=e+.5*(i-e),l=o+.5*(n-o),c=r+.5*(i-r),u=Math.min(t,o,a,l),d=Math.max(t,o,a,l),h=Math.min(e,r,s,c),p=Math.max(e,r,s,c);return new _(u,h,d-u,p-h)},E=function(t,e,n,i,o,r,a,s){for(var l,c,u,d,h,p,f,g,m,v,y,w,b,x=n-t,C=i-e,A=o-n,D=r-i,S=a-o,P=s-r,F=0;41>F;F++)g=(p=(c=t+(l=F/40)*x)+l*((d=n+l*A)-c))+l*(d+l*(o+l*S-d)-p),m=(f=(u=e+l*C)+l*((h=i+l*D)-u))+l*(h+l*(r+l*P-h)-f),0==F?(v=g,y=m,w=g,b=m):(v=Math.min(v,g),y=Math.min(y,m),w=Math.max(w,g),b=Math.max(b,m));return new _(Math.round(v),Math.round(y),Math.round(w-v),Math.round(b-y))},N=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var i=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return o},set:function(t){o=t.toString()}}),this},_=function(t,e,n,i){N.call(this,t,e),this.type="rect";var o=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}});var r=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}}),this},T=function(t,e,n,i,o,r){var a=[];return Object.defineProperty(this,"sx",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&(0===this.shy&&(0===this.shx&&(1===this.sy&&(0===this.tx&&0===this.ty))))}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(n)?0:n,this.sy=isNaN(i)?1:i,this.tx=isNaN(o)?0:o,this.ty=isNaN(r)?0:r,this};T.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,i=t.shx*this.sx+t.sy*this.shx,o=t.shx*this.shy+t.sy*this.sy,r=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new T(e,n,i,o,r,a)},T.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,i=this.sy,o=this.tx,r=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*n+(e/=a)*i;n-=t*s,i-=e*s;var l=Math.sqrt(n*n+i*i);return s/=l,e*(n/=l)>t*(i/=l)&&(t=-t,e=-e,s=-s,a=-a),{scale:new T(a,0,0,l,0,0),translate:new T(1,0,0,1,o,r),rotate:new T(t,e,-e,t,0,0),skew:new T(1,0,s,1,0,0)}},T.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new N(e,n)},T.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new N(t.x+t.w,t.y+t.h));return new _(e.x,e.y,n.x-e.x,n.y-e.y)},T.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,i=this.sy,o=this.tx,r=this.ty;return new T(t,e,n,i,o,r)}}(r.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(t){var e=function(t){var e,n,i,o,r,a,s,l,c,u;for(/[^\x00-\xFF]/.test(t),n=[],i=0,o=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;o>i;i+=4)0!==(r=(t.charCodeAt(i)<<24)+(t.charCodeAt(i+1)<<16)+(t.charCodeAt(i+2)<<8)+t.charCodeAt(i+3))?(a=(r=((r=((r=((r=(r-(u=r%85))/85)-(c=r%85))/85)-(l=r%85))/85)-(s=r%85))/85)%85,n.push(a+33,s+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,i,o,r,a=String,s="length",l=255,c="charCodeAt",u="slice",d="replace";for(t[u](-2),t=t[u](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),i=[],o=0,r=(t+=e="uuuuu"[u](t[s]%5||5))[s];r>o;o+=5)n=52200625*(t[c](o)-33)+614125*(t[c](o+1)-33)+7225*(t[c](o+2)-33)+85*(t[c](o+3)-33)+(t[c](o+4)-33),i.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(i,e[s]),a.fromCharCode.apply(a,i)},i=function(t){for(var e="",n=0;n<t.length;n+=1)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e+">"},o=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",i=0;i<t.length;i+=2)n+=String.fromCharCode("0x"+(t[i]+t[i+1]));return n},r=function(e,n){n=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},n);for(var i,o,r=[],a=e.length;a--;)r[a]=e.charCodeAt(a);return i=t.adler32cs.from(e),(o=new Deflater(6)).append(new Uint8Array(r)),e=o.flush(),(r=new Uint8Array(e.length+6)).set(new Uint8Array([120,156])),r.set(e,2),r.set(new Uint8Array([255&i,i>>8&255,i>>16&255,i>>24&255]),e.length+2),String.fromCharCode.apply(null,r)};t.processDataByFilters=function(t,a){var s=0,l=t||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=o(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=i(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw'The filter: "'+a[s]+'" is not implemented'}return{data:l,reverseChain:c.reverse().join(" ")}}}(r.API),function(t){t.loadFile=function(t,e,n){e=e||!0,n=n||function(){};var i;try{i=function(t,e){var n=new XMLHttpRequest,i=[],o=0,r=function(t){var e=t.length,n=String.fromCharCode;for(o=0;e>o;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join("")};return n.open("GET",t,!e),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(n.onload=function(){return r(this.responseText)}),n.send(null),200!==n.status?void console.warn('Unable to load file "'+t+'"'):e?r(n.responseText):void 0}(t,e)}catch(t){i=void 0}return i},t.loadImageFile=t.loadFile}(r.API),function(e,n){var i=function(e){var n=t(e);return"undefined"===n?"undefined":"string"===n||e instanceof String?"string":"number"===n||e instanceof Number?"number":"function"===n||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===n?"object":"unknown"},o=function(t,e){var n=document.createElement(t);if(e.className&&(n.className=e.className),e.innerHTML){n.innerHTML=e.innerHTML;for(var i=n.getElementsByTagName("script"),o=i.length;o-- >0;null)i[o].parentNode.removeChild(i[o])}for(var r in e.style)n.style[r]=e.style[r];return n},a=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),i=t.convert(Promise.resolve(),n);return(i=i.setProgress(1,t,1,[t])).set(e)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(t,e){return t.__proto__=e||a.prototype,t},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},a.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(i(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:o("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},a.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,n){for(var i=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),o=e.firstChild;o;o=o.nextSibling)(!0===n||1!==o.nodeType||"SCRIPT"!==o.nodeName)&&i.appendChild(t(o,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0)):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(i.value=e.value),i.addEventListener("load",function(){i.scrollTop=e.scrollTop,i.scrollLeft=e.scrollLeft},!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,this.isHtml2CanvasLoaded()?html2canvas(this.prop.container,t):void 0}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);return delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded()?html2canvas(this.prop.container,e):void 0}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},a.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},a.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},a.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==n.html2canvas;return t||console.error("html2canvas not loaded."),t},a.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(t){if("object"!==i(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in a.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},a.prototype.get=function(t,e){return this.then(function(){var n=t in a.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},a.prototype.setMargin=function(t){return this.then(function(){switch(i(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},a.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},a.prototype.setProgress=function(t,e,n,i){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(t,e,n,i){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},a.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},a.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var i=this;t&&(t=t.bind(i)),e&&(e=e.bind(i));var o=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:a.convert(Object.assign({},i),Promise.prototype),r=n.call(o,t,e);return a.convert(r,i.__proto__)},a.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},a.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},a.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return a.convert(e,this)},a.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},a.prototype.error=function(t){return this.then(function(){throw new Error(t)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,r.getPageSize=function(e,n,i){if("object"===t(e)){var o=e;e=o.orientation,n=o.unit||n,i=o.format||i}n=n||"mm",i=i||"a4",e=(""+(e||"P")).toLowerCase();var r=(""+i).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(n){case"pt":var s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+n}if(a.hasOwnProperty(r))var l=a[r][1]/s,c=a[r][0]/s;else try{l=i[1],c=i[0]}catch(t){throw new Error("Invalid format: "+i)}if("p"===e||"portrait"===e){if(e="p",c>l){var u=c;c=l,l=u}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;if(e="l",l>c){u=c;c=l,l=u}}return{width:c,height:l,unit:n,k:s}},e.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this;var n=(e.jsPDF,new a(e));return e.worker?n:n.from(t).doCallback()}}(r.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(t){var e,n,i;r.API.addJS=function(t){return i=t,this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==e&&void 0!==n&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this}}(),function(t){t.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],r=e.exec(o);if(null!=r){var a=r[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,l=[];for(i=0;s>i;i++){var c=t.internal.newObject();l.push(c);var u=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();t.internal.write("<< /Names [ ");for(i=0;i<l.length;i++)t.internal.write("(page_"+(i+1)+")"+l[i]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+namesOid+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var i={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=(this.ctx.pdf.internal.getCoordinateString,this.ctx.pdf.internal.getVerticalCoordinateString),i=0;i<e.children.length;i++){var o=e.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(e)),i>0&&this.line("/Prev "+this.makeRef(e.children[i-1])),i<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var r=this.count=this.count_r({count:0},o);if(r>0&&this.line("/Count "+r),o.options&&o.options.pageNumber){var a=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(i=0;i<e.children.length;i++){o=e.children[i];this.renderItems(o)}},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(r.API),function(t){var e=function(){return"function"!=typeof PNG||"function"!=typeof l},n=function(e){return e!==t.image_compression.NONE&&i()},i=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},o=function(e,n,i,o){var l=5,c=d;switch(o){case t.image_compression.FAST:l=3,c=u;break;case t.image_compression.MEDIUM:l=6,c=h;break;case t.image_compression.SLOW:l=9,c=p}e=s(e,n,i,c);var f=new Uint8Array(r(l)),g=a(e),m=new Deflater(l),v=m.append(e),y=m.flush(),w=f.length+v.length+y.length,b=new Uint8Array(w+4);return b.set(f),b.set(v,f.length),b.set(y,f.length+v.length),b[w++]=g>>>24&255,b[w++]=g>>>16&255,b[w++]=g>>>8&255,b[w++]=255&g,t.arrayBufferToBinaryString(b)},r=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,i=n<<8;return i|=Math.min(3,(e-1&255)>>1)<<6,i|=0,[n,255&(i+=31-i%31)]},a=function(t,e){for(var n,i=1,o=0,r=t.length,a=0;r>0;){r-=n=r>e?e:r;do{o+=i+=t[a++]}while(--n);i%=65521,o%=65521}return(o<<16|i)>>>0},s=function(t,e,n,i){for(var o,r,a,s=t.length/e,l=new Uint8Array(t.length+s),c=g(),u=0;s>u;u++){if(a=u*e,o=t.subarray(a,a+e),i)l.set(i(o,n,r),a+u);else{for(var d=0,h=c.length,p=[];h>d;d++)p[d]=c[d](o,n,r);var f=m(p.concat());l.set(p[f],a+u)}r=o}return l},c=function(t){var e=Array.apply([],t);return e.unshift(0),e},u=function(t,e){var n,i=[],o=0,r=t.length;for(i[0]=1;r>o;o++)n=t[o-e]||0,i[o+1]=t[o]-n+256&255;return i},d=function(t,e,n){var i,o=[],r=0,a=t.length;for(o[0]=2;a>r;r++)i=n&&n[r]||0,o[r+1]=t[r]-i+256&255;return o},h=function(t,e,n){var i,o,r=[],a=0,s=t.length;for(r[0]=3;s>a;a++)i=t[a-e]||0,o=n&&n[a]||0,r[a+1]=t[a]+256-(i+o>>>1)&255;return r},p=function(t,e,n){var i,o,r,a,s=[],l=0,c=t.length;for(s[0]=4;c>l;l++)i=t[l-e]||0,o=n&&n[l]||0,r=n&&n[l-e]||0,a=f(i,o,r),s[l+1]=t[l]-a+256&255;return s},f=function(t,e,n){var i=t+e-n,o=Math.abs(i-t),r=Math.abs(i-e),a=Math.abs(i-n);return r>=o&&a>=o?t:a>=r?e:n},g=function(){return[c,u,d,h,p]},m=function(t){for(var e,n,i,o=0,r=t.length;r>o;)(n>(e=v(t[o].slice(1)))||!n)&&(n=e,i=o),o++;return i},v=function(t){for(var e=0,n=t.length,i=0;n>e;)i+=Math.abs(t[e++]);return i},y=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n};t.processPNG=function(t,i,r,a){var s,l,c,u,d,h,p=this.color_spaces.DEVICE_RGB,f=this.decode.FLATE_DECODE,g=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(t=(s=new PNG(t)).imgData,g=s.bits,p=s.colorSpace,u=s.colors,-1!==[4,6].indexOf(s.colorType)){if(8===s.bits)for(var m,v=(k=32==s.pixelBitlength?new Uint32Array(s.decodePixels().buffer):16==s.pixelBitlength?new Uint16Array(s.decodePixels().buffer):new Uint8Array(s.decodePixels().buffer)).length,w=new Uint8Array(v*s.colors),b=new Uint8Array(v),x=s.pixelBitlength-s.bits,C=0,A=0;v>C;C++){for(D=k[C],m=0;x>m;)w[A++]=D>>>m&255,m+=s.bits;b[C]=D>>>m&255}if(16===s.bits){v=(k=new Uint32Array(s.decodePixels().buffer)).length,w=new Uint8Array(v*(32/s.pixelBitlength)*s.colors),b=new Uint8Array(v*(32/s.pixelBitlength));for(var D,S=s.colors>1,P=(C=0,A=0,0);v>C;)D=k[C++],w[A++]=D>>>0&255,S&&(w[A++]=D>>>16&255,D=k[C++],w[A++]=D>>>0&255),b[P++]=D>>>16&255;g=8}n(a)?(t=o(w,s.width*s.colors,s.colors,a),h=o(b,s.width,1,a)):(t=w,h=b,f=null)}if(3===s.colorType&&(p=this.color_spaces.INDEXED,d=s.palette,s.transparency.indexed)){var F=s.transparency.indexed,I=0;for(C=0,v=F.length;v>C;++C)I+=F[C];if((I/=255)===v-1&&-1!==F.indexOf(0))c=[F.indexOf(0)];else if(I!==v){var k=s.decodePixels();for(b=new Uint8Array(k.length),C=0,v=k.length;v>C;C++)b[C]=F[k[C]];h=o(b,s.width,1)}}var L=y(a);return l=f===this.decode.FLATE_DECODE?"/Predictor "+L+" /Colors "+u+" /BitsPerComponent "+g+" /Columns "+s.width:"/Colors "+u+" /BitsPerComponent "+g+" /Columns "+s.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(h&&this.isArrayBuffer(h)||this.isArrayBufferView(h))&&(h=this.arrayBufferToBinaryString(h)),this.createImageInfo(t,s.width,s.height,p,g,f,i,r,l,c,d,h,L)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(r.API),function(t){t.processGIF89A=function(n,o,r,a){var s=new e(n),l=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:c},h=new i(100).encode(d,100);return t.processJPEG.call(this,h,o,r,a)},t.processGIF87A=t.processGIF89A}(r.API),function(t){t.processBMP=function(e,n,r,a){var s=new o(e,!1),l=s.width,c=s.height,u={data:s.getData(),width:l,height:c},d=new i(100).encode(u,100);return t.processJPEG.call(this,d,n,r,a)}}(r.API),r.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},function(t){var e=t.getCharWidthsArray=function(t,e){var n,i,o,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:r.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=0,p=l[0]||c,f=[];for(n=0,i=t.length;i>n;n++)o=t.charCodeAt(n),f.push("function"==typeof r.metadata.widthOfString?(r.metadata.widthOfGlyph(r.metadata.characterToGlyph(o))+s*(1e3/a)||0)/1e3:(l[o]||p)/c+(u[o]&&u[o][h]||0)/d),h=o;return f},n=t.getArraySum=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},i=t.getStringUnitWidth=function(t,i){var o=(i=i||{}).fontSize||this.internal.getFontSize(),r=i.font||this.internal.getFont(),a=i.charSpace||this.internal.getCharSpace();return"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,o,a)/o:n(e.apply(this,arguments))},o=function(t,e,n,i){for(var o=[],r=0,a=t.length,s=0;r!==a&&s+e[r]<n;)s+=e[r],r++;o.push(t.slice(0,r));var l=r;for(s=0;r!==a;)s+e[r]>i&&(o.push(t.slice(l,r)),s=0,l=r),s+=e[r],r++;return l!==r&&o.push(t.slice(l,r)),o},r=function(t,r,a){a||(a={});var s,l,c,u,d,h,p=[],f=[p],g=a.textIndent||0,m=0,v=0,y=t.split(" "),w=e.apply(this,[" ",a])[0];if(h=-1===a.lineIndent?y[0].length+2:a.lineIndent||0){var b=Array(h).join(" "),x=[];y.map(function(t){(t=t.split(/\s*\n/)).length>1?x=x.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):x.push(t[0])}),y=x,h=i.apply(this,[b,a])}for(c=0,u=y.length;u>c;c++){var C=0;if(s=y[c],h&&"\n"==s[0]&&(s=s.substr(1),C=1),l=e.apply(this,[s,a]),g+m+(v=n(l))>r||C){if(v>r){for(d=o.apply(this,[s,l,r-(g+m),r]),p.push(d.shift()),p=[d.pop()];d.length;)f.push([d.shift()]);v=n(l.slice(s.length-(p[0]?p[0].length:0)))}else p=[s];f.push(p),g=v+h,m=w}else p.push(s),g+=m+v,m=w}if(h)var A=function(t,e){return(e?b:"")+t.join(" ")};else A=function(t){return t.join(" ")};return f.map(A)};t.splitTextToSize=function(t,e,n){var i,o=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return e.metadata[n]?{widths:e.metadata[n].widths||{0:1},kerning:e.metadata[n].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);i=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/o;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=i.length;c>l;l++)u=u.concat(r.apply(this,[i[l],s,a]));return u}}(r.API),function(t){var e=function(t){for(var e="klmnopqrstuvwxyz",n={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i];var o,r,a,s,l,c={},u=1,d=c,h=[],p="",f="",g=t.length-1;for(i=1;i!=g;)l=t[i],i+=1,"'"==l?r?(s=r.join(""),r=o):r=[]:r?r.push(l):"{"==l?(h.push([d,s]),d={},s=o):"}"==l?((a=h.pop())[0][a[1]]=d,s=o,d=a[0]):"-"==l?u=-1:s===o?n.hasOwnProperty(l)?(p+=n[l],s=parseInt(p,16)*u,u=1,p=""):p+=l:n.hasOwnProperty(l)?(f+=n[l],d[s]=parseInt(f,16)*u,u=1,s=o,f=""):f+=l;return c},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},i={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},o={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:e("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:e("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e,n,r,a=t.font,s="Unicode";(e=o[s][a.postScriptName])&&((n=a.metadata[s]?a.metadata[s]:a.metadata[s]={}).widths=e.widths,n.kerning=e.kerning),(r=i[s][a.postScriptName])&&((n=a.metadata[s]?a.metadata[s]:a.metadata[s]={}).encoding=r,r.codePages&&r.codePages.length&&(a.encoding=r.codePages[0]))}])}(r.API),function(t){t.API.events.push(["addFont",function(e){var n=e.font,i=e.instance;if(void 0!==i&&i.existsFileInVFS(n.postScriptName)){var o=i.getFileFromVFS(n.postScriptName);if("string"!=typeof o)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");n.metadata=t.API.TTFFont.open(n.postScriptName,n.fontName,o,n.encoding),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}else if(!1===n.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').")}])}(r,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),function(t){t.addSvg=function(t,e,n,i,o){function r(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),i=[],o=3,r=t.length;r>o;)"c"===t[o]?(i.push([parseFloat(t[o+1]),parseFloat(t[o+2]),parseFloat(t[o+3]),parseFloat(t[o+4]),parseFloat(t[o+5]),parseFloat(t[o+6])]),o+=7):"l"===t[o]?(i.push([parseFloat(t[o+1]),parseFloat(t[o+2])]),o+=3):o+=1;return[e,n,i]}var a;if(e===a||n===a)throw new Error("addSVG needs values for 'x' and 'y'");var s=function(t){var e=t.createElement("iframe");return function(t,e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),e.name="childframe",e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("seamless","seamless"),e.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(e),e}(document),l=function(t,e){var n=(e.contentWindow||e.contentDocument).document;return n.write(t),n.close(),n.getElementsByTagName("svg")[0]}(t,s),c=[1,1],u=parseFloat(l.getAttribute("width")),d=parseFloat(l.getAttribute("height"));u&&d&&(i&&o?c=[i/u,o/d]:i?c=[i/u,i/u]:o&&(c=[o/d,o/d]));var h,p,f,g,m=l.childNodes;for(h=0,p=m.length;p>h;h++)(f=m[h]).tagName&&"PATH"===f.tagName.toUpperCase()&&((g=r(f.getAttribute("d").split(" ")))[0]=g[0]*c[0]+e,g[1]=g[1]*c[1]+n,this.lines.call(this,g[2],g[0],g[1],c));return this},t.addSVG=t.addSvg,t.addSvgAsImage=function(t,e,n,i,o,r,a,s){if(isNaN(e)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=o;var c=l.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height),canvg(l,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(l.toDataURL("image/jpeg",1),e,n,i,o,a,s),this}}(r.API),r.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,n);return this},r.API.viewerPreferences=function(e,n){function i(t,e){var n,i=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(i=!0);return i}e=e||{},n=n||!1;var o,r,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,h=0,p=!0;if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),o=this.internal.viewerpreferences.configuration,"reset"===e||!0===n){var f=l.length;for(h=0;f>h;h+=1)o[l[h]].value=o[l[h]].defaultValue,o[l[h]].explicitSet=!1}if("object"===t(e))for(r in e)if(a=e[r],i(l,r)&&void 0!==a){if("boolean"===o[r].type&&"boolean"==typeof a)o[r].value=a;else if("name"===o[r].type&&i(o[r].valueSet,a))o[r].value=a;else if("integer"===o[r].type&&Number.isInteger(a))o[r].value=a;else if("array"===o[r].type){for(u=0;u<a.length;u+=1)if(p=!0,1===a[u].length&&"number"==typeof a[u][0])c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)"number"!=typeof a[u][d]&&(p=!1);!0===p&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}o[r].value="["+c.join(" ")+"]"}else o[r].value=o[r].defaultValue;o[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in o)!0===o[t].explicitSet&&e.push("name"===o[t].type?"/"+t+" /"+o[t].value:"/"+t+" "+o[t].value);0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=o,this},function(t){var e="",n="",i="";t.addMetadata=function(t,o){return n=o||"http://jspdf.default.namespaceuri/",e=t,this.internal.events.subscribe("postPutResources",function(){if(e){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+n+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(t)),a=unescape(encodeURIComponent(e)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=r.length+a.length+s.length+o.length+l.length;i=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(o+r+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")}else i=""}),this.internal.events.subscribe("putCatalog",function(){i&&this.internal.write("/Metadata "+i+" 0 R")}),this}}(r.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,i=e.metadata.Unicode.widths,o=["","0","00","000","0000"],r=[""],a=0,s=t.length;s>a;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return r.join("");n=n.toString(16),r.push(o[4-n.length],n)}return r.join("")},i=function(t){var e,n,i,o,r,a,s;for(r="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],a=0,s=(n=Object.keys(t).sort(function(t,e){return t-e})).length;s>a;a++)e=n[a],i.length>=100&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),o=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),i.push("<"+e+"><"+o+">");return i.length&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),r+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},o=function(e,n,o,r){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var a=e.metadata.Unicode.widths,s=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var u=o();r({data:l,addLength1:!0}),n("endobj");var d=o();r({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var h=o();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+e.fontName),n("/FontFile2 "+u+" 0 R"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/Flags "+e.metadata.flags),n("/StemV "+e.metadata.stemV),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n(">>"),n("endobj");var p=o();n("<<"),n("/Type /Font"),n("/BaseFont /"+e.fontName),n("/FontDescriptor "+h+" 0 R"),n("/W "+t.API.PDFObject.convert(a)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+e.encoding+")"),n(">>"),n(">>"),n("endobj"),e.objectNumber=o(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+d+" 0 R"),n("/BaseFont /"+e.fontName),n("/Encoding /"+e.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),e.isAlreadyPutted=!0}};e.events.push(["putFont",function(t){o(t.font,t.out,t.newObject,t.putStream)}]);var r=function(e,n,o,r){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){for(var a=(e.metadata.Unicode.widths,e.metadata.rawData),s="",l=0;l<a.length;l++)s+=String.fromCharCode(a[l]);var c=o();r({data:s,addLength1:!0}),n("endobj");var u=o();r({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var d=o();n("<<"),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n("/StemV "+e.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+c+" 0 R"),n("/Flags 96"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/FontName /"+e.fontName),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n(">>"),n("endobj"),e.objectNumber=o();for(l=0;l<e.metadata.hmtx.widths.length;l++)e.metadata.hmtx.widths[l]=parseInt(e.metadata.hmtx.widths[l]*(1e3/e.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+d+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),n("endobj"),e.isAlreadyPutted=!0}};e.events.push(["putFont",function(t){r(t.font,t.out,t.newObject,t.putStream)}]);var a=function(t){var e,i,o=t.text||"",r=t.x,a=t.y,s=t.options||{},l=t.mutex||{},c=l.pdfEscape,u=l.activeFontKey,d=l.fonts,h=(l.activeFontSize,""),p=0,f="",g=d[i=u].encoding;if("Identity-H"!==d[i].encoding)return{text:o,x:r,y:a,options:s,mutex:l};for(f=o,i=u,"[object Array]"===Object.prototype.toString.call(o)&&(f=o[0]),p=0;p<f.length;p+=1)d[i].metadata.hasOwnProperty("cmap")&&(e=d[i].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),h+=e?f[p]:f[p].charCodeAt(0)<256&&d[i].metadata.hasOwnProperty("Unicode")?f[p]:"";var m="";return parseInt(i.slice(1))<14||"WinAnsiEncoding"===g?m=function(t){for(var e="",n=0;n<t.length;n++)e+=""+t.charCodeAt(n).toString(16);return e}(c(h,i)):"Identity-H"===g&&(m=n(h,d[i])),l.isHex=!0,{text:m,x:r,y:a,options:s,mutex:l}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=t.x,i=t.y,o=t.options,r=t.mutex,s=(o.lang,[]),l={text:e,x:n,y:i,options:o,mutex:r};if("[object Array]"===Object.prototype.toString.call(e)){var c=0;for(c=0;c<e.length;c+=1)s.push("[object Array]"===Object.prototype.toString.call(e[c])&&3===e[c].length?[a(Object.assign({},l,{text:e[c][0]})).text,e[c][1],e[c][2]]:a(Object.assign({},l,{text:e[c]})).text);t.text=s}else t.text=a(Object.assign({},l,{text:e})).text}])}(r,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),function(t){var e=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)};t.existsFileInVFS=function(t){return!!e(this.internal)&&void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e(this.internal),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(r.API),r.API.addHTML=function(t,e,n,i,o){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(i=e,o=n),"function"==typeof i&&(o=i,i=null),"function"!=typeof o&&(o=function(){});var r=this.internal,a=r.scaleFactor,s=r.pageSize.getWidth(),l=r.pageSize.getHeight();if((i=i||{}).onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var r=i.dim||{},c=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},i.margin),u=r.h||Math.min(l,t.height/a),d=r.w||Math.min(s,t.width/a)-e,h=i.format||"JPEG",p=i.imageCompression||"SLOW";if(t.height>l-c.top-c.bottom&&i.pagesplit){var f=function(t,e,n,o,r){var a=document.createElement("canvas");a.height=r,a.width=o;var s=a.getContext("2d");return s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,s.fillStyle=i.backgroundColor||"#ffffff",s.fillRect(0,0,o,r),s.drawImage(t,e,n,o,r,0,0,o,r),a},g=function(){for(var i,r,u=0,g=0,m={},v=!1;;){var y;if(g=0,m.top=0!==u?c.top:n,m.left=0!==u?c.left:e,v=(s-c.left-c.right)*a<t.width,"content"===c.useFor?0===u?(i=Math.min((s-c.left)*a,t.width),r=Math.min((l-c.top)*a,t.height-u)):(i=Math.min(s*a,t.width),r=Math.min(l*a,t.height-u),m.top=0):(i=Math.min((s-c.left-c.right)*a,t.width),r=Math.min((l-c.bottom-c.top)*a,t.height-u)),v)for(;;){"content"===c.useFor&&(0===g?i=Math.min((s-c.left)*a,t.width):(i=Math.min(s*a,t.width-g),m.left=0));var w=[y=f(t,g,u,i,r),m.left,m.top,y.width/a,y.height/a,h,null,p];if(this.addImage.apply(this,w),(g+=i)>=t.width)break;this.addPage()}else w=[y=f(t,0,u,i,r),m.left,m.top,y.width/a,y.height/a,h,null,p],this.addImage.apply(this,w);if((u+=r)>=t.height)break;this.addPage()}o(d,u,null,w)}.bind(this);if("CANVAS"===t.nodeName){var m=new Image;m.onload=g,m.src=t.toDataURL("image/png"),t=m}else g()}else{var v=Math.random().toString(35),y=[t,e,n,d,u,h,v,p];this.addImage.apply(this,y),o(d,u,v,y)}}.bind(this),"undefined"!=typeof html2canvas&&!i.rstz)return html2canvas(t,i);if("undefined"!=typeof rasterizeHTML){var c="drawDocument";return"string"==typeof t&&(c=/^http/.test(t)?"drawURL":"drawHTML"),i.width=i.width||s*a,rasterizeHTML[c](t,void 0,i).then(function(t){i.onrendered(t.image)},function(t){o(null,t)})}return null},function(e){var n,i,o,r,a,s,l,c,u,d,h,p,f,g,m,v,y,w,b,x;n=function(){function t(){}return function(e){return t.prototype=e,new t}}(),d=function(t){var e,n,i,o,r,a,s;for(n=0,i=t.length,e=void 0,o=!1,a=!1;!o&&n!==i;)(e=t[n]=t[n].trimLeft())&&(o=!0),n++;for(n=i-1;i&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(r=/\s+$/g,s=!0,n=0;n!==i;)"\u2028"!=t[n]&&(e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=r.test(e)),t[n]=e),n++;return t},h=function(t,e,n,i){return this.pdf=t,this.x=e,this.y=n,this.settings=i,this.watchFunctions=[],this.init(),this},p=function(t){var e,n,i;for(e=void 0,n=(i=t.split(",")).shift();!e&&n;)e=o[n.trim().toLowerCase()],n=i.shift();return e},f=function(t){var e;return(t="auto"===t?"0px":t).indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),void 0,16,(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),g[t]=Array.isArray(e)&&3===e.length?parseFloat(e[1])/16:1)},u=function(t){var e,n,i;return i=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),n=void 0,(e={})["font-family"]=p(i("font-family"))||"times",e["font-style"]=r[i("font-style")]||"normal",e["text-align"]=a[i("text-align")]||"left","bold"===(n=s[i("font-weight")]||"normal")&&(e["font-style"]="normal"===e["font-style"]?n:n+e["font-style"]),e["font-size"]=f(i("font-size"))||1,e["line-height"]=f(i("line-height"))||1,e.display="inline"===i("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&f(i("margin-top"))||0,e["margin-bottom"]=n&&f(i("margin-bottom"))||0,e["padding-top"]=n&&f(i("padding-top"))||0,e["padding-bottom"]=n&&f(i("padding-bottom"))||0,e["margin-left"]=n&&f(i("margin-left"))||0,e["margin-right"]=n&&f(i("margin-right"))||0,e["padding-left"]=n&&f(i("padding-left"))||0,e["padding-right"]=n&&f(i("padding-right"))||0,e["page-break-before"]=i("page-break-before")||"auto",e.float=l[i("cssFloat")]||"none",e.clear=c[i("clear")]||"none",e.color=i("color"),e},m=function(t,e,n){var i,o,r,a,s;if(r=!1,o=void 0,a=void 0,i=n["#"+t.id])if("function"==typeof i)r=i(t,e);else for(o=0,a=i.length;!r&&o!==a;)r=i[o](t,e),o++;if(i=n[t.nodeName],!r&&i)if("function"==typeof i)r=i(t,e);else for(o=0,a=i.length;!r&&o!==a;)r=i[o](t,e),o++;for(s="string"==typeof t.className?t.className.split(" "):[],o=0;o<s.length;o++)if(i=n["."+s[o]],!r&&i)if("function"==typeof i)r=i(t,e);else for(o=0,a=i.length;!r&&o!==a;)r=i[o](t,e),o++;return r},x=function(t,e){var n,i,o,r,a,s,l,c,u;for(n=[],i=[],o=0,u=t.rows[0].cells.length,l=t.clientWidth;u>o;)c=t.rows[0].cells[o],i[o]={name:c.textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/l*e.pdf.internal.pageSize.getWidth()},o++;for(o=1;o<t.rows.length;){for(s=t.rows[o],a={},r=0;r<s.cells.length;)a[i[r].name]=s.cells[r].textContent.replace(/\r?\n/g,""),r++;n.push(a),o++}return{rows:n,headers:i}};var C={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},A=1;i=function(e,o,r){var a,s,l,c,d,h,p,f;for(s=e.childNodes,a=void 0,(d="block"===(l=u(e)).display)&&(o.setBlockBoundary(),o.setBlockStyle(l)),c=0,h=s.length;h>c;){if("object"===t(a=s[c])){if(o.executeWatchFunctions(a),1===a.nodeType&&"HEADER"===a.nodeName){var g=a,y=o.pdf.margins_doc.top;o.pdf.internal.events.subscribe("addPage",function(){o.y=y,i(g,o,r),o.pdf.margins_doc.top=o.y+10,o.y+=10},!1)}if(8===a.nodeType&&"#comment"===a.nodeName)~a.textContent.indexOf("ADD_PAGE")&&(o.pdf.addPage(),o.y=o.pdf.margins_doc.top);else if(1!==a.nodeType||C[a.nodeName])if(3===a.nodeType){var w=a.nodeValue;if(a.nodeValue&&"LI"===a.parentNode.nodeName)if("OL"===a.parentNode.parentNode.nodeName)w=A+++". "+w;else{var b=l["font-size"],D=(3-.75*b)*o.pdf.internal.scaleFactor,S=.75*b*o.pdf.internal.scaleFactor,P=1.74*b/o.pdf.internal.scaleFactor;f=function(t,e){this.pdf.circle(t+D,e+S,P,"FD")}}16&a.ownerDocument.body.compareDocumentPosition(a)&&o.addText(w,l)}else"string"==typeof a&&o.addText(a,l);else{var F;if("IMG"===a.nodeName){var I=a.getAttribute("src");F=v[o.pdf.sHashCode(I)||I]}if(F){o.pdf.internal.pageSize.getHeight()-o.pdf.margins_doc.bottom<o.y+a.height&&o.y>o.pdf.margins_doc.top&&(o.pdf.addPage(),o.y=o.pdf.margins_doc.top,o.executeWatchFunctions(a));var k=u(a),L=o.x,E=12/o.pdf.internal.scaleFactor,N=(k["margin-left"]+k["padding-left"])*E,_=(k["margin-right"]+k["padding-right"])*E,T=(k["margin-top"]+k["padding-top"])*E,O=(k["margin-bottom"]+k["padding-bottom"])*E;L+=void 0!==k.float&&"right"===k.float?o.settings.width-a.width-_:N,o.pdf.addImage(F,L,o.y+T,a.width,a.height),F=void 0,"right"===k.float||"left"===k.float?(o.watchFunctions.push(function(t,e,n,i){return o.y>=e?(o.x+=t,o.settings.width+=n,!0):!!(i&&1===i.nodeType&&!C[i.nodeName]&&o.x+i.width>o.pdf.margins_doc.left+o.pdf.margins_doc.width)&&(o.x+=t,o.y=e,o.settings.width+=n,!0)}.bind(this,"left"===k.float?-a.width-N-_:0,o.y+a.height+T+O,a.width)),o.watchFunctions.push(function(t,e,n){return!(o.y<t&&e===o.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===u(n).clear&&(o.y=t,!0)}.bind(this,o.y+a.height,o.pdf.internal.getNumberOfPages())),o.settings.width-=a.width+N+_,"left"===k.float&&(o.x+=a.width+N+_)):o.y+=a.height+T+O}else if("TABLE"===a.nodeName)p=x(a,o),o.y+=10,o.pdf.table(o.x,o.y,p.rows,p.headers,{autoSize:!1,printHeaders:r.printHeaders,margins:o.pdf.margins_doc,css:u(a)}),o.y=o.pdf.lastCellPos.y+o.pdf.lastCellPos.h+20;else if("OL"===a.nodeName||"UL"===a.nodeName)A=1,m(a,o,r)||i(a,o,r),o.y+=10;else if("LI"===a.nodeName){var B=o.x;o.x+=20/o.pdf.internal.scaleFactor,o.y+=3,m(a,o,r)||i(a,o,r),o.x=B}else"BR"===a.nodeName?(o.y+=l["font-size"]*o.pdf.internal.scaleFactor,o.addText("\u2028",n(l))):m(a,o,r)||i(a,o,r)}}c++}return r.outY=o.y,d?o.setBlockBoundary(f):void 0},v={},y=function(t,e,n,i){function o(){e.pdf.internal.events.publish("imagesLoaded"),i(a)}function r(t,n,i){if(t){var r=new Image;a=++c,r.crossOrigin="",r.onerror=r.onload=function(){if(r.complete&&(0===r.src.indexOf("data:image/")&&(r.width=n||r.width||0,r.height=i||r.height||0),r.width+r.height)){var a=e.pdf.sHashCode(t)||t;v[a]=v[a]||r}--c||o()},r.src=t}}for(var a,s=t.getElementsByTagName("img"),l=s.length,c=0;l--;)r(s[l].getAttribute("src"),s[l].width,s[l].height);return c||o()},w=function(t,e,n){var o=t.getElementsByTagName("footer");if(o.length>0){o=o[0];var r=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},i(o,e,n);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=r,e.pdf.margins_doc.bottom+=s;for(var l=function(t){var r=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var l=o.getElementsByTagName("span"),c=0;c<l.length;++c)(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[c].innerHTML=r),(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[c].innerHTML="###jsPDFVarTotalPages###");i(o,e,n),e.pdf.margins_doc.bottom+=s,e.y=a},c=o.getElementsByTagName("span"),u=0;u<c.length;++u)(" "+c[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",l,!1),l(),C.FOOTER=1}},b=function(t,e,n,o,r,a){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,n,i;return i="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",(n=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",n.innerHTML='<iframe style="height:1px;width:1px" name="'+i+'" />',document.body.appendChild(n),(e=window.frames[i]).document.open(),e.document.writeln(t),e.document.close(),e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var s,l=new h(t,n,o,r);return y.call(this,e,l,r.elementHandlers,function(t){w(e,l,r.elementHandlers),i(e,l,r.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),s=l.dispose(),"function"==typeof a?a(s):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:l.x,y:l.y}},h.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},h.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},h.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(this.watchFunctions.length>0){for(var i=0;i<this.watchFunctions.length;++i)!0===this.watchFunctions[i](t)?e=!0:n.push(this.watchFunctions[i]);this.watchFunctions=n}return e},h.prototype.splitFragmentsIntoLines=function(t,e){var i,o,r,a,s,l,c,u,d,h,p,f,g,m;for(12,h=this.pdf.internal.scaleFactor,a={},o=void 0,d=void 0,r=void 0,s=void 0,m=void 0,u=void 0,c=void 0,l=void 0,f=[p=[]],i=0,g=this.settings.width;t.length;)if(s=t.shift(),m=e.shift(),s)if((r=a[(o=m["font-family"])+(d=m["font-style"])])||(r=this.pdf.internal.getFont(o,d).metadata.Unicode,a[o+d]=r),u={widths:r.widths,kerning:r.kerning,fontSize:12*m["font-size"],textIndent:i},c=this.pdf.getStringUnitWidth(s,u)*u.fontSize/h,"\u2028"==s)p=[],f.push(p);else if(i+c>g){for(l=this.pdf.splitTextToSize(s,g,u),p.push([l.shift(),m]);l.length;)p=[[l.shift(),m]],f.push(p);i=this.pdf.getStringUnitWidth(p[0][0],u)*u.fontSize/h}else p.push([s,m]),i+=c;if(void 0!==m["text-align"]&&("center"===m["text-align"]||"right"===m["text-align"]||"justify"===m["text-align"]))for(var v=0;v<f.length;++v){var y=this.pdf.getStringUnitWidth(f[v][0][0],u)*u.fontSize/h;v>0&&(f[v][0][1]=n(f[v][0][1]));var w=g-y;if("right"===m["text-align"])f[v][0][1]["margin-left"]=w;else if("center"===m["text-align"])f[v][0][1]["margin-left"]=w/2;else if("justify"===m["text-align"]){var b=f[v][0][0].split(" ").length-1;f[v][0][1]["word-spacing"]=w/b,v===f.length-1&&(f[v][0][1]["word-spacing"]=0)}}return f},h.prototype.RenderTextFragment=function(t,e){var n,i;i=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*i).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var o=this.getPdfColor(e.color);o!==this.lastTextColor&&(this.pdf.internal.write(o),this.lastTextColor=o),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},h.prototype.getPdfColor=function(t){var e,n,i,o=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=o)e=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var r=new RGBColor(t);t=r.ok?r.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),i=t.substring(5,7),i=parseInt(i,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,i=255&a}var s=this.f3;return 0===e&&0===n&&0===i||void 0===n?s(e/255)+" g":[s(e/255),s(n/255),s(i/255),"rg"].join(" ")},h.prototype.f3=function(t){return t.toFixed(3)},h.prototype.renderParagraph=function(t){var e,n,i,o,r,a,s,l,c,u,h,p,f;if(i=d(this.paragraph.text),p=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},i.join("").trim()){s=this.splitFragmentsIntoLines(i,p),a=void 0,l=void 0,12,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((e["margin-top"]||0)+(e["padding-top"]||0))*n),c=this.pdf.internal.write,o=void 0,r=void 0,this.y+=h,c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;s.length;){for(l=0,o=0,r=(a=s.shift()).length;o!==r;)a[o][0].trim()&&(l=Math.max(l,a[o][1]["line-height"],a[o][1]["font-size"]),f=7*a[o][1]["font-size"]),o++;var m=0,v=0;for(void 0!==a[0][1]["margin-left"]&&a[0][1]["margin-left"]>0&&(m=(v=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-g,g=v),c(m+Math.max(e["margin-left"]||0,0)*n,(-12*l).toFixed(2),"Td"),o=0,r=a.length;o!==r;)a[o][0]&&this.RenderTextFragment(a[o][0],a[o][1]),o++;if(this.y+=l*n,this.executeWatchFunctions(a[0][1])&&s.length>0){var y=[],w=[];s.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(y.push(t[e][0]+" "),w.push(t[e][1])),++e}),s=this.splitFragmentsIntoLines(d(y),w),c("ET","Q"),c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-f/2),c("ET","Q"),this.y+=u}},h.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},h.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},h.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},o={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},s={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},r={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},l={none:"none",right:"right",left:"left"},c={none:"none",both:"both"},g={normal:1},e.fromHTML=function(t,e,n,i,o,r){return this.margins_doc=r||{top:0,bottom:0},i||(i={}),i.elementHandlers||(i.elementHandlers={}),b(this,t,isNaN(e)?4:e,isNaN(n)?4:n,i,o)}}(r.API),r.API,("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(t,e,n){var i=e.canvas;if(i){var o,r;if(i.pdf=e,e.annotations={_nameMap:[],createAnnotation:function(t,n){var i,o=e.context2d._wrapX(n.left),r=e.context2d._wrapY(n.top),a=(e.context2d._page(n.top),t.indexOf("#"));i=a>=0?{name:t.substring(a+1)}:{url:t},e.link(o,r,n.right-n.left,n.bottom-n.top,i)},setName:function(t,n){var i=e.context2d._wrapX(n.left),o=e.context2d._wrapY(n.top),r=e.context2d._page(n.top);this._nameMap[t]={page:r,x:i,y:o}}},i.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var a,s,l=document.createElement("iframe");document.body.appendChild(l),(null==(a=l.contentDocument)||null==a)&&(a=l.contentWindow.document),a.open(),a.write(t),a.close(),o=a.body,s=a.body||{},t=a.documentElement||{},r=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else o=t,s=t.body||{},r=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var c={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:i,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:r=e.internal.pageSize.getHeight(),scrollY:r};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(o,c).then(function(){n&&(l&&l.parentElement.removeChild(l),n(e))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){function e(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function n(t,n){n=n||{};var i=new r;return e(t).forEach(function(t){i.append(t)}),n.type?i.getBlob(n.type):i.getBlob()}function i(t,n){return new a(e(t),n||{})}function o(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&n&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob?(this.setRequestHeader("Content-Type",t.type),n.call(this,t)):n.call(this,t)});try{new File([],"")}catch(e){try{var i=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=i}catch(e){i=function(t,e,n){var i=new Blob(t,n),o=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return i.name=e,i.lastModifiedDate=o,i.lastModified=+o,i.toString=function(){return"[object File]"},c&&(i[c]="File"),i};t.File=i}}}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var a=t.Blob,s=URL.createObjectURL,l=URL.revokeObjectURL,c=t.Symbol&&t.Symbol.toStringTag,u=!1,d=!1,h=!!t.ArrayBuffer,p=r&&r.prototype.append&&r.prototype.getBlob;try{u=2===new Blob([""]).size,d=2===new Blob([new Uint8Array([1,2])]).size}catch(t){}if(t.Blob&&(n.prototype=Blob.prototype,i.prototype=Blob.prototype),c)try{File.prototype[c]="File",Blob.prototype[c]="Blob",FileReader.prototype[c]="FileReader"}catch(t){}u?(o(),t.Blob=d?t.Blob:i):p?(o(),t.Blob=n):function(){function e(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e.push(i):2048>i?e.push(192|i>>6,128|63&i):55296>i||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}function n(t){var e,n,i,o,r,a;for(e="",i=t.length,n=0;i>n;)switch(o=t[n++],o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(o);break;case 12:case 13:r=t[n++],e+=String.fromCharCode((31&o)<<6|63&r);break;case 14:r=t[n++],a=t[n++],e+=String.fromCharCode((15&o)<<12|(63&r)<<6|(63&a)<<0)}return e}function i(t){return t&&DataView.prototype.isPrototypeOf(t)}function o(t){for(var e=new Array(t.byteLength),n=new Uint8Array(t),i=e.length;i--;)e[i]=n[i];return e}function r(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<t.length;i+=3){var o=t[i],r=i+1<t.length,a=r?t[i+1]:0,s=i+2<t.length,l=s?t[i+2]:0,c=o>>2,u=(3&o)<<4|a>>4,d=(15&a)<<2|l>>6,h=63&l;s||(h=64,r||(d=64)),n.push(e[c],e[u],e[d],e[h])}return n.join("")}function a(t,n){for(var r=0,s=(t=t||[]).length;s>r;r++){var l=t[r];t[r]=l instanceof a?l._buffer:"string"==typeof l?e(l):h&&(ArrayBuffer.prototype.isPrototypeOf(l)||g(l))?o(l):h&&i(l)?o(l.buffer):e(String(l))}this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=n&&n.type||""}function c(t,e,n){n=n||{};var i=a.call(this,t,n)||this;return i.name=e,i.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,i.lastModified=+i.lastModifiedDate,i}function u(){if(!(this instanceof u))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var n=this["on"+e.type];"function"==typeof n&&n(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function d(t,e,n){if(!(e instanceof a))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=u.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}var p=Object.create||function(t){function e(){}return e.prototype=t,new e};if(h)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(t){return t&&f.indexOf(Object.prototype.toString.call(t))>-1};if(a.prototype.slice=function(t,e,n){return new a([this._buffer.slice(t||0,e||this._buffer.length)],{type:n})},a.prototype.toString=function(){return"[object Blob]"},c.prototype=p(a.prototype),c.prototype.constructor=c,Object.setPrototypeOf)Object.setPrototypeOf(c,a);else try{c.__proto__=a}catch(t){}c.prototype.toString=function(){return"[object File]"},u.EMPTY=0,u.LOADING=1,u.DONE=2,u.prototype.error=null,u.prototype.onabort=null,u.prototype.onerror=null,u.prototype.onload=null,u.prototype.onloadend=null,u.prototype.onloadstart=null,u.prototype.onprogress=null,u.prototype.readAsDataURL=function(t){d(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+r(t._buffer)},u.prototype.readAsText=function(t){d(this,t,"readAsText"),this.result=n(t._buffer)},u.prototype.readAsArrayBuffer=function(t){d(this,t,"readAsText"),this.result=t._buffer.slice()},u.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof a?"data:"+t.type+";base64,"+r(t._buffer):s.call(URL,t)},URL.revokeObjectURL=function(t){l&&l.call(URL,t)};var m=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;m&&(XMLHttpRequest.prototype.send=function(t){t instanceof a?(this.setRequestHeader("Content-Type",t.type),m.call(this,n(t._buffer))):m.call(this,t)}),t.FileReader=u,t.File=c,t.Blob=a}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var a=a||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,r=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,l=function(t){s(function(){throw t},0)},c=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},u=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var o=t["on"+e[i]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){l(t)}}},d=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,l,h){h||(e=d(e));var p,f=this,g="application/octet-stream"===e.type,m=function(){u(f,"writestart progress write writeend".split(" "))};return f.readyState=f.INIT,o?(p=n().createObjectURL(e),void s(function(){var t,e;i.href=p,i.download=l,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),m(),c(p),f.readyState=f.DONE},0)):void function(){if((a||g&&r)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,m()},i.readAsDataURL(e),void(f.readyState=f.INIT)}p||(p=n().createObjectURL(e)),g?t.location.href=p:t.open(p,"_blank")||(t.location.href=p);f.readyState=f.DONE,m(),c(p)}()},p=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=d(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(t,e,n){return new h(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);try{exports.GifWriter=function(t,e,n,i){function o(t){var e=t.length;if(2>e||e>256||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}var r=0,a=void 0===(i=void 0===i?{}:i).loop?null:i.loop,s=void 0===i.palette?null:i.palette;if(0>=e||0>=n||e>65535||n>65535)throw"Width/Height invalid.";t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var l=0,c=0;if(null!==s){for(var u=o(s);u>>=1;)++l;if(u=1<<l,--l,void 0!==i.background){if((c=i.background)>=u)throw"Background index out of range.";if(0===c)throw"Background index explicitly passed as 0."}}if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=(null!==s?128:0)|l,t[r++]=c,t[r++]=0,null!==s)for(var d=0,h=s.length;h>d;++d){var p=s[d];t[r++]=p>>16&255,t[r++]=p>>8&255,t[r++]=255&p}if(null!==a){if(0>a||a>65535)throw"Loop count invalid.";t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=0}var f=!1;this.addFrame=function(e,n,i,a,l,c){if(!0===f&&(--r,f=!1),c=void 0===c?{}:c,0>e||0>n||e>65535||n>65535)throw"x/y invalid.";if(0>=i||0>=a||i>65535||a>65535)throw"Width/Height invalid.";if(l.length<i*a)throw"Not enough pixels for the frame size.";var u=!0,d=c.palette;if(null==d&&(u=!1,d=s),null==d)throw"Must supply either a local or global palette.";for(var h=o(d),p=0;h>>=1;)++p;h=1<<p;var g=void 0===c.delay?0:c.delay,m=void 0===c.disposal?0:c.disposal;if(0>m||m>3)throw"Disposal out of range.";var v=!1,y=0;if(void 0!==c.transparent&&null!==c.transparent&&(v=!0,0>(y=c.transparent)||y>=h))throw"Transparent color index.";if((0!==m||v||0!==g)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=m<<2|(!0===v?1:0),t[r++]=255&g,t[r++]=g>>8&255,t[r++]=y,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=!0===u?128|p-1:0,!0===u)for(var w=0,b=d.length;b>w;++w){var x=d[w];t[r++]=x>>16&255,t[r++]=x>>8&255,t[r++]=255&x}r=function(t,e,n,i){function o(n){for(;h>=n;)t[e++]=255&p,p>>=8,h-=8,e===a+256&&(t[a]=255,a=e++)}function r(t){p|=t<<h,h+=d,o(8)}t[e++]=n;var a=e++,s=1<<n,l=s-1,c=s+1,u=c+1,d=n+1,h=0,p=0,f=i[0]&l,g={};r(s);for(var m=1,v=i.length;v>m;++m){var y=i[m]&l,w=f<<8|y,b=g[w];if(void 0===b){for(p|=f<<h,h+=d;h>=8;)t[e++]=255&p,p>>=8,h-=8,e===a+256&&(t[a]=255,a=e++);4096===u?(r(s),u=c+1,d=n+1,g={}):(u>=1<<d&&++d,g[w]=u++),f=y}else f=b}return r(f),r(c),o(1),a+1===e?t[a]=0:(t[a]=e-a-1,t[e++]=0),e}(t,r,2>p?2:p,l)},this.end=function(){return!1===f&&(t[r++]=59,f=!0),r}},exports.GifReader=e}catch(t){}window.tmp=e,r.API.adler32cs=function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,n=function(){if(!t)return function(){return!1};try{var n={};"function"==typeof n.Buffer&&(e=n.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),i=null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},o=65521,r=function(t,e){for(var n=65535&t,i=t>>>16,r=0,a=e.length;a>r;r++)n=(n+(255&e.charCodeAt(r)))%o,i=(i+n)%o;return(i<<16|n)>>>0},a=function(t,e){for(var n=65535&t,i=t>>>16,r=0,a=e.length;a>r;r++)n=(n+e[r])%o,i=(i+n)%o;return(i<<16|n)>>>0},s={},l=s.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},o=e.prototype={};return o.constructor=e,e.from=function(t){return t.prototype=o,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=r(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=o,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var n=i(t.toString());this.checksum=r(1,n)}),t&&(e.fromBuffer=function(t){return t.prototype=o,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var i=new Uint8Array(t);return this.checksum=a(1,i)})),o.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=r(this.checksum,t)},o.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=i(t.toString());return this.checksum=r(this.checksum,e)},t&&(o.updateBuffer=function(t){if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=a(this.checksum,e)}),o.clone=function(){return new l(this.checksum)},e}();return s.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return r(1,t.toString())},s.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=i(t.toString());return r(1,e)},t&&(s.fromBuffer=function(t){if(!n(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return a(1,e)}),s}(),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,i,o,r,a,s,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,i=p[n];return void 0!==i?c[256*i+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},w=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,a,s){var l,c,u,d,h=e[s];switch(h){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(h="AN");break;case"AL":m=!0,h="R";break;case"WS":h="N";break;case"CS":1>s||s+1>=e.length||"EN"!==(l=a[s-1])&&"AN"!==l||"EN"!==(c=e[s+1])&&"AN"!==c?h="N":m&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=s>0?a[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){h="EN";break}if(m){h="N";break}for(u=s+1,d=e.length;d>u&&"ET"===e[u];)u++;h=d>u&&"EN"===e[u]?"EN":"N";break;case"NSM":if(o&&!r){for(d=e.length,u=s+1;d>u&&"NSM"===e[u];)u++;if(d>u){var p=t[s],f=p>=1425&&2303>=p||64286===p;if(l=e[u],f&&("R"===l||"AL"===l)){h="R";break}}}h=1>s||"B"===(l=e[s-1])?"N":a[s-1];break;case"B":m=!1,n=!0,h=v;break;case"S":i=!0,h="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":h="N"}return h},x=function(t,e,n){var i=t.split("");return n&&C(i,n,{hiLevel:v}),i.reverse(),e&&e.reverse(),i.join("")},C=function(t,e,o){var r,a,s,l,c,p=-1,f=t.length,g=0,w=[],x=v?d:u,C=[];for(m=!1,n=!1,i=!1,a=0;f>a;a++)C[a]=y(t[a]);for(s=0;f>s;s++){if(c=g,w[s]=b(t,C,w,s),r=240&(g=x[c][h[w[s]]]),g&=15,e[s]=l=x[g][5],r>0)if(16===r){for(a=p;s>a;a++)e[a]=1;p=-1}else p=-1;if(x[g][6])-1===p&&(p=s);else if(p>-1){for(a=p;s>a;a++)e[a]=l;p=-1}"B"===C[s]&&(e[s]=0),o.hiLevel|=l}i&&function(t,e,n){for(var i=0;n>i;i++)if("S"===t[i]){e[i]=v;for(var o=i-1;o>=0&&"WS"===t[o];o--)e[o]=v}}(C,e,f)},A=function(t,e,i,o,r){if(!(r.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(i&&i.reverse());for(var a,s,l,c,u=e.length,d=0;u>d;){if(o[d]>=t){for(l=d+1;u>l&&o[l]>=t;)l++;for(c=d,s=l-1;s>c;c++,s--)a=e[c],e[c]=e[s],e[s]=a,i&&(a=i[c],i[c]=i[s],i[s]=a);d=l}d++}}},D=function(t,e,n){var i=t.split(""),o={hiLevel:v};return n||(n=[]),C(i,n,o),function(t,e,n){if(0!==n.hiLevel&&l)for(var i,o=0;o<t.length;o++)1===e[o]&&(i=f.indexOf(t[o]))>=0&&(t[o]=f[i+1])}(i,n,o),A(2,i,e,n,o),A(1,i,e,n,o),i.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===r&&(r=w(t)),void 0===s&&(s=w(t))}(t,e),o||!a||s)if(o&&a&&r^s)v=r?1:0,t=x(t,e,n);else if(!o&&a&&s)v=r?1:0,t=D(t,e,n),t=x(t,e);else if(!o||r||a||s){if(o&&!a&&r^s)t=x(t,e),r?(v=0,t=D(t,e,n)):(v=1,t=D(t,e,n),t=x(t,e));else if(o&&r&&!a&&s)v=1,t=D(t,e,n),t=x(t,e);else if(!o&&!a&&r^s){var i=l;r?(v=1,t=D(t,e,n),v=0,l=!1,t=D(t,e,n),l=i):(v=0,t=D(t,e,n),t=x(t,e),v=1,l=!1,t=D(t,e,n),l=i,t=x(t,e))}}else v=0,t=D(t,e,n);else v=r?1:0,t=D(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(o=t.isInputVisual,a=t.isOutputVisual,r=t.isInputRtl,s=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,i=(t.x,t.y,t.options||{}),o=(t.mutex,i.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var r=0;for(o=[],r=0;r<e.length;r+=1)o.push("[object Array]"===Object.prototype.toString.call(e[r])?[n.doBidiReorder(e[r][0]),e[r][1],e[r][2]]:[n.doBidiReorder(e[r])]);t.text=o}else t.text=n.doBidiReorder(e)}])}(r),window.tmp=i,o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;t>e;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},o.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log("bit decode error:"+t)}},o.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=this.height>=0?this.height-1:-this.height;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;t>o;o++)for(var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*o*4,s=0;8>s&&8*o+s<this.width;s++){var l=this.palette[r>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},o.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;t>o;o++){var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*o*4,s=r>>4,l=15&r,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*o+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},o.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*i;if(o<this.palette.length){var a=this.palette[o];this.data[r]=a.red,this.data[r+1]=a.green,this.data[r+2]=a.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}0!=t&&(this.pos+=4-t)}},o.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(r&e)/e*255|0,s=(r>>5&e)/e*255|0,l=(r>>10&e)/e*255|0,c=r>>15?255:0,u=i*this.width*4+4*o;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},o.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=o*this.width*4+4*r;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},o.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=r,this.data[a+1]=o,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},o.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=r,this.data[s+1]=o,this.data[s+2]=i,this.data[s+3]=a}},o.prototype.getData=function(){return this.data},window.tmp=o,function(t){function e(){function t(t){var e,n,o,r,a,l,c=i.dyn_tree,u=i.stat_desc.static_tree,d=i.stat_desc.extra_bits,p=i.stat_desc.extra_base,f=i.stat_desc.max_length,g=0;for(r=0;s>=r;r++)t.bl_count[r]=0;for(c[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;h>e;e++)(r=c[2*c[2*(n=t.heap[e])+1]+1]+1)>f&&(r=f,g++),c[2*n+1]=r,n>i.max_code||(t.bl_count[r]++,a=0,n>=p&&(a=d[n-p]),l=c[2*n],t.opt_len+=l*(r+a),u&&(t.static_len+=l*(u[2*n+1]+a)));if(0!==g){do{for(r=f-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(r=f;0!==r;r--)for(n=t.bl_count[r];0!==n;)(o=t.heap[--e])>i.max_code||(c[2*o+1]!=r&&(t.opt_len+=(r-c[2*o+1])*c[2*o],c[2*o+1]=r),n--)}}function e(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function n(t,n,i){var o,r,a,l=[],c=0;for(o=1;s>=o;o++)l[o]=c=c+i[o-1]<<1;for(r=0;n>=r;r++)0!==(a=t[2*r+1])&&(t[2*r]=e(l[a]++,a))}var i=this;i.build_tree=function(e){var o,r,a,s=i.dyn_tree,l=i.stat_desc.static_tree,c=i.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=h,o=0;c>o;o++)0!==s[2*o]?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):s[2*o+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=2>u?++u:0)]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=l[2*a+1]);for(i.max_code=u,o=Math.floor(e.heap_len/2);o>=1;o--)e.pqdownheap(s,o);a=c;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(s,1),r=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=r,s[2*a]=s[2*o]+s[2*r],e.depth[a]=Math.max(e.depth[o],e.depth[r])+1,s[2*o+1]=s[2*r+1]=a,e.heap[1]=a++,e.pqdownheap(s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),n(s,i.max_code,e.bl_count)}}function n(t,e,n,i,o){var r=this;r.static_tree=t,r.extra_bits=e,r.extra_base=n,r.elems=i,r.max_length=o}function i(t,e,n,i,o){var r=this;r.good_length=t,r.max_lazy=e,r.nice_length=n,r.max_chain=i,r.func=o}function o(t,e,n,i){var o=t[2*e],r=t[2*n];return r>o||o==r&&i[e]<=i[n]}function r(){function t(){var t;for(t=0;d>t;t++)Wt[2*t]=0;for(t=0;l>t;t++)qt[2*t]=0;for(t=0;c>t;t++)Vt[2*t]=0;Wt[2*p]=1,te.opt_len=te.static_len=0,Jt=Xt=0}function i(t,e){var n,i,o=-1,r=t[1],a=0,s=7,l=4;for(0===r&&(s=138,l=3),t[2*(e+1)+1]=65535,n=0;e>=n;n++)i=r,r=t[2*(n+1)+1],++a<s&&i==r||(l>a?Vt[2*i]+=a:0!==i?(i!=o&&Vt[2*i]++,Vt[2*f]++):10>=a?Vt[2*g]++:Vt[2*m]++,a=0,o=i,0===r?(s=138,l=3):i==r?(s=6,l=3):(s=7,l=4))}function r(){var t;for(i(Wt,ee.max_code),i(qt,ne.max_code),ie.build_tree(te),t=c-1;t>=3&&0===Vt[2*e.bl_order[t]+1];t--);return te.opt_len+=3*(t+1)+5+5+4,t}function a(t){te.pending_buf[te.pending++]=t}function s(t){a(255&t),a(t>>>8&255)}function h(t,e){var n,i=e;$t>v-i?(s(Kt|=(n=t)<<$t&65535),Kt=n>>>v-$t,$t+=i-v):(Kt|=t<<$t&65535,$t+=i)}function N(t,e){var n=2*t;h(65535&e[n],65535&e[n+1])}function et(t,e){var n,i,o=-1,r=t[1],a=0,s=7,l=4;for(0===r&&(s=138,l=3),n=0;e>=n;n++)if(i=r,r=t[2*(n+1)+1],!(++a<s&&i==r)){if(l>a)do{N(i,Vt)}while(0!=--a);else 0!==i?(i!=o&&(N(i,Vt),a--),N(f,Vt),h(a-3,2)):10>=a?(N(g,Vt),h(a-3,3)):(N(m,Vt),h(a-11,7));a=0,o=i,0===r?(s=138,l=3):i==r?(s=6,l=3):(s=7,l=4)}}function nt(t,n,i){var o;for(h(t-257,5),h(n-1,5),h(i-4,4),o=0;i>o;o++)h(Vt[2*e.bl_order[o]+1],3);et(Wt,t-1),et(qt,n-1)}function it(){16==$t?(s(Kt),Kt=0,$t=0):$t>=8&&(a(255&Kt),Kt>>>=8,$t-=8)}function ot(){h(X<<1,3),N(p,n.static_ltree),it(),9>1+Qt+10-$t&&(h(X<<1,3),N(p,n.static_ltree),it()),Qt=7}function rt(t,n){var i,o,r;if(te.pending_buf[Zt+2*Jt]=t>>>8&255,te.pending_buf[Zt+2*Jt+1]=255&t,te.pending_buf[Gt+Jt]=255&n,Jt++,0===t?Wt[2*n]++:(Xt++,t--,Wt[2*(e._length_code[n]+u+1)]++,qt[2*e.d_code(t)]++),0==(8191&Jt)&&jt>2){for(i=8*Jt,o=_t-kt,r=0;l>r;r++)i+=qt[2*r]*(5+e.extra_dbits[r]);if(i>>>=3,Xt<Math.floor(Jt/2)&&i<Math.floor(o/2))return!0}return Jt==Yt-1}function at(t,n){var i,o,r,a,s=0;if(0!==Jt)do{i=te.pending_buf[Zt+2*s]<<8&65280|255&te.pending_buf[Zt+2*s+1],o=255&te.pending_buf[Gt+s],s++,0===i?N(o,t):(N((r=e._length_code[o])+u+1,t),0!==(a=e.extra_lbits[r])&&h(o-=e.base_length[r],a),i--,N(r=e.d_code(i),n),0!==(a=e.extra_dbits[r])&&h(i-=e.base_dist[r],a))}while(Jt>s);N(p,t),Qt=t[2*p+1]}function st(){$t>8?s(Kt):$t>0&&a(255&Kt),Kt=0,$t=0}function lt(t,e,n){h((Z<<1)+(n?1:0),3),function(t,e,n){st(),Qt=8,n&&(s(e),s(~e)),te.pending_buf.set(bt.subarray(t,t+e),te.pending),te.pending+=e}(t,e,!0)}function ct(e){(function(e,i,o){var a,s,l=0;jt>0?(ee.build_tree(te),ne.build_tree(te),l=r(),(a=te.opt_len+3+7>>>3)>=(s=te.static_len+3+7>>>3)&&(a=s)):a=s=i+5,a>=i+4&&-1!=e?lt(e,i,o):s==a?(h((X<<1)+(o?1:0),3),at(n.static_ltree,n.static_dtree)):(h((Q<<1)+(o?1:0),3),nt(ee.max_code+1,ne.max_code+1,l+1),at(Wt,qt)),t(),o&&st()})(kt>=0?kt:-1,_t-kt,e),kt=_t,pt.flush_pending()}function ut(){var t,e,n,i;do{if(0===(i=xt-Ot-_t)&&0===_t&&0===Ot)i=vt;else if(-1==i)i--;else if(_t>=vt+vt-tt){bt.set(bt.subarray(vt,vt+vt),0),Tt-=vt,_t-=vt,kt-=vt,n=t=St;do{e=65535&At[--n],At[n]=e>=vt?e-vt:0}while(0!=--t);n=t=vt;do{e=65535&Ct[--n],Ct[n]=e>=vt?e-vt:0}while(0!=--t);i+=vt}if(0===pt.avail_in)return;t=pt.read_buf(bt,_t+Ot,i),(Ot+=t)>=K&&(Dt=((Dt=255&bt[_t])<<It^255&bt[_t+1])&Ft)}while(tt>Ot&&0!==pt.avail_in)}function dt(t){var e,n,i=Mt,o=_t,r=Bt,a=_t>vt-tt?_t-(vt-tt):0,s=Ht,l=wt,c=_t+$,u=bt[o+r-1],d=bt[o+r];Bt>=Ut&&(i>>=2),s>Ot&&(s=Ot);do{if(bt[(e=t)+r]==d&&bt[e+r-1]==u&&bt[e]==bt[o]&&bt[++e]==bt[o+1]){o+=2,e++;do{}while(bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&bt[++o]==bt[++e]&&c>o);if(n=$-(c-o),o=c-$,n>r){if(Tt=t,r=n,n>=s)break;u=bt[o+r-1],d=bt[o+r]}}}while((t=65535&Ct[t&l])>a&&0!=--i);return Ot>=r?r:Ot}function ht(e){return e.total_in=e.total_out=0,e.msg=null,te.pending=0,te.pending_out=0,ft=G,mt=C,ee.dyn_tree=Wt,ee.stat_desc=n.static_l_desc,ne.dyn_tree=qt,ne.stat_desc=n.static_d_desc,ie.dyn_tree=Vt,ie.stat_desc=n.static_bl_desc,Kt=0,$t=0,Qt=8,t(),function(){var t;for(xt=2*vt,At[St-1]=0,t=0;St-1>t;t++)At[t]=0;zt=z[jt].max_lazy,Ut=z[jt].good_length,Ht=z[jt].nice_length,Mt=z[jt].max_chain,_t=0,kt=0,Ot=0,Lt=Bt=K-1,Nt=0,Dt=0}(),P}var pt,ft,gt,mt,vt,yt,wt,bt,xt,Ct,At,Dt,St,Pt,Ft,It,kt,Lt,Et,Nt,_t,Tt,Ot,Bt,Mt,zt,jt,Rt,Ut,Ht,Wt,qt,Vt,Gt,Yt,Jt,Zt,Xt,Qt,Kt,$t,te=this,ee=new e,ne=new e,ie=new e;te.depth=[],te.bl_count=[],te.heap=[],Wt=[],qt=[],Vt=[],te.pqdownheap=function(t,e){for(var n=te.heap,i=n[e],r=e<<1;r<=te.heap_len&&(r<te.heap_len&&o(t,n[r+1],n[r],te.depth)&&r++,!o(t,i,n[r],te.depth));)n[e]=n[r],e=r,r<<=1;n[e]=i},te.deflateInit=function(t,e,n,i,o,r){return i||(i=J),o||(o=T),r||(r=x),t.msg=null,e==y&&(e=6),1>o||o>_||i!=J||9>n||n>15||0>e||e>9||0>r||r>b?k:(t.dstate=te,wt=(vt=1<<(yt=n))-1,Ft=(St=1<<(Pt=o+7))-1,It=Math.floor((Pt+K-1)/K),bt=new Uint8Array(2*vt),Ct=[],At=[],Yt=1<<o+6,te.pending_buf=new Uint8Array(4*Yt),gt=4*Yt,Zt=Math.floor(Yt/2),Gt=3*Yt,jt=e,Rt=r,ht(t))},te.deflateEnd=function(){return ft!=V&&ft!=G&&ft!=Y?k:(te.pending_buf=null,At=null,Ct=null,bt=null,te.dstate=null,ft==G?L:P)},te.deflateParams=function(t,e,n){var i=P;return e==y&&(e=6),0>e||e>9||0>n||n>b?k:(z[jt].func!=z[e].func&&0!==t.total_in&&(i=t.deflate(A)),jt!=e&&(zt=z[jt=e].max_lazy,Ut=z[jt].good_length,Ht=z[jt].nice_length,Mt=z[jt].max_chain),Rt=n,i)},te.deflateSetDictionary=function(t,e,n){var i,o=n,r=0;if(!e||ft!=V)return k;if(K>o)return P;for(o>vt-tt&&(r=n-(o=vt-tt)),bt.set(e.subarray(r,r+o),0),_t=o,kt=o,Dt=((Dt=255&bt[0])<<It^255&bt[1])&Ft,i=0;o-K>=i;i++)Dt=(Dt<<It^255&bt[i+(K-1)])&Ft,Ct[i&wt]=At[Dt],At[Dt]=i;return P},te.deflate=function(t,e){var n,i,o,r,s;if(e>S||0>e)return k;if(!t.next_out||!t.next_in&&0!==t.avail_in||ft==Y&&e!=S)return t.msg=j[I-k],k;if(0===t.avail_out)return t.msg=j[I-E],E;if(pt=t,r=mt,mt=e,ft==V&&(i=J+(yt-8<<4)<<8,(o=(jt-1&255)>>1)>3&&(o=3),i|=o<<6,0!==_t&&(i|=q),ft=G,function(t){a(t>>8&255),a(255&t)}(i+=31-i%31)),0!==te.pending){if(pt.flush_pending(),0===pt.avail_out)return mt=-1,P}else if(0===pt.avail_in&&r>=e&&e!=S)return pt.msg=j[I-E],E;if(ft==Y&&0!==pt.avail_in)return t.msg=j[I-E],E;if(0!==pt.avail_in||0!==Ot||e!=C&&ft!=Y){switch(s=-1,z[jt].func){case O:s=function(t){var e,n=65535;for(n>gt-5&&(n=gt-5);;){if(1>=Ot){if(ut(),0===Ot&&t==C)return R;if(0===Ot)break}if(_t+=Ot,Ot=0,e=kt+n,(0===_t||_t>=e)&&(Ot=_t-e,_t=e,ct(!1),0===pt.avail_out))return R;if(_t-kt>=vt-tt&&(ct(!1),0===pt.avail_out))return R}return ct(t==S),0===pt.avail_out?t==S?H:R:t==S?W:U}(e);break;case B:s=function(t){for(var e,n=0;;){if(tt>Ot){if(ut(),tt>Ot&&t==C)return R;if(0===Ot)break}if(Ot>=K&&(Dt=(Dt<<It^255&bt[_t+(K-1)])&Ft,n=65535&At[Dt],Ct[_t&wt]=At[Dt],At[Dt]=_t),0!==n&&vt-tt>=(_t-n&65535)&&Rt!=b&&(Lt=dt(n)),Lt>=K)if(e=rt(_t-Tt,Lt-K),Ot-=Lt,zt>=Lt&&Ot>=K){Lt--;do{Dt=(Dt<<It^255&bt[++_t+(K-1)])&Ft,n=65535&At[Dt],Ct[_t&wt]=At[Dt],At[Dt]=_t}while(0!=--Lt);_t++}else _t+=Lt,Lt=0,Dt=((Dt=255&bt[_t])<<It^255&bt[_t+1])&Ft;else e=rt(0,255&bt[_t]),Ot--,_t++;if(e&&(ct(!1),0===pt.avail_out))return R}return ct(t==S),0===pt.avail_out?t==S?H:R:t==S?W:U}(e);break;case M:s=function(t){for(var e,n,i=0;;){if(tt>Ot){if(ut(),tt>Ot&&t==C)return R;if(0===Ot)break}if(Ot>=K&&(Dt=(Dt<<It^255&bt[_t+(K-1)])&Ft,i=65535&At[Dt],Ct[_t&wt]=At[Dt],At[Dt]=_t),Bt=Lt,Et=Tt,Lt=K-1,0!==i&&zt>Bt&&vt-tt>=(_t-i&65535)&&(Rt!=b&&(Lt=dt(i)),5>=Lt&&(Rt==w||Lt==K&&_t-Tt>4096)&&(Lt=K-1)),Bt>=K&&Bt>=Lt){n=_t+Ot-K,e=rt(_t-1-Et,Bt-K),Ot-=Bt-1,Bt-=2;do{++_t<=n&&(Dt=(Dt<<It^255&bt[_t+(K-1)])&Ft,i=65535&At[Dt],Ct[_t&wt]=At[Dt],At[Dt]=_t)}while(0!=--Bt);if(Nt=0,Lt=K-1,_t++,e&&(ct(!1),0===pt.avail_out))return R}else if(0!==Nt){if((e=rt(0,255&bt[_t-1]))&&ct(!1),_t++,Ot--,0===pt.avail_out)return R}else Nt=1,_t++,Ot--}return 0!==Nt&&(e=rt(0,255&bt[_t-1]),Nt=0),ct(t==S),0===pt.avail_out?t==S?H:R:t==S?W:U}(e)}if((s==H||s==W)&&(ft=Y),s==R||s==H)return 0===pt.avail_out&&(mt=-1),P;if(s==U){if(e==A)ot();else if(lt(0,0,!1),e==D)for(n=0;St>n;n++)At[n]=0;if(pt.flush_pending(),0===pt.avail_out)return mt=-1,P}}return e!=S?P:F}}function a(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var s=15,l=30,c=19,u=256,d=u+1+29,h=2*d+1,p=256,f=16,g=17,m=18,v=16,y=-1,w=1,b=2,x=0,C=0,A=1,D=3,S=4,P=0,F=1,I=2,k=-2,L=-3,E=-5,N=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return 256>t?N[t]:N[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,e.extra_lbits,u+1,d,s),n.static_d_desc=new n(n.static_dtree,e.extra_dbits,0,l,s),n.static_bl_desc=new n(null,e.extra_blbits,0,c,7);var _=9,T=8,O=0,B=1,M=2,z=[new i(0,0,0,0,O),new i(4,4,8,4,B),new i(4,5,16,8,B),new i(4,6,32,32,B),new i(4,4,16,16,M),new i(8,16,32,32,M),new i(8,16,128,128,M),new i(8,32,128,256,M),new i(32,128,258,1024,M),new i(32,258,258,4096,M)],j=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],R=0,U=1,H=2,W=3,q=32,V=42,G=113,Y=666,J=8,Z=0,X=1,Q=2,K=3,$=258,tt=$+K+1;a.prototype={deflateInit:function(t,e){var n=this;return n.dstate=new r,e||(e=s),n.dstate.deflateInit(n,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):k},deflateEnd:function(){var t=this;if(!t.dstate)return k;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var n=this;return n.dstate?n.dstate.deflateParams(n,t,e):k},deflateSetDictionary:function(t,e){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):k},read_buf:function(t,e,n){var i=this,o=i.avail_in;return o>n&&(o=n),0===o?0:(i.avail_in-=o,t.set(i.next_in.subarray(i.next_in_index,i.next_in_index+o),e),i.next_in_index+=o,i.total_in+=o,o)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var et=t.zip||t;et.Deflater=et._jzlib_Deflater=function(t){var e=new a,n=512,i=C,o=new Uint8Array(n),r=t?t.level:y;void 0===r&&(r=y),e.deflateInit(r),e.next_out=o,this.append=function(t,r){var a,s=[],l=0,c=0,u=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=n,e.deflate(i)!=P)throw new Error("deflating: "+e.msg);e.next_out_index&&s.push(e.next_out_index==n?new Uint8Array(o):new Uint8Array(o.subarray(0,e.next_out_index))),u+=e.next_out_index,r&&e.next_in_index>0&&e.next_in_index!=l&&(r(e.next_in_index),l=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return a=new Uint8Array(u),s.forEach(function(t){a.set(t,c),c+=t.length}),a}},this.flush=function(){var t,i,r=[],a=0,s=0;do{if(e.next_out_index=0,e.avail_out=n,(t=e.deflate(S))!=F&&t!=P)throw new Error("deflating: "+e.msg);n-e.avail_out>0&&r.push(new Uint8Array(o.subarray(0,e.next_out_index))),s+=e.next_out_index}while(e.avail_in>0||0===e.avail_out);return e.deflateEnd(),i=new Uint8Array(s),r.forEach(function(t){i.set(t,a),a+=t.length}),i}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(t){("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e,n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in n)t==i&&(t=n[i]);for(var o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<o.length;r++){var a=o[r].re,s=o[r].process,l=a.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}}(),function(t){var e="+".charCodeAt(0),n="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),r="A".charCodeAt(0),a="-".charCodeAt(0),s="_".charCodeAt(0),l=function(t){var l=t.charCodeAt(0);return l===e||l===a?62:l===n||l===s?63:i>l?-1:i+10>l?l-i+26+26:r+26>l?l-r:o+26>l?l-o+26:void 0};t.API.TTFFont=function(){function t(t,e){var n;if(this.rawData=t,n=this.contents=new u(t),this.contents.pos=4,"ttcf"===n.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}n.pos=0,this.parse(),this.subset=new k(this),this.registerTTF()}return t.open=function(e,n,i,o){var r;if("string"!=typeof i)throw new Error("Invalid argument supplied in TTFFont.open");return r=function(t){function e(t){s[u++]=t}var n,i,o,r,a,s;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;a="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,s=new Uint8Array(3*t.length/4-a),o=a>0?t.length-4:t.length;var u=0;for(n=0,i=0;o>n;n+=4,i+=3)e((16711680&(r=l(t.charAt(n))<<18|l(t.charAt(n+1))<<12|l(t.charAt(n+2))<<6|l(t.charAt(n+3))))>>16),e((65280&r)>>8),e(255&r);return 2===a?e(255&(r=l(t.charAt(n))<<2|l(t.charAt(n+1))>>4)):1===a&&(e((r=l(t.charAt(n))<<10|l(t.charAt(n+1))<<4|l(t.charAt(n+2))>>2)>>8&255),e(255&r)),s}(i),new t(r,n,o)},t.prototype.parse=function(){return this.directory=new d(this.contents),this.head=new f(this),this.name=new x(this),this.cmap=new m(this),this.toUnicode=new Map,this.hhea=new v(this),this.maxp=new C(this),this.hmtx=new A(this),this.post=new w(this),this.os2=new y(this),this.loca=new I(this),this.glyf=new S(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,i,o;for(o=[],e=0,n=(i=this.bbox).length;n>e;e++)t=i[e],o.push(Math.round(t*this.scaleFactor));return o}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),!0&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var i,o,r,a,s;for(r=0,o=a=0,s=(t=""+t).length;s>=0?s>a:a>s;o=s>=0?++a:--a)i=t.charCodeAt(o),r+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return r*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var c,u=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return 0>t&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return 0>t&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n,i;for(n=[],e=i=0;t>=0?t>i:i>t;e=t>=0?++i:--i)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,i,o;for(o=[],e=n=0,i=t.length;i>=0?i>n:n>i;e=i>=0?++n:--n)o.push(this.writeByte(t.charCodeAt(e)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,i,o,r,a,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^r)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*o+65536*r+256*a+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;t>=0?t>n:n>t;t>=0?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(this.writeByte(e));return o},t}(),d=function(){function t(t){var e,n,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,i=this.tableCount;i>=0?i>n:n>i;i>=0?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}var e;return t.prototype.encode=function(t){var n,i,o,r,a,s,l,c,d,h,p,f,g;for(g in p=Object.keys(t).length,s=Math.log(2),d=16*Math.floor(Math.log(p)/s),r=Math.floor(d/s),c=16*p-d,(i=new u).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(r),i.writeShort(c),o=16*p,l=i.pos+o,a=null,f=[],t)for(h=t[g],i.writeString(g),i.writeInt(e(h)),i.writeInt(l),i.writeInt(h.length),f=f.concat(h),"head"===g&&(a=l),l+=h.length;l%4;)f.push(0),l++;return i.write(f),n=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(n),i.data},e=function(t){var e,n,i,o;for(t=D.call(t);t.length%4;)t.push(0);for(n=new u(t),e=0,i=0,o=t.length;o>i;i+=4)e+=n.readUInt32();return 4294967295&e},t}(),h={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new u).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var n,i,o,r,a,s,l,c,u,d,h,p,f,g,m,v,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=m=0;256>m;s=++m)this.codeMap[s]=t.readByte();break;case 4:for(h=t.readUInt16(),d=h/2,t.pos+=6,o=function(){var e,n;for(n=[],s=e=0;d>=0?d>e:e>d;s=d>=0?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,f=function(){var e,n;for(n=[],s=e=0;d>=0?d>e:e>d;s=d>=0?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],s=e=0;d>=0?d>e:e>d;s=d>=0?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],s=e=0;d>=0?d>e:e>d;s=d>=0?++e:--e)n.push(t.readUInt16());return n}(),i=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],s=e=0;i>=0?i>e:e>i;s=i>=0?++e:--e)n.push(t.readUInt16());return n}(),s=v=0,w=o.length;w>v;s=++v)for(g=o[s],n=y=p=f[s];g>=p?g>=y:y>=g;n=g>=p?++y:--y)0===c[s]?r=n+l[s]:0!==(r=a[c[s]/2+(n-p)-(d-s)]||0)&&(r+=l[s]),this.codeMap[n]=65535&r}t.pos=u}return t.encode=function(t,e){var n,i,o,r,a,s,l,c,d,h,p,f,g,m,v,y,w,b,x,C,A,D,S,P,F,I,k,L,E,N,_,T,O,B,M,z,j,R,U,H,W,q,V,G,Y,J;switch(L=new u,r=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(g=0,m=function(){var t,e;for(e=[],f=t=0;256>t;f=++t)e.push(0);return e}(),y={0:0},o={},E=0,O=r.length;O>E;E++)null==y[V=t[i=r[E]]]&&(y[V]=++g),o[i]={old:t[i],new:y[t[i]]},m[i]=y[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(m),{charMap:o,subtable:L.data,maxGlyphID:g+1};case"unicode":for(I=[],d=[],w=0,y={},n={},v=l=null,N=0,B=r.length;B>N;N++)null==y[x=t[i=r[N]]]&&(y[x]=++w),n[i]={old:x,new:y[x]},a=y[x]-i,(null==v||a!==l)&&(v&&d.push(v),I.push(i),l=a),v=i;for(v&&d.push(v),d.push(65535),I.push(65535),P=2*(S=I.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,A=2*S-D,s=[],C=[],p=[],f=_=0,M=I.length;M>_;f=++_){if(F=I[f],c=d[f],65535===F){s.push(0),C.push(0);break}if(F-(k=n[F].new)>=32768)for(s.push(0),C.push(2*(p.length+S-f)),i=T=F;c>=F?c>=T:T>=c;i=c>=F?++T:--T)p.push(n[i].new);else s.push(k-F),C.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*S+2*p.length),L.writeUInt16(0),L.writeUInt16(P),L.writeUInt16(D),L.writeUInt16(h),L.writeUInt16(A),W=0,z=d.length;z>W;W++)i=d[W],L.writeUInt16(i);for(L.writeUInt16(0),q=0,j=I.length;j>q;q++)i=I[q],L.writeUInt16(i);for(G=0,R=s.length;R>G;G++)a=s[G],L.writeUInt16(a);for(Y=0,U=C.length;U>Y;Y++)b=C[Y],L.writeUInt16(b);for(J=0,H=p.length;H>J;J++)g=p[J],L.writeUInt16(g);return{charMap:n,subtable:L.data,maxGlyphID:w+1}}},t}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,i=0;n>=0?n>i:i>n;n>=0?++i:--i)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,i;return null==e&&(e="macroman"),n=g.encode(t,e),(i=new u).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="OS/2",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;10>e;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;4>e;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;2>e;++e)n.push(t.readInt());return n}(),this.version>1)?(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()):void 0},e}(),w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;n>=0?n>i:i>n;n>=0?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)e=t.readByte(),o.push(this.names.push(t.readString(e)));return o;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 196608:break;case 262144:return this.map=function(){var e,n,i;for(i=[],e=0,n=this.file.maxp.numGlyphs;n>=0?n>e:e>n;n>=0?++e:--e)i.push(t.readUInt32());return i}.call(this)}},e}(),b=function(){return function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID}}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,i,o,r,a,s,l,c,u,d,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],o=c=0;e>=0?e>c:c>e;o=e>=0?++c:--c)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},o=u=0,d=n.length;d>u;o=++u)i=n[o],t.pos=i.offset,l=t.readString(i.length),r=new b(l,i),null==s[h=i.nameID]&&(s[h]=[]),s[i.nameID].push(r);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),C=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,i,o,r,a,s;for(t.pos=this.offset,this.metrics=[],o=0,a=this.file.hhea.numberOfMetrics;a>=0?a>o:o>a;a>=0?++o:--o)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,i;for(i=[],e=0;n>=0?n>e:e>n;n>=0?++e:--e)i.push(t.readInt16());return i}(),this.widths=function(){var t,e,n,o;for(o=[],t=0,e=(n=this.metrics).length;e>t;t++)i=n[t],o.push(i.advance);return o}.call(this),e=this.widths[this.widths.length-1],s=[],r=0;n>=0?n>r:r>n;n>=0?++r:--r)s.push(this.widths.push(e));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),D=[].slice,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,i,o,r,a,s,l,c,d;return(t=t)in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,n=o.indexOf(t),0===(i=o.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,r=(a=new u(e.read(i))).readShort(),l=a.readShort(),d=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[t]=-1===r?new F(a,l,d,s,c):new P(a,r,l,d,s,c),this.cache[t]))},e.prototype.encode=function(t,e,n){var i,o,r,a,s;for(r=[],o=[],a=0,s=e.length;s>a;a++)i=t[e[a]],o.push(r.length),i&&(r=r.concat(i.encode(n)));return o.push(r.length),{table:r,offsets:o}},e}(),P=function(){function t(t,e,n,i,o,r){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=r,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),F=function(){function t(t,a,s,l,c){var u,d;for(this.raw=t,this.xMin=a,this.yMin=s,this.xMax=l,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readShort()),d&n;)u.pos+=d&e?4:2,d&r?u.pos+=8:d&i?u.pos+=4:d&o&&(u.pos+=2)}var e,n,i,o,r;return e=1,o=8,n=32,i=64,r=128,t.prototype.encode=function(){var t,e,n,i,o;for(e=new u(D.call(this.raw.data)),t=n=0,i=(o=this.glyphIDs).length;i>n;t=++n)o[t],e.pos=this.glyphOffsets[t];return e.data},t}(),I=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,c),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,n,i;for(i=[],e=0,n=this.length;n>e;e+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var e,n,i;for(i=[],e=0,n=this.length;n>e;e+=4)i.push(t.readUInt32());return i}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,r=0;r<n.length;++r)if(n[r]=i,o<e.length&&e[o]==r){++o,n[r]=i;var a=this.offsets[r],s=this.offsets[r+1]-a;s>0&&(i+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),k=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,i,o;for(e in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[e],t[e]=i[n];return t},t.prototype.glyphsFor=function(t){var e,n,i,o,r,a,s;for(i={},r=0,a=t.length;a>r;r++)i[o=t[r]]=this.font.glyf.glyphFor(o);for(o in e=[],i)(null!=(n=i[o])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(o in s=this.glyphsFor(e))n=s[o],i[o]=n;return i},t.prototype.encode=function(t,e){var n,i,o,r,a,s,l,c,u,d,h,p,f,g,v;for(i in n=m.encode(this.generateCmap(),"unicode"),r=this.glyphsFor(t),h={0:0},v=n.charMap)h[(s=v[i]).old]=s.new;for(p in d=n.maxGlyphID,r)p in h||(h[p]=d++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(h),u=Object.keys(c).sort(function(t,e){return t-e}),f=function(){var t,e,n;for(n=[],t=0,e=u.length;e>t;t++)a=u[t],n.push(c[a]);return n}(),o=this.font.glyf.encode(r,f,h),l=this.font.loca.encode(o.offsets,f),g={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){function t(){}var e;return e=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},t.convert=function(n){var i,o,r,a;if(Array.isArray(n))return"["+function(){var e,o,r;for(r=[],e=0,o=n.length;o>e;e++)i=n[e],r.push(t.convert(i));return r}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(o in r=["<<"],n)a=n[o],r.push("/"+o+" "+t.convert(a));return r.push(">>"),r.join("\n")}return""+n},t}()}(r),function(t){var e;e=function(){function e(t){var e,n,i,o,r,a,s,l,c,u,d,h,p,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;4>t;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),o=this.readUInt16()||100,a.delay=1e3*r/o,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,h=0;e>=0?e>h:h>e;e>=0?++h:--h)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((u=i-this.transparency.indexed.length)>0)for(p=0;u>=0?u>p:p>u;u>=0?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(d=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,d.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var n,i,o;e.load=function(t,n,i){var o;return"function"==typeof n&&(i=n),(o=new XMLHttpRequest).open("GET",t,!0),o.responseType="arraybuffer",o.onload=function(){var t;return t=new e(new Uint8Array(o.response||o.mozResponseArrayBuffer)),"function"==typeof(null!=n?n.getContext:void 0)&&t.render(n),"function"==typeof i?i(t):void 0},o.send(null)},e.prototype.read=function(t){var e,n;for(n=[],e=0;t>=0?t>e:e>t;t>=0?++e:--e)n.push(this.data[this.pos++]);return n},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(t){function e(e,a,s,l){var c,u,d,h,p,f,g,m,v,y,w,b,x,C,A,D,S,P,F,I,k,L=Math.ceil((r.width-e)/s),E=Math.ceil((r.height-a)/l),N=r.width==L&&r.height==E;for(C=n*L,b=N?i:new Uint8Array(C*E),f=t.length,x=0,u=0;E>x&&f>o;){switch(t[o++]){case 0:for(h=S=0;C>S;h=S+=1)b[u++]=t[o++];break;case 1:for(h=P=0;C>P;h=P+=1)c=t[o++],p=n>h?0:b[u-n],b[u++]=(c+p)%256;break;case 2:for(h=F=0;C>F;h=F+=1)c=t[o++],d=(h-h%n)/n,A=x&&b[(x-1)*C+d*n+h%n],b[u++]=(A+c)%256;break;case 3:for(h=I=0;C>I;h=I+=1)c=t[o++],d=(h-h%n)/n,p=n>h?0:b[u-n],A=x&&b[(x-1)*C+d*n+h%n],b[u++]=(c+Math.floor((p+A)/2))%256;break;case 4:for(h=k=0;C>k;h=k+=1)c=t[o++],d=(h-h%n)/n,p=n>h?0:b[u-n],0===x?A=D=0:(A=b[(x-1)*C+d*n+h%n],D=d&&b[(x-1)*C+(d-1)*n+h%n]),g=p+A-D,m=Math.abs(g-p),y=Math.abs(g-A),w=Math.abs(g-D),v=y>=m&&w>=m?p:w>=y?A:D,b[u++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+t[o-1])}if(!N){var _=((a+x*l)*r.width+e)*n,T=x*C;for(h=0;L>h;h+=1){for(var O=0;n>O;O+=1)i[_++]=b[T++];_+=(s-1)*n}}x++}}var n=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*n),o=0,r=this;return null==t&&(t=this.imgData),0===t.length?new Uint8Array(0):(t=(t=new l(t)).getBytes(),1==r.interlaceMethod?(e(0,0,8,8),e(4,0,8,8),e(0,4,4,8),e(2,0,4,4),e(0,2,2,4),e(1,0,2,2),e(0,1,1,2)):e(0,0,1,1),i)},e.prototype.decodePalette=function(){var t,e,n,i,o,r,a,s,l;for(n=this.palette,r=this.transparency.indexed||[],o=new Uint8Array((r.length||0)+n.length),i=0,n.length,t=0,e=a=0,s=n.length;s>a;e=a+=3)o[i++]=n[e],o[i++]=n[e+1],o[i++]=n[e+2],o[i++]=null!=(l=r[t++])?l:255;return o},e.prototype.copyToImageData=function(t,e){var n,i,o,r,a,s,l,c,u,d,h;if(i=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),i=4,n=!0),c=(o=t.data||t).length,a=u||e,r=s=0,1===i)for(;c>r;)l=u?4*e[r/4]:s,d=a[l++],o[r++]=d,o[r++]=d,o[r++]=d,o[r++]=n?a[l++]:255,s=l;else for(;c>r;)l=u?4*e[r/4]:s,o[r++]=a[l++],o[r++]=a[l++],o[r++]=a[l++],o[r++]=n?a[l++]:255,s=l},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{i=t.document.createElement("canvas"),o=i.getContext("2d")}catch(t){return-1}return n=function(t){var e;return o.width=t.width,o.height=t.height,o.clearRect(0,0,t.width,t.height),o.putImageData(t,0,0),(e=new Image).src=i.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,i,o,r,a,s,l,c;if(this.animation){for(c=[],i=a=0,s=(l=this.animation.frames).length;s>a;i=++a)e=l[i],o=t.createImageData(e.width,e.height),r=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(o,r),e.imageData=o,c.push(e.image=n(o));return c}},e.prototype.renderFrame=function(t,e){var n,i,o;return n=(i=this.animation.frames)[e],o=i[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=o?o.disposeOp:void 0)?t.clearRect(o.xOffset,o.yOffset,o.width,o.height):2===(null!=o?o.disposeOp:void 0)&&t.putImageData(o.imageData,o.xOffset,o.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},e.prototype.animate=function(t){var e,n,i,o,r,a,s=this;return n=0,a=this.animation,o=a.numFrames,i=a.frames,r=a.numPlays,(e=function(){var a,l;return a=n++%o,l=i[a],s.renderFrame(t,a),o>1&&r>n/o?s.animation._timeout=setTimeout(e,l.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},e}(),t.PNG=e}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var s=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(n>t)return e;for(var i=512;t>i;)i<<=1;for(var o=new Uint8Array(i),r=0;n>r;++r)o[r]=e[r];return this.buffer=o},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var i=t+e;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),l=function(){function t(t){throw new Error(t)}function e(e){var n=0,i=e[n++],o=e[n++];(-1==i||-1==o)&&t("Invalid header in flate stream"),8!=(15&i)&&t("Unknown compression method in flate stream"),((i<<8)+o)%31!=0&&t("Bad FCHECK in flate stream"),32&o&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,s.call(this)}if("undefined"!=typeof Uint32Array){var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(s.prototype),e.prototype.getBits=function(e){for(var n,i=this.codeSize,o=this.codeBuf,r=this.bytes,a=this.bytesPos;e>i;)void 0===(n=r[a++])&&t("Bad encoding in flate stream"),o|=n<<i,i+=8;return n=o&(1<<e)-1,this.codeBuf=o>>e,this.codeSize=i-=e,this.bytesPos=a,n},e.prototype.getCode=function(e){for(var n=e[0],i=e[1],o=this.codeSize,r=this.codeBuf,a=this.bytes,s=this.bytesPos;i>o;){var l;void 0===(l=a[s++])&&t("Bad encoding in flate stream"),r|=l<<o,o+=8}var c=n[r&(1<<i)-1],u=c>>16,d=65535&c;return(0==o||u>o||0==u)&&t("Bad encoding in flate stream"),this.codeBuf=r>>u,this.codeSize=o-u,this.bytesPos=s,d},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,i=0;e>i;++i)t[i]>n&&(n=t[i]);for(var o=1<<n,r=new Uint32Array(o),a=1,s=0,l=2;n>=a;++a,s<<=1,l<<=1)for(var c=0;e>c;++c)if(t[c]==a){var u=0,d=s;for(i=0;a>i;++i)u=u<<1|1&d,d>>=1;for(i=u;o>i;i+=l)r[i]=a<<16|c;++s}return[r,n]},e.prototype.readBlock=function(){function e(t,e,n,i,o){for(var r=t.getBits(n)+i;r-- >0;)e[f++]=o}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var l,c;if(1==s)l=r,c=a;else if(2==s){for(var u=this.getBits(5)+257,d=this.getBits(5)+1,h=this.getBits(4)+4,p=Array(n.length),f=0;h>f;)p[n[f++]]=this.getBits(3);for(var g=this.generateHuffmanTable(p),m=0,v=(f=0,u+d),y=new Array(v);v>f;){var w=this.getCode(g);16==w?e(this,y,2,3,m):17==w?e(this,y,3,3,m=0):18==w?e(this,y,7,11,m=0):y[f++]=m=w}l=this.generateHuffmanTable(y.slice(0,u)),c=this.generateHuffmanTable(y.slice(u,v))}else t("Unknown block type in flate stream");for(var b=(N=this.buffer)?N.length:0,x=this.bufferLength;;){var C=this.getCode(l);if(256>C)x+1>=b&&(b=(N=this.ensureBuffer(x+1)).length),N[x++]=C;else{if(256==C)return void(this.bufferLength=x);var A=(C=i[C-=257])>>16;A>0&&(A=this.getBits(A));m=(65535&C)+A;C=this.getCode(c),(A=(C=o[C])>>16)>0&&(A=this.getBits(A));var D=(65535&C)+A;x+m>=b&&(b=(N=this.ensureBuffer(x+m)).length);for(var S=0;m>S;++S,++x)N[x]=N[x-D]}}}else{var P,F=this.bytes,I=this.bytesPos;void 0===(P=F[I++])&&t("Bad block header in flate stream");var k=P;void 0===(P=F[I++])&&t("Bad block header in flate stream"),k|=P<<8,void 0===(P=F[I++])&&t("Bad block header in flate stream");var L=P;void 0===(P=F[I++])&&t("Bad block header in flate stream"),(L|=P<<8)!=(65535&~k)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var E=this.bufferLength,N=this.ensureBuffer(E+k),_=E+k;this.bufferLength=_;for(var T=E;_>T;++T){if(void 0===(P=F[I++])){this.eof=!0;break}N[T]=P}this.bytesPos=I}},e}}();window.tmp=l});try{module.exports=jsPDF}catch(t){}!function(){function t(t){this.mode=s.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;n>e;e++){var i=[],o=this.data.charCodeAt(e);o>65536?(i[0]=240|(1835008&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>128?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function i(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}function r(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var n=e.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(t=parseFloat(n[1]))}return t}function a(t,e){for(var n=1,i=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),o=0,r=p.length;r>=o;o++){var a=0;switch(e){case l.L:a=p[o][0];break;case l.M:a=p[o][1];break;case l.Q:a=p[o][2];break;case l.H:a=p[o][3]}if(a>=i)break;n++}if(n>p.length)throw new Error("Too long data");return n}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;n>e;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(this.modules[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;8>n;n++){this.makeImpl(!0,n);var i=u.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var r=1*o,a=0;a<this.modules[o].length;a++){var s=1*a;this.modules[o][a]&&(i.beginFill(0,100),i.moveTo(s,r),i.lineTo(s+1,r),i.lineTo(s+1,r+1),i.lineTo(s,r+1),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=u.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var r=-2;2>=r;r++)for(var a=-2;2>=a;a++)this.modules[i+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=u.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;18>n;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=u.getBCHTypeInfo(n),o=0;15>o;o++){var r=!t&&1==(i>>o&1);6>o?this.modules[o][8]=r:8>o?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;15>o;o++){r=!t&&1==(i>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=r:9>o?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[i][a-s]){var l=!1;r<t.length&&(l=1==(t[r]>>>o&1)),u.getMask(e,i,a-s)&&(l=!l),this.modules[i][a-s]=l,-1==--o&&(r++,o=7)}if(0>(i+=n)||this.moduleCount<=i){i-=n,n=-n;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,n,r){for(var a=i.getRSBlocks(t,n),s=new o,l=0;l<r.length;l++){var c=r[l];s.put(c.mode,4),s.put(c.getLength(),u.getLengthInBits(c.mode,t)),c.write(s)}var d=0;for(l=0;l<a.length;l++)d+=a[l].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d||(s.put(e.PAD0,8),s.getLengthInBits()>=8*d));)s.put(e.PAD1,8);return e.createBytes(s,a)},e.createBytes=function(t,e){for(var i=0,o=0,r=0,a=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,d=e[l].totalCount-c;o=Math.max(o,c),r=Math.max(r,d),a[l]=new Array(c);for(var h=0;h<a[l].length;h++)a[l][h]=255&t.buffer[h+i];i+=c;var p=u.getErrorCorrectPolynomial(d),f=new n(a[l],p.getLength()-1).mod(p);s[l]=new Array(p.getLength()-1);for(h=0;h<s[l].length;h++){var g=h+f.getLength()-s[l].length;s[l][h]=g>=0?f.get(g):0}}var m=0;for(h=0;h<e.length;h++)m+=e[h].totalCount;var v=new Array(m),y=0;for(h=0;o>h;h++)for(l=0;l<e.length;l++)h<a[l].length&&(v[y++]=a[l][h]);for(h=0;r>h;h++)for(l=0;l<e.length;l++)h<s[l].length&&(v[y++]=s[l][h]);return v};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;u.getBCHDigit(e)-u.getBCHDigit(u.G15)>=0;)e^=u.G15<<u.getBCHDigit(e)-u.getBCHDigit(u.G15);return(t<<10|e)^u.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;u.getBCHDigit(e)-u.getBCHDigit(u.G18)>=0;)e^=u.G18<<u.getBCHDigit(e)-u.getBCHDigit(u.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return u.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case c.PATTERN000:return(e+n)%2==0;case c.PATTERN001:return e%2==0;case c.PATTERN010:return n%3==0;case c.PATTERN011:return(e+n)%3==0;case c.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case c.PATTERN101:return e*n%2+e*n%3==0;case c.PATTERN110:return(e*n%2+e*n%3)%2==0;case c.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new n([1],0),i=0;t>i;i++)e=e.multiply(new n([1,d.gexp(i)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;e>i;i++)for(var o=0;e>o;o++){for(var r=0,a=t.isDark(i,o),s=-1;1>=s;s++)if(!(0>i+s||i+s>=e))for(var l=-1;1>=l;l++)0>o+l||o+l>=e||(0!=s||0!=l)&&a==t.isDark(i+s,o+l)&&r++;r>5&&(n+=3+r-5)}for(i=0;e-1>i;i++)for(o=0;e-1>o;o++){var c=0;t.isDark(i,o)&&c++,t.isDark(i+1,o)&&c++,t.isDark(i,o+1)&&c++,t.isDark(i+1,o+1)&&c++,(0==c||4==c)&&(n+=3)}for(i=0;e>i;i++)for(o=0;e-6>o;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(o=0;e>o;o++)for(i=0;e-6>i;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);var u=0;for(o=0;e>o;o++)for(i=0;e>i;i++)t.isDark(i,o)&&u++;return n+10*(Math.abs(100*u/e/e-50)/5)}},d={glog:function(t){if(1>t)throw new Error("glog("+t+")");return d.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return d.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)d.EXP_TABLE[h]=1<<h;for(h=8;256>h;h++)d.EXP_TABLE[h]=d.EXP_TABLE[h-4]^d.EXP_TABLE[h-5]^d.EXP_TABLE[h-6]^d.EXP_TABLE[h-8];for(h=0;255>h;h++)d.LOG_TABLE[d.EXP_TABLE[h]]=h;n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<t.getLength();o++)e[i+o]^=d.gexp(d.glog(this.get(i))+d.glog(t.get(o)));return new n(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=d.glog(this.get(0))-d.glog(t.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(o=0;o<t.getLength();o++)i[o]^=d.gexp(d.glog(t.get(o))+e);return new n(i,0).mod(t)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(t,e){var n=i.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=n.length/3,r=[],a=0;o>a;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;s>u;u++)r.push(new i(l,c));return r},i.getRsBlockTable=function(t,e){switch(e){case l.L:return i.RS_BLOCK_TABLE[4*(t-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(t-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(t-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},o.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;e>n;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],f=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n}var n=this._htOption,i=this._el,o=t.getModuleCount();Math.floor(n.width/o),Math.floor(n.height/o),this.clear();var r=e("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:n.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(r),r.appendChild(e("rect",{fill:n.colorLight,width:"100%",height:"100%"})),r.appendChild(e("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;o>a;a++)for(var s=0;o>s;s++)if(t.isDark(a,s)){var l=e("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(l)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),g="svg"===document.documentElement.tagName.toLowerCase()?f:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,i,o,r,a,s,l,c){if("nodeName"in t&&/img/i.test(t.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*e;else void 0===c&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);n.apply(this,arguments)}}var i=function(t,e){this._bIsPainted=!1,this._android=r(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(t){var e=this._elImage,n=this._oContext,i=this._htOption,o=t.getModuleCount(),r=i.width/o,a=i.height/o,s=Math.round(r),l=Math.round(a);e.style.display="none",this.clear();for(var c=0;o>c;c++)for(var u=0;o>u;u++){var d=t.isDark(c,u),h=u*r,p=c*a;n.strokeStyle=d?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=d?i.colorDark:i.colorLight,n.fillRect(h,p,r,a),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,s,l),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,s,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var i=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=o,i.onerror=o,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,t)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},i}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,i=t.getModuleCount(),o=Math.floor(e.width/i),r=Math.floor(e.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;i>s;s++){a.push("<tr>");for(var l=0;i>l;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+r+"px;background-color:"+(t.isDark(s,l)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],u=(e.width-c.offsetWidth)/2,d=(e.height-c.offsetHeight)/2;u>0&&d>0&&(c.style.margin=d+"px "+u+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();(QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(g=f),this._android=r(),this._el=t,this._oQRCode=null,this._oDrawing=new g(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(a(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(t){return t&&(0===t.offsetWidth||0===t.offsetHeight||!1===t.open)}function n(t){for(var n=[],i=t.parentNode;e(i);)n.push(i),i=i.parentNode;return n}function i(t,e){function i(t){void 0!==t.open&&(t.open=!t.open)}var o=n(t),r=o.length,a=[],s=t[e];if(r){for(var l=0;r>l;l++)a[l]=o[l].style.cssText,o[l].style.display="block",o[l].style.height="0",o[l].style.overflow="hidden",o[l].style.visibility="hidden",i(o[l]);s=t[e];for(var c=0;r>c;c++)o[c].style.cssText=a[c],i(o[c])}return s}function o(t,e){var n=parseFloat(t);return Number.isNaN(n)?e:n}function r(t){return t.charAt(0).toUpperCase()+t.substr(1)}function a(e,n){if(this.$window=t(window),this.$document=t(document),this.$element=t(e),this.options=t.extend({},u,n),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=d.orientation[this.orientation].dimension,this.DIRECTION=d.orientation[this.orientation].direction,this.DIRECTION_STYLE=d.orientation[this.orientation].directionStyle,this.COORDINATE=d.orientation[this.orientation].coordinate,this.polyfill&&c)return!1;this.identifier="js-"+s+"-"+l++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=t('<div class="'+this.options.fillClass+'" />'),this.$handle=t('<div class="'+this.options.handleClass+'" />'),this.$range=t('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var i=this;this.$window.on("resize."+this.identifier,function(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},e),t.lastReturnVal}}(function(){!function(t,e){var n=Array.prototype.slice.call(arguments,2);setTimeout(function(){return t.apply(null,n)},e)}(function(){i.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(t,e){if(!e||e.origin!==i.identifier){var n=t.target.value,o=i.getPositionFromValue(n);i.setPosition(o)}})}Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t};var s="rangeslider",l=0,c=function(){var t=document.createElement("input");return t.setAttribute("type","range"),"text"!==t.type}(),u={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},d={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};a.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},a.prototype.update=function(t,e){(t=t||!1)&&(this.min=o(this.$element[0].getAttribute("min"),0),this.max=o(this.$element[0].getAttribute("max"),100),this.value=o(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=o(this.$element[0].getAttribute("step"),1)),this.handleDimension=i(this.$handle[0],"offset"+r(this.DIMENSION)),this.rangeDimension=i(this.$range[0],"offset"+r(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,e)},a.prototype.handleDown=function(t){if(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var e=this.getRelativePosition(t),n=this.$range[0].getBoundingClientRect()[this.DIRECTION],i=this.getPositionFromNode(this.$handle[0])-n,o="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(o),e>=i&&e<i+this.handleDimension&&(this.grabPos=e-i)}},a.prototype.handleMove=function(t){t.preventDefault();var e=this.getRelativePosition(t),n="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(n)},a.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},a.prototype.cap=function(t,e,n){return e>t?e:t>n?n:t},a.prototype.setPosition=function(t,e){var n,i;void 0===e&&(e=!0),n=this.getValueFromPosition(this.cap(t,0,this.maxHandlePos)),i=this.getPositionFromValue(n),this.$fill[0].style[this.DIMENSION]=i+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=i+"px",this.setValue(n),this.position=i,this.value=n,e&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(i,n)},a.prototype.getPositionFromNode=function(t){for(var e=0;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e},a.prototype.getRelativePosition=function(t){var e=r(this.COORDINATE),n=this.$range[0].getBoundingClientRect()[this.DIRECTION],i=0;return void 0!==t["page"+e]?i=t["client"+e]:void 0!==t.originalEvent["client"+e]?i=t.originalEvent["client"+e]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0]["client"+e]?i=t.originalEvent.touches[0]["client"+e]:t.currentPoint&&void 0!==t.currentPoint[this.COORDINATE]&&(i=t.currentPoint[this.COORDINATE]),i-n},a.prototype.getPositionFromValue=function(t){var e;return e=(t-this.min)/(this.max-this.min),Number.isNaN(e)?0:e*this.maxHandlePos},a.prototype.getValueFromPosition=function(t){var e,n;return e=t/(this.maxHandlePos||1),n=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min,Number(n.toFixed(this.toFixed))},a.prototype.setValue=function(t){(t!==this.value||""===this.$element[0].value)&&this.$element.val(t).trigger("input",{origin:this.identifier})},a.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+s),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},t.fn[s]=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),o=i.data("plugin_"+s);o||i.data("plugin_"+s,o=new a(this,e)),"string"==typeof e&&o[e].apply(o,n)})}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,i,o){for(var r=[],a=0;a<e.length;a++){var s=e[a];if(s){var l=tinycolor(s),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,s)?" sp-thumb-active":"";var u=l.toString(o.preferredFormat||"rgb"),d=p?"background-color:"+l.toRgbString():"filter:"+l.toFilter();r.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{r.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+r.join("")+"</div>"}function i(e,n){var i=t.extend({},u,e);return i.callbacks={move:s(i.move,n),change:s(i.change,n),show:s(i.show,n),hide:s(i.hide,n),beforeShow:s(i.beforeShow,n)},i}function o(o,r){function s(){if(B.showPaletteOnly&&(B.showPalette=!0),Ft.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),B.palette){nt=B.palette.slice(0),it=t.isArray(nt[0])?nt:[nt],ot={};for(var e=0;e<it.length;e++)for(var n=0;n<it[e].length;n++){var i=tinycolor(it[e][n]).toRgbString();ot[i]=!0}}ht.toggleClass("sp-flat",M),ht.toggleClass("sp-input-disabled",!B.showInput),ht.toggleClass("sp-alpha-enabled",B.showAlpha),ht.toggleClass("sp-clear-enabled",Rt),ht.toggleClass("sp-buttons-disabled",!B.showButtons),ht.toggleClass("sp-palette-buttons-disabled",!B.togglePaletteOnly),ht.toggleClass("sp-palette-disabled",!B.showPalette),ht.toggleClass("sp-palette-only",B.showPaletteOnly),ht.toggleClass("sp-initial-disabled",!B.showInitial),ht.addClass(B.className).addClass(B.containerClassName),T()}function u(){if(j&&window.localStorage){try{var e=window.localStorage[j].split(",#");e.length>1&&(delete window.localStorage[j],t.each(e,function(t,e){m(e)}))}catch(t){}try{rt=window.localStorage[j].split(";")}catch(t){}}}function m(e){if(z){var n=tinycolor(e).toRgbString();if(!ot[n]&&-1===t.inArray(n,rt))for(rt.push(n);rt.length>at;)rt.shift();if(j&&window.localStorage)try{window.localStorage[j]=rt.join(";")}catch(t){}}}function v(){var e=k(),i=t.map(it,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,B)});u(),rt&&i.push(n(function(){var t=[];if(B.showPalette)for(var e=0;e<rt.length;e++){var n=tinycolor(rt[e]).toRgbString();ot[n]||t.push(rt[e])}return t.reverse().slice(0,B.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",B)),Ct.html(i.join(""))}function y(){if(B.showInitial){var t=Ot,e=k();At.html(n([t,e],e,"sp-palette-row-initial",B))}}function w(){(0>=G||0>=V||0>=J)&&T(),q=!0,ht.addClass(st),lt=null,ut.trigger("dragstart.spectrum",[k()])}function b(){q=!1,ht.removeClass(st),ut.trigger("dragstop.spectrum",[k()])}function x(){var t=xt.val();if(null!==t&&""!==t||!Rt){var e=tinycolor(t);e.isValid()?(I(e),_(!0)):xt.addClass("sp-validation-error")}else I(null),_(!0)}function C(){W?P():A()}function A(){var e=t.Event("beforeShow.spectrum");return W?void T():(ut.trigger(e,[k()]),void(!1===U.beforeShow(k())||e.isDefaultPrevented()||(function(){for(var t=0;t<d.length;t++)d[t]&&d[t].hide()}(),W=!0,t(ct).bind("keydown.spectrum",D),t(ct).bind("click.spectrum",S),t(window).bind("resize.spectrum",H),Et.addClass("sp-active"),ht.removeClass("sp-hidden"),T(),E(),Ot=k(),y(),U.show(Ot),ut.trigger("show.spectrum",[Ot]))))}function D(t){27===t.keyCode&&P()}function S(t){2!=t.button&&(q||(zt?_(!0):F(),P()))}function P(){W&&!M&&(W=!1,t(ct).unbind("keydown.spectrum",D),t(ct).unbind("click.spectrum",S),t(window).unbind("resize.spectrum",H),Et.removeClass("sp-active"),ht.addClass("sp-hidden"),U.hide(k()),ut.trigger("hide.spectrum",[k()]))}function F(){I(Ot,!0)}function I(t,e){var n,i;tinycolor.equals(t,k())?E():(!t&&Rt?jt=!0:(jt=!1,i=(n=tinycolor(t)).toHsv(),K=i.h%360/360,$=i.s,tt=i.v,et=i.a),E(),n&&n.isValid()&&!e&&(Mt=Bt||n.getFormat()))}function k(t){return t=t||{},Rt&&jt?null:tinycolor.fromRatio({h:K,s:$,v:tt,a:Math.round(100*et)/100},{format:t.format||Mt})}function L(){E(),U.move(k()),ut.trigger("move.spectrum",[k()])}function E(){xt.removeClass("sp-validation-error"),N();var t=tinycolor.fromRatio({h:K,s:1,v:1});ft.css("background-color",t.toHexString());var e=Mt;1>et&&(0!==et||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=k({format:e}),i="";if(_t.removeClass("sp-clear-display"),_t.css("background-color","transparent"),!n&&Rt)_t.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(p||1===n.alpha?_t.css("background-color",r):(_t.css("background-color","transparent"),_t.css("filter",n.toFilter())),B.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+o+")";h?yt.css("filter",tinycolor(s).toFilter({gradientType:1},o)):(yt.css("background","-webkit-"+l),yt.css("background","-moz-"+l),yt.css("background","-ms-"+l),yt.css("background","linear-gradient(to right, "+s+", "+o+")"))}i=n.toString(e)}B.showInput&&xt.val(i),B.showPalette&&v(),y()}function N(){var t=$,e=tt;if(Rt&&jt)bt.hide(),vt.hide(),gt.hide();else{bt.show(),vt.show(),gt.show();var n=t*V,i=G-e*G;n=Math.max(-Y,Math.min(V-Y,n-Y)),i=Math.max(-Y,Math.min(G-Y,i-Y)),gt.css({top:i+"px",left:n+"px"});var o=et*Z;bt.css({left:o-X/2+"px"});var r=K*J;vt.css({top:r-Q+"px"})}}function _(t){var e=k(),n="",i=!tinycolor.equals(e,Ot);e&&(n=e.toString(Mt),m(e)),It&&ut.val(n),t&&i&&(U.change(e),ut.trigger("change",[e]))}function T(){V=ft.width(),G=ft.height(),Y=gt.height(),mt.width(),J=mt.height(),Q=vt.height(),Z=wt.width(),X=bt.width(),M||(ht.css("position","absolute"),ht.offset(B.offset?B.offset:function(e,n){var i=e.outerWidth(),o=e.outerHeight(),r=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,l=s.clientWidth+t(a).scrollLeft(),c=s.clientHeight+t(a).scrollTop(),u=n.offset();return u.top+=r,u.left-=Math.min(u.left,u.left+i>l&&l>i?Math.abs(u.left+i-l):0),u.top-=Math.min(u.top,u.top+o>c&&c>o?Math.abs(o+r-0):0),u}(ht,Nt))),N(),B.showPalette&&v(),ut.trigger("reflow.spectrum")}function O(){P(),dt=!0,ut.attr("disabled",!0),Nt.addClass("sp-disabled")}var B=i(r,o),M=B.flat,z=B.showSelectionPalette,j=B.localStorageKey,R=B.theme,U=B.callbacks,H=function(t,e,n){var i;return function(){var o=this,r=arguments;n&&clearTimeout(i),(n||!i)&&(i=setTimeout(function(){i=null,t.apply(o,r)},e))}}(T,10),W=!1,q=!1,V=0,G=0,Y=0,J=0,Z=0,X=0,Q=0,K=0,$=0,tt=0,et=1,nt=[],it=[],ot={},rt=B.selectionPalette.slice(0),at=B.maxSelectionSize,st="sp-dragging",lt=null,ct=o.ownerDocument,ut=(ct.body,t(o)),dt=!1,ht=t(g,ct).addClass(R),pt=ht.find(".sp-picker-container"),ft=ht.find(".sp-color"),gt=ht.find(".sp-dragger"),mt=ht.find(".sp-hue"),vt=ht.find(".sp-slider"),yt=ht.find(".sp-alpha-inner"),wt=ht.find(".sp-alpha"),bt=ht.find(".sp-alpha-handle"),xt=ht.find(".sp-input"),Ct=ht.find(".sp-palette"),At=ht.find(".sp-initial"),Dt=ht.find(".sp-cancel"),St=ht.find(".sp-clear"),Pt=ht.find(".sp-choose"),Ft=ht.find(".sp-palette-toggle"),It=ut.is("input"),kt=It&&"color"===ut.attr("type")&&c(),Lt=It&&!M,Et=Lt?t(f).addClass(R).addClass(B.className).addClass(B.replacerClassName):t([]),Nt=Lt?Et:ut,_t=Et.find(".sp-preview-inner"),Tt=B.color||It&&ut.val(),Ot=!1,Bt=B.preferredFormat,Mt=Bt,zt=!B.showButtons||B.clickoutFiresChange,jt=!Tt,Rt=B.allowEmpty&&!kt;!function(){function e(e){return e.data&&e.data.ignore?(I(t(e.target).closest(".sp-thumb-el").data("color")),L()):(I(t(e.target).closest(".sp-thumb-el").data("color")),L(),_(!0),B.hideAfterPaletteSelect&&P()),!1}if(h&&ht.find("*:not(input)").attr("unselectable","on"),s(),Lt&&ut.after(Et).hide(),Rt||St.hide(),M)ut.after(ht).hide();else{var n="parent"===B.appendTo?ut.parent():t(B.appendTo);1!==n.length&&(n=t("body")),n.append(ht)}u(),Nt.bind("click.spectrum touchstart.spectrum",function(e){dt||C(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(ut.is(":disabled")||!0===B.disabled)&&O(),ht.click(a),xt.change(x),xt.bind("paste",function(){setTimeout(x,1)}),xt.keydown(function(t){13==t.keyCode&&x()}),Dt.text(B.cancelText),Dt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),F(),P()}),St.attr("title",B.clearText),St.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),jt=!0,L(),M&&_(!0)}),Pt.text(B.chooseText),Pt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),h&&xt.is(":focus")&&xt.trigger("change"),!xt.hasClass("sp-validation-error")&&(_(!0),P())}),Ft.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),Ft.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),B.showPaletteOnly=!B.showPaletteOnly,B.showPaletteOnly||M||ht.css("left","-="+(pt.outerWidth(!0)+5)),s()}),l(wt,function(t,e,n){et=t/Z,jt=!1,n.shiftKey&&(et=Math.round(10*et)/10),L()},w,b),l(mt,function(t,e){K=parseFloat(e/J),jt=!1,B.showAlpha||(et=1),L()},w,b),l(ft,function(t,e,n){if(n.shiftKey){if(!lt){var i=$*V,o=G-tt*G,r=Math.abs(t-i)>Math.abs(e-o);lt=r?"x":"y"}}else lt=null;var a=!lt||"y"===lt;(!lt||"x"===lt)&&($=parseFloat(t/V)),a&&(tt=parseFloat((G-e)/G)),jt=!1,B.showAlpha||(et=1),L()},w,b),Tt?(I(Tt),E(),Mt=Bt||tinycolor(Tt).format,m(Tt)):E(),M&&A();var i=h?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ct.delegate(".sp-thumb-el",i,e),At.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}();var Ut={show:A,hide:P,toggle:C,reflow:T,option:function(n,i){return n===e?t.extend({},B):i===e?B[n]:(B[n]=i,void s())},enable:function(){dt=!1,ut.attr("disabled",!1),Nt.removeClass("sp-disabled")},disable:O,offset:function(t){B.offset=t,T()},set:function(t){I(t),_()},get:k,destroy:function(){ut.show(),Nt.unbind("click.spectrum touchstart.spectrum"),ht.remove(),Et.remove(),d[Ut.id]=null},container:ht};return Ut.id=d.push(Ut)-1,Ut}function r(){}function a(t){t.stopPropagation()}function s(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function l(e,n,i,o){function r(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(t){if(c){if(h&&l.documentMode<9&&!t.button)return s();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,a=i&&i.pageY||t.pageY,g=Math.max(0,Math.min(o-u.left,p)),m=Math.max(0,Math.min(a-u.top,d));f&&r(t),n.apply(e,[g,m,t])}}function s(){c&&(t(l).unbind(g),t(l.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),c=!1}n=n||function(){},i=i||function(){},o=o||function(){};var l=document,c=!1,u={},d=0,p=0,f="ontouchstart"in window,g={};g.selectstart=r,g.dragstart=r,g["touchmove mousemove"]=a,g["touchend mouseup"]=s,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||c||!1!==i.apply(e,arguments)&&(c=!0,d=t(e).height(),p=t(e).width(),u=t(e).offset(),t(l).bind(g),t(l.body).addClass("sp-dragging"),a(n),r(n))})}function c(){return t.fn.spectrum.inputTypeColorSupport()}var u={beforeShow:r,move:r,change:r,show:r,hide:r,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},d=[],h=!!/msie/i.exec(window.navigator.userAgent),p=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),f=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),g=function(){var t="";if(h)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),m="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=d[t(this).data(m)];if(o){var r=o[e];if(!r)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=o.get():"container"==e?n=o.container:"option"==e?n=o.option.apply(o,i):"destroy"==e?(o.destroy(),t(this).removeData(m)):r.apply(o,i)}}),n}return this.spectrum("destroy").each(function(){var n=o(this,t.extend({},e,t(this).data()));t(this).data(m,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=l,t.fn.spectrum.defaults=u,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!c()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var e={r:0,g:0,b:0},n=1,i=!1,o=!1;return"string"==typeof t&&(t=function(t){t=t.replace(P,"").replace(F,"").toLowerCase();var e,n=!1;if(O[t])t=O[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=M.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=M.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=M.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=M.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=M.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=M.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=M.hex8.exec(t))?{a:S(e[1]),r:x(e[2]),g:x(e[3]),b:x(e[4]),format:n?"name":"hex8"}:(e=M.hex6.exec(t))?{r:x(e[1]),g:x(e[2]),b:x(e[3]),format:n?"name":"hex"}:!!(e=M.hex3.exec(t))&&{r:x(e[1]+""+e[1]),g:x(e[2]+""+e[2]),b:x(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=function(t,e,n){return{r:255*w(t,255),g:255*w(e,255),b:255*w(n,255)}}(t.r,t.g,t.b),i=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=A(t.s),t.v=A(t.v),e=function(t,e,n){t=6*w(t,360),e=w(e,100),n=w(n,100);var i=k.floor(t),o=t-i,r=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),l=i%6;return{r:255*[n,a,r,r,s,n][l],g:255*[s,n,n,a,r,r][l],b:255*[r,r,s,n,n,a][l]}}(t.h,t.s,t.v),i=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=A(t.s),t.l=A(t.l),e=function(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var o,r,a;if(t=w(t,360),e=w(e,100),n=w(n,100),0===e)o=r=a=n;else{var s=.5>n?n*(1+e):n+e-n*e,l=2*n-s;o=i(l,s,t+1/3),r=i(l,s,t),a=i(l,s,t-1/3)}return{r:255*o,g:255*r,b:255*a}}(t.h,t.s,t.l),i=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=y(n),{ok:i,format:t.format||o,r:E(255,N(e.r,0)),g:E(255,N(e.g,0)),b:E(255,N(e.b,0)),a:n}}function e(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,o,r=N(t,e,n),a=E(t,e,n),s=(r+a)/2;if(r==a)i=o=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:s}}function n(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,o,r=N(t,e,n),a=E(t,e,n),s=r,l=r-a;if(o=0===r?0:l/r,r==a)i=0;else{switch(r){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:s}}function i(t,e,n,i){var o=[C(L(t).toString(16)),C(L(e).toString(16)),C(L(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function o(t,e,n,i){return[C(D(i)),C(L(t).toString(16)),C(L(e).toString(16)),C(L(n).toString(16))].join("")}function r(t,e){e=0===e?0:e||10;var n=T(t).toHsl();return n.s-=e/100,n.s=b(n.s),T(n)}function a(t,e){e=0===e?0:e||10;var n=T(t).toHsl();return n.s+=e/100,n.s=b(n.s),T(n)}function s(t){return T(t).desaturate(100)}function l(t,e){e=0===e?0:e||10;var n=T(t).toHsl();return n.l+=e/100,n.l=b(n.l),T(n)}function c(t,e){e=0===e?0:e||10;var n=T(t).toRgb();return n.r=N(0,E(255,n.r-L(-e/100*255))),n.g=N(0,E(255,n.g-L(-e/100*255))),n.b=N(0,E(255,n.b-L(-e/100*255))),T(n)}function u(t,e){e=0===e?0:e||10;var n=T(t).toHsl();return n.l-=e/100,n.l=b(n.l),T(n)}function d(t,e){var n=T(t).toHsl(),i=(L(n.h)+e)%360;return n.h=0>i?360+i:i,T(n)}function h(t){var e=T(t).toHsl();return e.h=(e.h+180)%360,T(e)}function p(t){var e=T(t).toHsl(),n=e.h;return[T(t),T({h:(n+120)%360,s:e.s,l:e.l}),T({h:(n+240)%360,s:e.s,l:e.l})]}function f(t){var e=T(t).toHsl(),n=e.h;return[T(t),T({h:(n+90)%360,s:e.s,l:e.l}),T({h:(n+180)%360,s:e.s,l:e.l}),T({h:(n+270)%360,s:e.s,l:e.l})]}function g(t){var e=T(t).toHsl(),n=e.h;return[T(t),T({h:(n+72)%360,s:e.s,l:e.l}),T({h:(n+216)%360,s:e.s,l:e.l})]}function m(t,e,n){e=e||6,n=n||30;var i=T(t).toHsl(),o=360/n,r=[T(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,r.push(T(i));return r}function v(t,e){e=e||6;for(var n=T(t).toHsv(),i=n.h,o=n.s,r=n.v,a=[],s=1/e;e--;)a.push(T({h:i,s:o,v:r})),r=(r+s)%1;return a}function y(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function w(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=E(e,N(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),k.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function b(t){return E(1,N(0,t))}function x(t){return parseInt(t,16)}function C(t){return 1==t.length?"0"+t:""+t}function A(t){return 1>=t&&(t=100*t+"%"),t}function D(t){return Math.round(255*parseFloat(t)).toString(16)}function S(t){return x(t)/255}var P=/^[\s,#]+/,F=/\s+$/,I=0,k=Math,L=k.round,E=k.min,N=k.max,_=k.random,T=function(e,n){if(n=n||{},(e=e||"")instanceof T)return e;if(!(this instanceof T))return new T(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=L(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=i.ok,this._tc_id=I++};T.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=y(t),this._roundA=L(100*this._a)/100,this},toHsv:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=n(this._r,this._g,this._b),e=L(360*t.h),i=L(100*t.s),o=L(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+o+"%)":"hsva("+e+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=e(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=e(this._r,this._g,this._b),n=L(360*t.h),i=L(100*t.s),o=L(100*t.l);return 1==this._a?"hsl("+n+", "+i+"%, "+o+"%)":"hsla("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return i(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return o(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*w(this._r,255))+"%",g:L(100*w(this._g,255))+"%",b:L(100*w(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*w(this._r,255))+"%, "+L(100*w(this._g,255))+"%, "+L(100*w(this._b,255))+"%)":"rgba("+L(100*w(this._r,255))+"%, "+L(100*w(this._g,255))+"%, "+L(100*w(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(B[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+o(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=T(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(c,arguments)},darken:function(){return this._applyModification(u,arguments)},desaturate:function(){return this._applyModification(r,arguments)},saturate:function(){return this._applyModification(a,arguments)},greyscale:function(){return this._applyModification(s,arguments)},spin:function(){return this._applyModification(d,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(m,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(g,arguments)},triad:function(){return this._applyCombination(p,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},T.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:A(t[i]));t=n}return T(t,e)},T.equals=function(t,e){return!(!t||!e)&&T(t).toRgbString()==T(e).toRgbString()},T.random=function(){return T.fromRatio({r:_(),g:_(),b:_()})},T.mix=function(t,e,n){n=0===n?0:n||50;var i,o=T(t).toRgb(),r=T(e).toRgb(),a=n/100,s=2*a-1,l=r.a-o.a,c=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:r.r*i+o.r*c,g:r.g*i+o.g*c,b:r.b*i+o.b*c,a:r.a*a+o.a*(1-a)};return T(u)},T.readability=function(t,e){var n=T(t),i=T(e),o=n.toRgb(),r=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},T.isReadable=function(t,e){var n=T.readability(t,e);return n.brightness>125&&n.color>500},T.mostReadable=function(t,e){for(var n=null,i=0,o=!1,r=0;r<e.length;r++){var a=T.readability(t,e[r]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!o||s&&o&&l>i||!s&&!o&&l>i)&&(o=s,i=l,n=T(e[r]))}return n};var O=T.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=T.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(O),M=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=T}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),function(){function t(t){return t.call.apply(t.bind,arguments)}function e(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function n(){return(n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e).apply(null,arguments)}function i(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function o(t,e,n,i){if(e=t.c.createElement(e),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return i&&e.appendChild(t.c.createTextNode(i)),e}function r(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function a(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,a=0;a<i.length;a+=1)if(e[o]===i[a]){r=!0;break}r||i.push(e[o])}for(e=[],o=0;o<i.length;o+=1){for(r=!1,a=0;a<n.length;a+=1)if(i[o]===n[a]){r=!0;break}r||e.push(i[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var n=t.className.split(/\s+/),i=0,o=n.length;o>i;i++)if(n[i]==e)return!0;return!1}function c(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function u(t,e,n){function i(){c&&a&&s&&(c(l),c=null)}e=o(t,"link",{rel:"stylesheet",href:e,media:"all"});var a=!1,s=!0,l=null,c=n||null;Z?(e.onload=function(){a=!0,i()},e.onerror=function(){a=!0,l=Error("Stylesheet failed to load"),i()}):setTimeout(function(){a=!0,i()},0),r(t,"head",e)}function d(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var a=o(t,"script",{src:e}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&r.removeChild(a))},r.appendChild(a),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},i||5e3),a}return null}function h(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,g(t)}}function f(t,e){t.c=e,g(t)}function g(t){0==t.a&&t.c&&(t.c(),t.c=null)}function m(t){this.a=t||"-"}function v(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function y(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");e.push(-1!=i.indexOf(" ")||/^\d/.test(i)?"'"+i+"'":i)}return e.join(",")}function w(t){return t.a+t.f}function b(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function x(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function C(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new m("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function A(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),s(t.f,n,i)}D(t,"inactive")}function D(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,w(n)):t.h[e]())}function S(){this.c={}}function P(t,e){this.c=t,this.f=e,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function F(t){r(t.c,"body",t.a)}function I(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+y(t.c)+";font-style:"+b(t)+";font-weight:"+t.f+"00;"}function k(t,e,n,i,o,r){this.g=t,this.j=e,this.a=i,this.c=n,this.f=o||3e3,this.h=r||void 0}function L(t,e,n,i,o,r,a){this.v=t,this.B=e,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.o=this.j=this.h=this.g=null,this.g=new P(this.c,this.s),this.h=new P(this.c,this.s),this.j=new P(this.c,this.s),this.o=new P(this.c,this.s),t=I(t=new v(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=I(t=new v(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=I(t=new v("serif",w(this.a))),this.j.a.style.cssText=t,t=I(t=new v("sans-serif",w(this.a))),this.o.a.style.cssText=t,F(this.g),F(this.h),F(this.j),F(this.o)}function E(){if(null===Q){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Q=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return Q}function N(t,e,n){for(var i in X)if(X.hasOwnProperty(i)&&e===t.f[X[i]]&&n===t.f[X[i]])return!0;return!1}function _(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=E()&&N(t,n,i)),e?J()-t.A>=t.w?E()&&N(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?O(t,t.v):O(t,t.B):T(t):O(t,t.v)}function T(t){setTimeout(n(function(){_(this)},t),50)}function O(t,e){setTimeout(n(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.o.a),e(this.a)},t),0)}function B(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}function M(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&s(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),D(t,"active")):A(t.a))}function z(t){this.j=t,this.a=new S,this.h=0,this.f=this.g=!0}function j(t,e,i,o,r){var a=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,l=o||{};if(0===i.length&&a)A(e.a);else{e.f+=i.length,a&&(e.j=a);var c,u=[];for(c=0;c<i.length;c++){var d=i[c],h=l[d.c],p=e.a,f=d;if(p.g&&s(p.f,[p.a.c("wf",f.c,w(f).toString(),"loading")]),D(p,"fontloading",f),p=null,null===K)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);K=f?42<parseInt(f[1],10):!g}else K=!1;p=K?new k(n(e.g,e),n(e.h,e),e.c,d,e.s,h):new L(n(e.g,e),n(e.h,e),e.c,d,e.s,t,h),u.push(p)}for(c=0;c<u.length;c++)u[c].start()}},0)}function R(t,e,n){var i=[],o=n.timeout;!function(t){t.g&&s(t.f,[t.a.c("wf","loading")]),D(t,"loading")}(e);i=function(t,e,n){var i,o=[];for(i in e)if(e.hasOwnProperty(i)){var r=t.c[i];r&&o.push(r(e[i],n))}return o}(t.a,n,t.c);var r=new B(t.c,e,o);for(t.h=i.length,e=0,n=i.length;n>e;e++)i[e].load(function(e,n,i){j(t,r,e,n,i)})}function U(t,e){this.c=t,this.a=e}function H(t,e){this.c=t,this.a=e}function W(t,e,n){this.c=t||e+$,this.a=[],this.f=[],this.g=n||""}function q(t){this.f=t,this.a=[],this.c={}}function V(t,e){this.c=t,this.a=e}function G(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t,this.f=e,this.a=[]}var J=Date.now||function(){return+new Date},Z=!!window.FontFace;m.prototype.c=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},k.prototype.start=function(){var t=this.c.m.document,e=this,n=J(),i=new Promise(function(i,o){!function r(){J()-n>=e.f?o():t.fonts.load(function(t){return b(t)+" "+t.f+"00 300px "+y(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(r,25)},function(){o()})}()}),o=new Promise(function(t,n){setTimeout(n,e.f)});Promise.race([o,i]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var X={D:"serif",C:"sans-serif"},Q=null;L.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=J(),_(this)};var K=null;B.prototype.g=function(t){var e=this.a;e.g&&s(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),D(e,"fontactive",t),this.o=!0,M(this)},B.prototype.h=function(t){var e=this.a;if(e.g){var n=l(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),i=[],o=[e.a.c("wf",t.c,w(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),s(e.f,i,o)}D(e,"fontinactive",t),M(this)},z.prototype.load=function(t){this.c=new i(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,R(this,new C(this.c,t),t)},U.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var o=e.c.m;d(this.c,function(t,e,n){return c(t.c)+"//"+(t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""))+"/"+e+".js"+(n?"?v="+n:"")}(e,n,i),function(i){i?t([]):(o["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(o["__mti_fntLst"+n]){var i,r=o["__mti_fntLst"+n](),a=[];if(r)for(var s=0;s<r.length;s++){var l=r[s].fontfamily;null!=r[s].fontStyle&&null!=r[s].fontWeight?(i=r[s].fontStyle+r[s].fontWeight,a.push(new v(l,i))):a.push(new v(l))}t(a)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},H.prototype.load=function(t){var e,n,i=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},a=new h;for(e=0,n=i.length;n>e;e++)u(this.c,i[e],p(a));var s=[];for(e=0,n=o.length;n>e;e++)if((i=o[e].split(":"))[1])for(var l=i[1].split(","),c=0;c<l.length;c+=1)s.push(new v(i[0],l[c]));else s.push(new v(i[0]));f(a,function(){t(s,r)})};var $="//fonts.googleapis.com/css",tt={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},et={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},nt={i:"i",italic:"i",n:"n",normal:"n"},it=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ot={Arimo:!0,Cousine:!0,Tinos:!0};V.prototype.load=function(t){var e=new h,n=this.c,i=new W(this.a.api,c(n),this.a.text),o=this.a.families;!function(t,e){for(var n=e.length,i=0;n>i;i++){var o=e[i].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(i,o);var r=new q(o);(function(t){for(var e=t.f.length,n=0;e>n;n++){var i=t.f[n].split(":"),o=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var a;if(a=[],s=i[1])for(var s,l=(s=s.split(",")).length,c=0;l>c;c++){var u;if((u=s[c]).match(/^[\w-]+$/))if(null==(h=it.exec(u.toLowerCase())))u="";else{if(u=null==(u=h[2])||""==u?"n":nt[u],null==(h=h[1])||""==h)h="4";else var d=et[h],h=d||(isNaN(h)?"4":h.substr(0,1));u=[u,h].join("")}else u="";u&&a.push(u)}0<a.length&&(r=a),3==i.length&&(a=[],0<(i=(i=i[2])?i.split(","):a).length&&(i=tt[i[0]])&&(t.c[o]=i))}for(t.c[o]||(i=tt[o])&&(t.c[o]=i),i=0;i<r.length;i+=1)t.a.push(new v(o,r[i]))}})(r),u(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;e>i;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),p(e)),f(e,function(){t(r.a,r.c,ot)})},G.prototype.load=function(t){var e=this.a.id,n=this.c.m;e?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],o=0;o<e.length;o+=2)for(var r=e[o],a=e[o+1],s=0;s<a.length;s++)i.push(new v(r,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},Y.prototype.load=function(t){var e=this.f.id,n=this.c.m,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var o=0,r=n.fonts.length;r>o;++o){var a=n.fonts[o];i.a.push(new v(a.name,x("font-weight:"+a.weight+";font-style:"+a.style)))}t(i.a)},d(this.c,c(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+function(t){return t.m.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var rt=new z(window);rt.a.c.custom=function(t,e){return new H(e,t)},rt.a.c.fontdeck=function(t,e){return new Y(e,t)},rt.a.c.monotype=function(t,e){return new U(e,t)},rt.a.c.typekit=function(t,e){return new G(e,t)},rt.a.c.google=function(t,e){return new V(e,t)};var at={load:n(rt.load,rt)};"function"==typeof define&&define.amd?define(function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:(window.WebFont=at,window.WebFontConfig&&rt.load(window.WebFontConfig))}();